{"config":{"lang":["hu"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"T\u00e1rgy ismertet\u0151","text":"<p>A t\u00e1rgyk\u00f6vetelm\u00e9nyeket l\u00e1sd a hivatalos tant\u00e1rgyi adatlapon.</p> <p>A laborok sorrendj\u00e9t \u00e9s a bead\u00e1sok hat\u00e1ridej\u00e9t Moodle-ben tal\u00e1lod.</p>"},{"location":"#laborok-megoldasainak-beadasa","title":"Laborok megold\u00e1sainak bead\u00e1sa","text":"<p>Minden labor megold\u00e1s\u00e1t egy szem\u00e9lyre sz\u00f3l\u00f3 git repository-ban kell beadni. Ennek pontos folyamat\u00e1t l\u00e1sd itt. K\u00e9r\u00fcnk, hogy alaposan olvasd v\u00e9gig a le\u00edr\u00e1st!</p> <p>FONTOS</p> <p>A laborok elk\u00e9sz\u00edt\u00e9se \u00e9s bead\u00e1sa sor\u00e1n az itt le\u00edrtak szerint kell elj\u00e1rnod. A nem ilyen form\u00e1ban beadott megold\u00e1sokat nem \u00e9rt\u00e9kelj\u00fck.</p> <p>A bead\u00e1s sor\u00e1n a munkafolyamati hib\u00e1k\u00e9rt (pl. nem megfelel\u0151 emberhez hozz\u00e1rendel\u00e9se, hozz\u00e1rendel\u00e9s elfelejt\u00e9se) pontot vonunk le.</p>"},{"location":"#kepernyokepek","title":"K\u00e9perny\u0151k\u00e9pek","text":"<p>A laborok k\u00e9rik, hogy k\u00e9sz\u00edts k\u00e9perny\u0151k\u00e9pet a megold\u00e1s egy-egy r\u00e9sz\u00e9r\u0151l. Ez k\u00fcl\u00f6n\u00f6sen akkor fontos, ha a feladatot otthon k\u00e9sz\u00edted el, mert ezzel bizony\u00edtod, hogy a megold\u00e1sod saj\u00e1t magad k\u00e9sz\u00edtetted. A k\u00e9perny\u0151k\u00e9pek elv\u00e1rt tartalm\u00e1t a feladat minden esetben pontosan megnevezi. A k\u00e9perny\u0151k\u00e9p k\u00e9sz\u00fclhet a teljes desktopr\u00f3l is, de lehet csak a k\u00e9rt alkalmaz\u00e1sr\u00f3l k\u00e9sz\u00edteni.</p> <p>A k\u00e9perny\u0151k\u00e9peket a megold\u00e1s r\u00e9szek\u00e9nt kell beadni, \u00edgy felker\u00fclnek a git repository tartalm\u00e1val egy\u00fctt. Mivel a repository priv\u00e1t, azt az oktat\u00f3kon k\u00edv\u00fcl m\u00e1s nem l\u00e1tja. Amennyiben olyan tartalom ker\u00fcl a k\u00e9perny\u0151k\u00e9pre, amit nem szeretn\u00e9l felt\u00f6lteni, kitakarhatod a k\u00e9pr\u0151l.</p>"},{"location":"#ertekeles","title":"\u00c9rt\u00e9kel\u00e9s","text":"<p>Minden labort k\u00fcl\u00f6n jeggyel \u00e9rt\u00e9kel\u00fcnk. A teljes\u00edt\u00e9s felt\u00e9tele a hat\u00e1rid\u0151ig t\u00f6rt\u00e9n\u0151 bead\u00e1s. A jegy (1-5 sk\u00e1l\u00e1n) a labor feladatokon megszerezhet\u0151 20 pont alapj\u00e1n az al\u00e1bbiak szerint alakul:</p> <ul> <li>0-7.5 pont: el\u00e9gtelen</li> <li>8-10.5 pont: el\u00e9gs\u00e9ges</li> <li>11-13.5 pont: k\u00f6zepes</li> <li>14-16.5 pont: j\u00f3</li> <li>17-20 pont: jeles</li> </ul> <p>Az iMsc feladat megold\u00e1sa opcion\u00e1lis, a t\u00f6bbi feladat \u00e9rt\u00e9kel\u00e9s\u00e9be nem sz\u00e1m\u00edt bele. Egy iMsc feladat sikeres megold\u00e1s\u00e1val 3 iMsc pont szerezhet\u0151. A pont csak jeles eredm\u00e9ny eset\u00e9n kaphat\u00f3 meg.</p> <p>A f\u00e9l\u00e9v v\u00e9gi jegy a laborokra kapott (1-5 sk\u00e1l\u00e1j\u00fa) oszt\u00e1lyzatok matematikailag kerek\u00edtett sz\u00e1mtani \u00e1tlaga. Hi\u00e1nyz\u00e1s, nem p\u00f3tolt labor, hat\u00e1rid\u0151ig nem leadott megold\u00e1s el\u00e9gtelennel sz\u00e1m\u00edt\u00f3dik az \u00e1tlagba.</p> <p>A feladatok ki\u00e9rt\u00e9kel\u00e9se egyes laborok eset\u00e9n r\u00e9szben automatikusan t\u00f6rt\u00e9nik. A futtathat\u00f3 k\u00f3dokat val\u00f3ban le fogjuk futtatni, ez\u00e9rt minden esetben fontos a feladatle\u00edr\u00e1sok pontos k\u00f6vet\u00e9se (kiindul\u00f3 k\u00f3d v\u00e1z haszn\u00e1lata, csak a megengedett f\u00e1jlok v\u00e1ltoztat\u00e1sa, stb.)!</p> <p>A ki\u00e9rt\u00e9kel\u00e9s eredm\u00e9ny\u00e9r\u0151l a GitHub-on kapsz sz\u00f6veges visszajelz\u00e9st (l\u00e1sd itt). Ha enn\u00e9l t\u00f6bb inform\u00e1ci\u00f3ra van sz\u00fcks\u00e9ged, a GitHub Actions webes fel\u00fclete seg\u00edts\u00e9g\u00fcl szolg\u00e1lhat. Err\u0151l itt tal\u00e1lsz egy r\u00f6vid ismertet\u0151t.</p>"},{"location":"#elvarasaink-a-munkaval-kapcsolatban","title":"Elv\u00e1r\u00e1saink a munk\u00e1val kapcsolatban","text":"<p>Hova kell felt\u00f6lteni a megold\u00e1st? Fentebb megtal\u00e1lod a le\u00edr\u00e1st.</p> <p>Egy\u00e9ni munka? Otthoni munka? Mivel a laborokra jegyet kapsz, elv\u00e1r\u00e1s, hogy mindenki saj\u00e1t megold\u00e1st k\u00e9sz\u00edtsen el \u00e9s adjon be. Ez nem z\u00e1rja ki az egym\u00e1snak ny\u00fajtott seg\u00edts\u00e9get. Kiz\u00e1rja viszont m\u00e1s megold\u00e1s\u00e1nak lem\u00e1sol\u00e1s\u00e1t. Ez\u00e9rt k\u00e9rj\u00fck a k\u00e9perny\u0151k\u00e9peket, mert \u00edgy a munka folyamat\u00e1val bizony\u00edtod a megold\u00e1s saj\u00e1t elk\u00e9sz\u00edt\u00e9s\u00e9t.</p> <p>M\u00e1s munk\u00e1j\u00e1nak lem\u00e1sol\u00e1sa: A BME etikai k\u00f3dexe \u00e9s a TVSZ szab\u00e1lyozza. Komolyan vessz\u00fck.</p> <p>Egy labor csak 4 \u00f3ra, nem? Nem. A t\u00e1rgy 3 kredit, amely a f\u00e9l\u00e9v sor\u00e1n megk\u00f6zel\u00edt\u0151leg 90 munka\u00f3ra befektet\u00e9s\u00e9t ig\u00e9nyli. A labor teh\u00e1t nem csak a teremben elt\u00f6lt\u00f6tt 4 \u00f3ra, hanem az el\u0151zetes felk\u00e9sz\u00fcl\u00e9s \u00e9s a feladat befejez\u00e9se / otthoni elv\u00e9gz\u00e9se is.</p> <p>Egy apr\u00f3 el\u00edr\u00e1s miatt nem m\u0171k\u00f6d\u00f6tt a k\u00f3dom, \u00e9s nem \u00e9rt\u00e9kelt\u00e9tek. A laborok sor\u00e1n m\u0171k\u00f6d\u0151 programot, k\u00f3dot, k\u00f3dr\u00e9szletet kell k\u00e9sz\u00edteni. Az\u00e9rt sz\u00e1m\u00edt\u00f3g\u00e9p laborban vagy otthon k\u00e9sz\u00edtj\u00fck a feladatot, mert \u00edgy tudod magad ellen\u0151rizni. Minimum elv\u00e1r\u00e1s, hogy a beadott k\u00f3d leforduljon, lefusson. Ha a viselked\u00e9s nem teljesen helyes, azt \u00e9rt\u00e9kelj\u00fck. De ha egy\u00e1ltal\u00e1n nem m\u0171k\u00f6dik, nem \u00e9rt\u00e9kelj\u00fck a megold\u00e1st.</p> <p>Az\u00e9rt \u00edgy tesz\u00fcnk, mert m\u00e9rn\u00f6kk\u00e9nt a feladatod a probl\u00e9m\u00e1k megold\u00e1sa lesz, \u00e9s nem csak egy k\u00eds\u00e9rlet a megold\u00e1sra. Mit gondolsz, ha a munkahelyeden a f\u0151n\u00f6k\u00f6dnek \u00e1tadsz egy nem fordul\u00f3 k\u00f3dot, mit fog tenni?</p> <p>Ha otthonr\u00f3l k\u00e9sz\u00edtem el a megold\u00e1st, hogyan kapok seg\u00edts\u00e9get? Ak\u00e1r otthonr\u00f3l dolgozol, ak\u00e1r egyetemi laborban, egy laborvezet\u0151h\u00f6z tartozol. \u0150 felel nem csak a kontakt\u00f3ra megtart\u00e1s\u00e1\u00e9rt, hanem az\u00e9rt is, hogy a f\u00e9l\u00e9v k\u00f6zben a feladatok bead\u00e1sa \u00e9s ellen\u0151rz\u00e9se rendben t\u00f6rt\u00e9njen.</p> <p>Nem seg\u00edt a laborvezet\u0151. Mi\u00e9rt? Dehogynem seg\u00edt. Viszont ha egyb\u0151l megmondan\u00e1 a megold\u00e1st, csak azt tanuln\u00e1d meg, hogy legk\u00f6zelebb is meg kell k\u00e9rdezni. Pr\u00f3b\u00e1ld magad megoldani, mutass alternat\u00edv\u00e1kat, k\u00e9rdezz konkr\u00e9tan. Mutasd meg, hogy professzion\u00e1lis a hozz\u00e1\u00e1ll\u00e1sod.</p> <p>Akkor mit k\u00e9rdezhetek meg a laborvezet\u0151t\u0151l? R\u00f6viden: https://stackoverflow.com/help/how-to-ask. Hosszabban: Ha valamivel elakadsz, \u00e9rtsd meg a probl\u00e9m\u00e1t. A probl\u00e9ma nem az, hogy \"nem m\u0171k\u00f6dik\" vagy \"nem tudom, hogyan csin\u00e1ljam\". Akkor tudsz j\u00f3l k\u00e9rdezni, ha m\u00e1r k\u00f6r\u00fclj\u00e1rtad a probl\u00e9m\u00e1t, \u00e9s azt is meg tudod mutatni, mivel pr\u00f3b\u00e1lkozt\u00e1l m\u00e1r.</p> <p>Sz\u00f3val Google \u00e9s StackOverflow a megold\u00e1s? Nem. Minden tud\u00e1s, amire sz\u00fcks\u00e9ged van, m\u00e1r el\u0151fordult egyetemi tanulm\u00e1nyaid sor\u00e1n. A Google j\u00f3, a StackOverflow m\u00e9g jobb.... De! A v\u00e1laszt is meg kell \u00e9rteni. Lehet, hogy a megtal\u00e1lt v\u00e1lasz megold\u00e1s, csak \u00e9pp nem a te probl\u00e9m\u00e1dra.</p> <p>Sok a hat\u00e1rid\u0151, meg az el\u0151\u00edr\u00e1s. Ez n\u00e9z\u0151pont k\u00e9rd\u00e9se. A m\u00e9rn\u00f6k nem csak programozni tud, hanem meghat\u00e1rozott keretek k\u00f6z\u00f6tt dolgozni. Mert a vil\u00e1g bonyolult, \u00e9s a bonyolults\u00e1got szab\u00e1lyokkal lehet kord\u00e1ban tartani. Ha id\u0151d engedi, \u00e9rdemes megn\u00e9zni, mit mond Robert C. Martin (Bob Martin, \"Uncle Bob\") arr\u00f3l, honnan sz\u00e1rmazik a szoftverfejleszt\u0151i szakmai: https://www.youtube.com/watch?v=ecIWPzGEbFc</p> <p>Jav\u00edt\u00e1s az anyagban</p> <p>A t\u00e1rgy hallgat\u00f3inak az anyagban t\u00f6rt\u00e9n\u0151 jav\u00edt\u00e1s\u00e9rt, kieg\u00e9sz\u00edt\u00e9s\u00e9rt plusz pontot adunk! Ha hib\u00e1t tal\u00e1lsz, vagy kieg\u00e9sz\u00edten\u00e9d/pontos\u00edtan\u00e1d a feladatle\u00edr\u00e1sokat, nyiss egy pull request-et! A repository linkj\u00e9t a jobb fels\u0151 sarokban tal\u00e1lod.</p> <p>Felhaszn\u00e1l\u00e1si felt\u00e9telek</p> <p>Az itt tal\u00e1lhat\u00f3 oktat\u00e1si seg\u00e9danyagok a BMEVIAUAC09 t\u00e1rgy hallgat\u00f3inak k\u00e9sz\u00fcltek. Az anyagok oly m\u00f3d\u00fa felhaszn\u00e1l\u00e1sa, amely a t\u00e1rgy oktat\u00e1s\u00e1hoz nem szorosan kapcsol\u00f3dik, csak a szerz\u0151(k) \u00e9s a forr\u00e1s megjel\u00f6l\u00e9s\u00e9vel t\u00f6rt\u00e9nhet.</p> <p>Az anyagok a t\u00e1rgy keret\u00e9ben oktatott kontextusban \u00e9rtelmezhet\u0151ek. Az anyagok\u00e9rt egy\u00e9b felhaszn\u00e1l\u00e1s eset\u00e9n a szerz\u0151(k) felel\u0151ss\u00e9get nem v\u00e1llalnak.</p>"},{"location":"GitHub-Actions/","title":"GitHub Actions ismertet\u0151","text":"<p>A laborfeladatok ki\u00e9rt\u00e9kel\u00e9s\u00e9ben a GitHub Actions-re t\u00e1maszkodunk. Seg\u00edts\u00e9g\u00e9vel a git repository-kon m\u0171veleteket \u00e9s programokat tudunk futtatni. Ilyen m\u0171velet p\u00e9ld\u00e1ul a C# k\u00f3d leford\u00edt\u00e1sa, vagy a beadott k\u00f3d tesztel\u00e9se.</p> <p>A lefutott ki\u00e9rt\u00e9kel\u00e9sr\u0151l a pull request-ben fogsz \u00e9rtes\u00edt\u00e9st kapni. Ha meg szeretn\u00e9d n\u00e9zni r\u00e9szletesebben a h\u00e1tt\u00e9rben t\u00f6rt\u00e9nteket, vagy p\u00e9ld\u00e1ul az alkalmaz\u00e1s napl\u00f3kat, a GitHub fel\u00fclet\u00e9n az Actions alatt indulhatsz el.</p> <p></p> <p>Az Actions fel\u00fclet\u00e9n un. Workflow-kat l\u00e1tsz; minden egyes ki\u00e9rt\u00e9kel\u00e9s futtat\u00e1s egy-egy elem lesz itt (teh\u00e1t historikusan is visszakereshet\u0151ek).</p> <p></p> <p>Ezek k\u00f6z\u00fcl egyet kiv\u00e1lasztva (pl. a legfels\u0151 mindig a legutols\u00f3) l\u00e1thatod a workflow fut\u00e1s\u00e1nak r\u00e9szleteit. A fut\u00e1s napl\u00f3j\u00e1hoz a bal oldali list\u00e1ban m\u00e9g kattintani kell egyet. Jobb oldalon l\u00e1that\u00f3 a folyamat teljes napl\u00f3ja.</p> <p></p> <p>Minden z\u00f6ld pipa egy-egy sikeres l\u00e9p\u00e9st jelent. Ezen l\u00e9p\u00e9sek nem azonosak a feladatokokkal, hanem a ki\u00e9rt\u00e9kel\u00e9s folyamat\u00e1nak l\u00e9p\u00e9sei lesznek. Ilyen l\u00e9p\u00e9s p\u00e9ld\u00e1ul a k\u00f6rnyezet el\u0151k\u00e9sz\u00edt\u00e9se, pl. a .NET SDK telep\u00edt\u00e9se (minden ki\u00e9rt\u00e9kel\u00e9s egy vadi\u00faj k\u00f6rnyezetben indul, \u00edgy mindent el\u0151 kell k\u00e9sz\u00edteni).</p> <p>Alapvet\u0151en a l\u00e9p\u00e9sek mindig sikeresek, akkor is, ha a megold\u00e1sodban hiba van, mert a ki\u00e9rt\u00e9kel\u00e9s erre fel van k\u00e9sz\u00edtve. Kiv\u00e9telt ez al\u00f3l csak a <code>neptun.txt</code> hi\u00e1nya ill. a C# k\u00f3d leford\u00edt\u00e1sa jelent. El\u0151bbi felt\u00e9tlen\u00fcl sz\u00fcks\u00e9ges, ez\u00e9rt semmilyen folyamatot nem hajtunk v\u00e9gre n\u00e9lk\u00fcle. Ut\u00f3bbi eset\u00e9ben a C# k\u00f3d ford\u00edt\u00e1sa szint\u00e9n sz\u00fcks\u00e9ges a tov\u00e1bbl\u00e9p\u00e9shez, ez\u00e9rt sikertelens\u00e9g eset\u00e9n le\u00e1ll a folyamat.</p> <p>N\u00e9ha el\u0151fordulhat azonban tranziens, id\u0151szakos hiba is. P\u00e9ld\u00e1ul a .NET k\u00f6rnyezet let\u00f6lt\u00e9se nem siker\u00fcl h\u00e1l\u00f3zati hiba miatt. Ilyen esetben a futtat\u00e1st k\u00e9zzel meg lehet ism\u00e9telni. Ez persze csak akkor seg\u00edt, ha t\u00e9nyleg \u00e1tmeneti hib\u00e1r\u00f3l van sz\u00f3, teh\u00e1t pl. egy C# ford\u00edt\u00e1si hib\u00e1n nem fog seg\u00edteni. (Ezt a hiba\u00fczenetb\u0151l illetve a l\u00e9p\u00e9s nev\u00e9b\u0151l tudod kider\u00edteni, vagy legal\u00e1bb is megtippelni kell\u0151 bizonyoss\u00e1ggal.)</p> <p></p> <p>A feladat f\u00fcggv\u00e9ny\u00e9ben ak\u00e1r az alkalmaz\u00e1s napl\u00f3kat is meg tudod n\u00e9zni itt. Pl. amikor .NET alkalmaz\u00e1st k\u00e9sz\u00edtesz, az alkalmaz\u00e1st elind\u00edtjuk, \u00e9s minden, amit napl\u00f3z, itt megtekinthet\u0151.</p> <p>Az al\u00e1bbi p\u00e9ld\u00e1ul egy Entity Framework-\u00f6t haszn\u00e1l\u00f3 alkalmaz\u00e1s inicializ\u00e1s\u00e1t mutatja, k\u00f6zt\u00fck p\u00e9ld\u00e1ul a kiadott SQL parancsokat is. Debuggol\u00e1s k\u00f6zben a Visual Studio Output ablak\u00e1ban is hasonl\u00f3kat l\u00e1thatsz. Ez term\u00e9szetesen nagyban f\u00fcgg a konkr\u00e9t feladatt\u00f3l.</p> <p></p>"},{"location":"GitHub-credentials/","title":"Egyetemi laborokban: GitHub bel\u00e9p\u00e9s","text":"<p>Az egyetemi laborokban a g\u00e9pek megjegyzik a GitHub bel\u00e9p\u00e9si adatokat. Ezt a munka v\u00e9gezt\u00e9vel k\u00e9zzel kell t\u00f6r\u00f6lni.</p> <ol> <li>Nyisd meg a <code>Credential Manager</code>-t a Start men\u00fcb\u0151l.</li> <li>A <code>Windows Credentials</code> oldalon keresd meg a GitHubra mutat\u00f3 bejegyz\u00e9seket, \u00e9s t\u00f6r\u00f6ld \u0151ket.    </li> </ol>"},{"location":"GitHub/","title":"Feladatok bead\u00e1sa (GitHub)","text":"<p>A feladatok bead\u00e1s\u00e1hoz a GitHub platformot haszn\u00e1ljuk. Minden labor bead\u00e1sa egy-egy GitHub repository-ban t\u00f6rt\u00e9nik, melyet a feladatle\u00edr\u00e1sban tal\u00e1lhat\u00f3 linken kereszt\u00fcl kapsz meg. A labor feladatainak megold\u00e1s\u00e1t ezen repository-ban kell elk\u00e9sz\u00edtened, \u00e9s ide kell felt\u00f6ltened. A k\u00e9sz megold\u00e1s bead\u00e1sa a repository-ba val\u00f3 felt\u00f6lt\u00e9s ut\u00e1n egy un. pull request form\u00e1j\u00e1ban t\u00f6rt\u00e9nik, amelyet a laborvezet\u0151dh\u00f6z rendelsz.</p> <p>FONTOS</p> <p>Az itt le\u00edrt formai el\u0151\u00edr\u00e1sok betart\u00e1sa elv\u00e1r\u00e1s. A nem ilyen form\u00e1ban beadott megold\u00e1sokat nem \u00e9rt\u00e9kelj\u00fck.</p>"},{"location":"GitHub/#roviditett-verzio","title":"R\u00f6vid\u00edtett verzi\u00f3","text":"<p>Al\u00e1bb r\u00e9szletesen bemutatjuk a bead\u00e1s menet\u00e9t. Itt egy r\u00f6vid \u00f6sszefoglal\u00f3 az \u00e1ttekint\u00e9shez, illetve a helyes bead\u00e1s ellen\u0151rz\u00e9s\u00e9hez.</p> <ol> <li> <p>A munk\u00e1dat Moodle-ben tal\u00e1lhat\u00f3 GitHub Classroom megh\u00edv\u00f3 linken kereszt\u00fcl l\u00e9trehozott GitHub repository-ban kell elk\u00e9sz\u00edtsd.</p> </li> <li> <p>A megold\u00e1shoz k\u00e9sz\u00edts egy k\u00fcl\u00f6n \u00e1gat, ne a master-en dolgozz. Erre az \u00e1gra ak\u00e1rh\u00e1ny kommitot tehetsz. Mindenk\u00e9ppen pushold a megold\u00e1st.</p> </li> <li> <p>A bead\u00e1st egy pull request jelzi, amely pull request-et a laborvezet\u0151dh\u00f6z kell rendelned.</p> </li> <li> <p>Ha az eredm\u00e9nnyel vagy \u00e9rt\u00e9kel\u00e9ssel kapcsolatban k\u00e9rd\u00e9sed van, pull request kommentben k\u00e9rdezhetsz. A laborvezet\u0151 \u00e9rtes\u00edt\u00e9s\u00e9hez haszn\u00e1ld a <code>@n\u00e9v</code> c\u00edmz\u00e9st a komment sz\u00f6veg\u00e9ben.</p> </li> </ol>"},{"location":"GitHub/#a-munka-elkezdese-git-checkout","title":"A munka elkezd\u00e9se: git checkout","text":"<ol> <li> <p>Regisztr\u00e1lj egy GitHub accountot, ha m\u00e9g nincs.</p> </li> <li> <p>Moodle-ben a kurzus oldal\u00e1n keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-t. Ez minden laborhoz m\u00e1s lesz, \u00fcgyelj r\u00e1, hogy a megfelel\u0151 linket haszn\u00e1ld.</p> </li> <li> <p>Ha k\u00e9ri, adj enged\u00e9lyt a GitHub Classroom alkalmaz\u00e1snak, hogy haszn\u00e1lja az account adataidat.</p> <p></p> </li> <li> <p>L\u00e1tni fogsz egy oldalt, ahol elfogadhatod a feladatot (\"Accept the ... assignment\"). Kattints a gombra.</p> <p></p> </li> <li> <p>V\u00e1rd meg, am\u00edg elk\u00e9sz\u00fcl a repository. A repository linkj\u00e9t itt kapod meg.</p> <p>Megjegyz\u00e9s</p> <p>A repository priv\u00e1t lesz, azaz az senki nem l\u00e1tja, csak te, \u00e9s az oktat\u00f3k.</p> <p></p> </li> <li> <p>Nyisd meg a repository-t a webes fel\u00fcleten a linkre kattintva. Ezt az URL-t \u00edrd fel, vagy mentsd el.</p> <p></p> </li> <li> <p>Kl\u00f3nozd le a repository-t. Ehhez sz\u00fcks\u00e9ges lesz a repository c\u00edm\u00e9re, amit a repository webes fel\u00fclet\u00e9n a Clone or download alatt tal\u00e1lsz.</p> <p>A git repository kezel\u00e9s\u00e9hez tetsz\u0151leges klienst haszn\u00e1lhatsz. Ha nincs kedvenced m\u00e9g, akkor legegyszer\u0171bb a GitHub Desktop. Ebben az alkalmaz\u00e1sban k\u00f6zvetlen\u00fcl tudod list\u00e1zni a repository-kat GitHub-r\u00f3l, vagy haszn\u00e1lhatod az URL-t is a kl\u00f3noz\u00e1shoz.</p> <p></p> <p>Ha konzolt haszn\u00e1ln\u00e1l, az al\u00e1bbi parancs kl\u00f3nozza a repository-t (ha a <code>git</code> parancs el\u00e9rhet\u0151): <code>git clone &lt;repository link&gt;</code></p> </li> <li> <p>Ha siker\u00fclt a kl\u00f3noz\u00e1s, M\u00c9G NE KEZDJ EL DOLGOZNI! A megold\u00e1st ne a repository <code>master</code> \u00e1g\u00e1n k\u00e9sz\u00edtsd el. Hozz l\u00e9tre egy \u00faj \u00e1gat (branch) <code>megoldas</code> n\u00e9ven.</p> <p>GitHub Desktop-ban a Branch men\u00fcben teheted ezt meg.</p> <p></p> <p>Ha konzolt haszn\u00e1lsz, az \u00faj \u00e1g elk\u00e9sz\u00edthet\u0151 ezzel a paranccsal: <code>git checkout -b megoldas</code></p> </li> <li> <p>Ezen a megold\u00e1s \u00e1gon dolgozva k\u00e9sz\u00edtsd el a beadand\u00f3kat. Ak\u00e1rh\u00e1nyszor kommitolhatsz \u00e9s pusholhatsz.</p> <p>Egyetemi laborban</p> <p>Laborg\u00e9peken mindig ellen\u0151r\u00edzd, hogy a megfelel\u0151 n\u00e9vvel \u00e9s email c\u00edmmel kommitolsz-e. Ezt a k\u00f6vetkez\u0151 command line paranccsal tudod megtenni.</p> <pre><code>git config user.name\ngit config user.email\n</code></pre> <p>Ha ez nem megfelel\u0151 lenne, akkor add ki az al\u00e1bbi parancsokat a git repository mapp\u00e1j\u00e1ban. Ezzel az adott repository-ra fogod be\u00e1ll\u00edtani a k\u00edv\u00e1nt nevet \u00e9s email c\u00edmet. (\u00c9rdemes olyan email c\u00edmet, megadni ami a github useretekhez van rendelve)</p> <pre><code>git config user.name \"John Doe\"\ngit config user.email \"john@doe.org\"\n</code></pre> <p>Otthon</p> <p>Otthon a fentieket \u00e9rdemes lehet a glob\u00e1lisan vizsg\u00e1lni \u00e9s fel\u00fcl\u00edrni a <code>--global</code> kapcsol\u00f3val.</p> <p>GitHub Desktop-ban \u00edgy tudsz kommitolni. Mindig ellen\u0151rizd, hogy j\u00f3 \u00e1gon vagy-e. Els\u0151 alkalommal a megoldas \u00e1g csak helyben l\u00e9tezik, ez\u00e9rt publik\u00e1lni kell: Publish this branch.</p> <p></p> <p>A tov\u00e1bbi kommitokn\u00e1l is mindig ellen\u0151rizd a megfelel\u0151 \u00e1gat. Ha egy kommit m\u00e9g nincs fel\u00f6ltve, azt a Push origin gombbal teheted meg. A kis sz\u00e1m a gombon jelzi, hogy h\u00e1ny, m\u00e9g nem pusholt kommit van.</p> <p></p> <p>Ha konzolt haszn\u00e1lsz, akkor az al\u00e1bbi parancsokat haszn\u00e1ld (felt\u00e9ve, hogy a j\u00f3 \u00e1gon vagy):</p> <pre><code># Ellen\u0151rizd az \u00e1gat, \u00e9s hogy milyen f\u00e1jlok m\u00f3dosultak\ngit status\n\n# Minden v\u00e1ltoztat\u00e1st el\u0151k\u00e9sz\u00edt kommitol\u00e1sra\ngit add .\n\n# Kommit\ngit commit -m \"f1\"\n\n# Push els\u0151 alkalommal az \u00faj \u00e1g publik\u00e1l\u00e1s\u00e1hoz\ngit push --set-upstream origin megoldas\n\n# Push a tov\u00e1bbiakban, amikor az \u00e1g m\u00e1r nem \u00faj\ngit push\n</code></pre> </li> </ol>"},{"location":"GitHub/#a-megoldas-beadasa","title":"A megold\u00e1s bead\u00e1sa","text":"<ol> <li> <p>Ha v\u00e9gezt\u00e9l a megold\u00e1ssal, ellen\u0151rizd a GitHub webes fel\u00fclet\u00e9n, hogy mindent felt\u00f6lt\u00f6tt\u00e9l-e. Ehhez a webes fel\u00fcleten v\u00e1ltanod kell az \u00e1gak k\u00f6z\u00f6tt.</p> <p></p> <p>Felt\u00f6lt\u00e9s a webes fel\u00fcleten</p> <p>Azt javasoljuk, hogy ne haszn\u00e1ld a GitHub f\u00e1jl felt\u00f6lt\u00e9s funkci\u00f3j\u00e1t. Ha valami hi\u00e1nyzik, a helyi git repository-ban p\u00f3told, \u00e9s kommitold majd pushold.</p> </li> <li> <p>Ha t\u00e9nyleg k\u00e9sz vagy, akkor nyiss egy pull request-et.</p> <p>Minek a pull request?</p> <p>Ez a pull request fogja \u00f6ssze a megold\u00e1sodat, \u00e9s annak \"v\u00e9geredm\u00e9ny\u00e9t\" mutatja. \u00cdgy a laborvezet\u0151nek nem az egyes kommitjaidat vagy f\u00e1jljaidat kell n\u00e9znie, hanem csak a relev\u00e1ns, v\u00e1ltozott r\u00e9szeket l\u00e1tja egyben. A pull request jelenti a feladatod bead\u00e1s\u00e1t is, \u00edgy ez a l\u00e9p\u00e9s nem hagyhat\u00f3 ki.</p> <p>A pull request nyit\u00e1s\u00e1hoz a GitHub webes fel\u00fclet\u00e9re kell menj. Itt, ha nem r\u00e9g pusholt\u00e1l, a GitHub fel is aj\u00e1nlja a pull request l\u00e9trehoz\u00e1s\u00e1t.</p> <p></p> <p>A pull request-et a fenti men\u00fcben is l\u00e9trehozhatod. Fontos, hogy a megfelel\u0151 brancheket v\u00e1laszd ki: <code>master</code>-be megy a <code>megoldas</code> \u00e1g.</p> <p></p> <p>Ha minden rendben siker\u00fclt, a men\u00fcben fent l\u00e1tod a kis \"1\" sz\u00e1mot a Pull request elem mellett, jelezve, hogy van egy nyitott pull request. DE M\u00c9G NEM V\u00c9GEZT\u00c9L!</p> <p></p> </li> <li> <p>A pull request hat\u00e1s\u00e1ra le fog futni egy \u00e9rt\u00e9kel\u00e9s. Ennek eredm\u00e9ny\u00e9t a pull request alatt kommentben fogod l\u00e1tni.</p> <p>Ez az \u00e9rt\u00e9kel\u00e9s minden labor eset\u00e9ben m\u00e1s lesz. Egyes laborokn\u00e1l a programodat lefuttatjuk, \u00e9s el\u0151zetes pontsz\u00e1mot is kapsz. M\u00e1s laborokn\u00e1l csak \"szintaktikai ellen\u0151rz\u00e9st\" v\u00e9gz\u00fcnk.</p> <p></p> <p>Ha a ki\u00e9rt\u00e9kel\u00e9s eredm\u00e9ny\u00e9vel kapcsolatban t\u00f6bb inform\u00e1ci\u00f3ra van sz\u00fcks\u00e9ged, mint amit itt l\u00e1tsz, a GitHub Actions webes fel\u00fclete seg\u00edts\u00e9g\u00fcl szolg\u00e1lhat. Err\u0151l itt tal\u00e1lsz egy r\u00f6vid ismertet\u0151t.</p> </li> <li> <p>Ha nem vagy megel\u00e9gedve a munk\u00e1ddal, akkor m\u00e9g jav\u00edthatsz rajta. Ehhez kommitolj \u00e9s pusholj \u00fajra. Ha tov\u00e1bbra is a megfelel\u0151 \u00e1gon dolgozol, akkor a pull request \u00fajb\u00f3l le fogja futtatni a ki\u00e9rt\u00e9kel\u00e9st. Arra k\u00e9r\u00fcnk, hogy MAXIMUM 5 alkalommal futtasd le a ki\u00e9rt\u00e9kel\u00e9st!</p> <p>Megold\u00e1s jav\u00edt\u00e1sa ki\u00e9rt\u00e9kel\u00e9s n\u00e9lk\u00fcl</p> <p>Ha \u00fagy l\u00e1tod, hogy a megold\u00e1sodat m\u00e9g jav\u00edtani akarod, \u00e9s nem szeretn\u00e9d, hogy mindig lefusson az \u00e9rt\u00e9kel\u00e9s, akkor \u00e1ll\u00edtsd \u00e1t a pull request-et a webes fel\u00fcleten draft \u00e1llapotra.</p> <p></p> <p>Ezzel az \u00e1llapottal jelzed, hogy m\u00e9g dolgozol. Kommitolj \u00e9s pusholj. Ilyenkor nem fog futni ki\u00e9rt\u00e9kel\u00e9s. Ha v\u00e9gezt\u00e9l, akkor vissza kell \u00e1ll\u00edtanod a pull request-et: menj a PR alj\u00e1ra \u00e9s kattints a \"Ready for review\" gombra. Ennek hat\u00e1s\u00e1ra vissza\u00e1ll a PR \u00e9s le fog futni az automata \u00e9rt\u00e9kel\u00e9s.</p> <p></p> <p>Maximum 5</p> <p>A maximum 5 alkalomba nem sz\u00e1moljuk bele az esetlegesen megszakadt, vagy tranziens hiba miatt sikertelen futtat\u00e1sokat. Ha viszont figyelmetlens\u00e9gb\u0151l, vagy sz\u00e1nd\u00e9kosan t\u00fall\u00e9ped az \u00f6t\u00f6t, akkor pontlevon\u00e1ssal szankcion\u00e1lunk. Arra k\u00e9r\u00fcnk, hogy bead\u00e1s el\u0151tt teszteld a megold\u00e1sod, ne a GitHub platformot \"dolgoztasd\" magad helyett!</p> </li> <li> <p>V\u00c9GEZET\u00dcL, ha k\u00e9sz vagy, a pull request-et rendeld a laborvezet\u0151dh\u00f6z. Ez a l\u00e9p\u00e9s felt\u00e9tlen\u00fcl fontos, ez jelzi a bead\u00e1st.</p> <p></p> <p>Pull request n\u00e9lk\u00fcl</p> <p>Ha nincs pull request-ed, vagy nincs a laborvezet\u0151h\u00f6z rendelve, akkor \u00fagy tekintj\u00fck, hogy m\u00e9g nem vagy k\u00e9szen, \u00e9s nem adtad be a megold\u00e1st.</p> <p>V\u00e9gezt\u00e9l</p> <p>Miut\u00e1n a laborvezet\u0151h\u00f6z rendelted a pull request-et, m\u00e1r ne m\u00f3dos\u00edts semmin. A laborvezet\u0151 \u00e9rt\u00e9kelni fogja a munk\u00e1dat, \u00e9s a pull request lez\u00e1r\u00e1s\u00e1val kommentben jelzi a v\u00e9geredm\u00e9nyt.</p> </li> </ol>"},{"location":"GitHub/#kapott-eredmennyel-kapcsolatban-kerdes-vagy-reklamacio","title":"Kapott eredm\u00e9nnyel kapcsolatban k\u00e9rd\u00e9s vagy reklam\u00e1ci\u00f3","text":"<p>Ha a feladatok \u00e9rt\u00e9kel\u00e9s\u00e9vel vagy az eredm\u00e9nnyel kapcsolatban k\u00e9rd\u00e9st tenn\u00e9l fel, vagy reklam\u00e1ln\u00e1l, haszn\u00e1ld a Pull Request kommentel\u00e9si lehet\u0151s\u00e9g\u00e9t erre. Annak \u00e9rdek\u00e9ben, hogy a laborvezet\u0151 biztosan \u00e9rtes\u00fclj\u00f6n a k\u00e9rd\u00e9sr\u0151l haszn\u00e1ld a <code>@n\u00e9v</code> mention funkci\u00f3t a laborvezet\u0151d megnevez\u00e9s\u00e9hez. Err\u0151l automatikusan kapni fog egy email \u00e9rtes\u00edt\u00e9st.</p> <p></p> <p>Reklam\u00e1ci\u00f3 csak indokl\u00e1ssal</p> <p>Ha nem \u00e9rtesz egyet az \u00e9rt\u00e9kel\u00e9ssel, a bizony\u00edt\u00e1s t\u00e9ged terhel, azaz al\u00e1 kell t\u00e1masztanod a reklam\u00e1ci\u00f3d (pl. annak le\u00edr\u00e1s\u00e1val, hogyan tesztelted a megold\u00e1sod, \u00e9s mi bizony\u00edtja a helyess\u00e9g\u00e9t).</p>"},{"location":"VisualStudio/","title":"Visual Studio &amp; .NET Core SDK telep\u00edt\u00e9se","text":"<p>Egyes laborokhoz a Microsoft Visual Studio 2019 16.6 vagy \u00fajabb verzi\u00f3ja sz\u00fcks\u00e9ges. Egy labor kiv\u00e9tel\u00e9vel a 2022-es verzi\u00f3 is haszn\u00e1lhat\u00f3. Az ingyenes, Community v\u00e1ltozata is elegend\u0151 a feladatok megold\u00e1s\u00e1hoz.</p> <p>A verzi\u00f3t a Visual Studio Installer elind\u00edt\u00e1s\u00e1val ellen\u0151rizhetj\u00fck:</p> <p></p> <p>VS Code</p> <p>A laborok Visual Studio n\u00e9lk\u00fcl, Visual Studio Code-dal is megoldhat\u00f3ak. A kiadott k\u00f3d v\u00e1z Visual Studio-hoz k\u00e9sz\u00fclt, annak konfigur\u00e1ci\u00f3it tartalmazza. Ha VS Code-dal dolgozol, magadnak kell konfigur\u00e1lni a k\u00f6rnyezetet.</p>"},{"location":"VisualStudio/#visual-studio-workload-ok-telepitese","title":"Visual Studio Workload-ok telep\u00edt\u00e9se","text":"<p>A Visual Studio telep\u00edt\u00e9sekor ki kell pip\u00e1lni az al\u00e1bbi workload-okat:</p> <ul> <li>ASP.NET and web development</li> <li>.NET Core cross-platform development</li> </ul> <p></p> <p>Meglev\u0151 telep\u00edt\u00e9s a Visual Studio Installer-ben a Modify gombbal m\u00f3dos\u00edthat\u00f3, ill. ellen\u0151rizhet\u0151.</p> <p></p>"},{"location":"VisualStudio/#net-core-sdk-ellenorzese-es-telepitese","title":".NET Core SDK ellen\u0151rz\u00e9se \u00e9s telep\u00edt\u00e9se","text":"<p>Visual Studio mellett bizonyos .NET Core SDK-k telep\u00edt\u00e9sre ker\u00fclnek. A megfelel\u0151 verzi\u00f3 ellen\u0151rz\u00e9s\u00e9hez legegyszer\u0171bb a <code>dotnet</code> CLI-t haszn\u00e1lni: konzolban add ki a <code>dotnet --list-sdks</code> parancsot. Ez a parancs Linux \u00e9s Mac eset\u00e9n is m\u0171k\u00f6dik. A kimenete hasonl\u00f3 lesz:</p> <pre><code>C:\\&gt;dotnet --list-sdks\n3.1.404 [C:\\Program Files\\dotnet\\sdk]\n5.0.101 [C:\\Program Files\\dotnet\\sdk]\n</code></pre> <p>Ha ebben a list\u00e1ban l\u00e1tsz 3.1-es verzi\u00f3t, akkor j\u00f3. Ha nem, akkor telep\u00edteni kell az SDK-t innen.</p>"},{"location":"Lab-EFREST/","title":"Entity Framework \u00e9s REST","text":"<p>A labor sor\u00e1n egy Entity Framework Core adatel\u00e9r\u00e9sre \u00e9p\u00fcl\u0151 REST API (ASP.NET Core Web Api) alkalmaz\u00e1st k\u00e9sz\u00edt\u00e9s\u00fcnk.</p>"},{"location":"Lab-EFREST/#elofeltetelek-felkeszules","title":"El\u0151felt\u00e9telek, felk\u00e9sz\u00fcl\u00e9s","text":"<p>A labor elv\u00e9gz\u00e9s\u00e9hez sz\u00fcks\u00e9ges eszk\u00f6z\u00f6k:</p> <ul> <li>Windows, Linux, vagy MacOS: Minden sz\u00fcks\u00e9ges program platform f\u00fcggetlen, vagy van platformf\u00fcggetlen alternat\u00edv\u00e1ja.</li> <li>Postman</li> <li>DB Browser for SQLite, ha az adatb\u00e1zisba szeretn\u00e9l belez\u00e9zni (nem felt\u00e9tlen\u00fcl sz\u00fcks\u00e9ges)</li> <li>GitHub account \u00e9s egy git kliens</li> <li>Microsoft Visual Studio 2022 az itt tal\u00e1lhat\u00f3 be\u00e1ll\u00edt\u00e1sokkal<ul> <li>Linux \u00e9s MacOS eset\u00e9n Visual Studio Code \u00e9s a .NET Core SDK-val telep\u00fcl\u0151 dotnet CLI haszn\u00e1lhat\u00f3.</li> </ul> </li> <li> <p>.NET 6 SDK</p> <p>.NET 6.0</p> <p>A feladat megold\u00e1s\u00e1hoz 6.0-\u00e1s .NET SDK telep\u00edt\u00e9se sz\u00fcks\u00e9ges.</p> <p>Windows-on Visual Studio verzi\u00f3 f\u00fcggv\u00e9ny\u00e9ben lehet, hogy telep\u00edtve van (l\u00e1sd itt az ellen\u0151rz\u00e9s m\u00f3dj\u00e1t); ha nem, akkor a fenti linkr\u0151l kell telep\u00edteni (az SDK-t \u00e9s nem a runtime-ot.) Linux \u00e9s MacOS eset\u00e9n telep\u00edteni sz\u00fcks\u00e9ges.</p> <p>Az Entity Framework Core viszont 7.0-\u00e1s verzi\u00f3val szerepel a kiindul\u00f3 projektben, mivel az nem az SDK r\u00e9sze, hanem NuGet csomag, illetve teljes m\u00e9rt\u00e9kben kompatibilis a .NET 6.0 LTS verzi\u00f3val.</p> </li> </ul> <p>A labor elv\u00e9gz\u00e9s\u00e9hez haszn\u00e1lhat\u00f3 seg\u00e9danyagok \u00e9s felk\u00e9sz\u00fcl\u00e9si anyagok:</p> <ul> <li>Entity Framework Core, REST API, Web API elm\u00e9leti h\u00e1ttere \u00e9s mintap\u00e9ld\u00e1i, valamint a Postman haszn\u00e1lata<ul> <li>L\u00e1sd az Adatvez\u00e9relt rendszerek c. t\u00e1rgy jegyzetei \u00e9s gyakorlati anyagai k\u00f6z\u00f6tt</li> </ul> </li> <li>Hivatalos Microsoft tutorial Web API k\u00e9sz\u00edt\u00e9s\u00e9hez</li> </ul>"},{"location":"Lab-EFREST/#feladat-attekintese","title":"Feladat \u00e1ttekint\u00e9se","text":"<p>A feladok elk\u00e9sz\u00edt\u00e9se sor\u00e1n egy egyszer\u0171 feladatkezel\u0151 webalkalmaz\u00e1s backendj\u00e9t k\u00e9sz\u00edtj\u00fck el. Az alkalmaz\u00e1s k\u00e9t f\u00e9le entit\u00e1st kezel: st\u00e1tusz \u00e9s task, ahol egy st\u00e1tuszhoz t\u00f6bb task rendelhet\u0151 (1-* kapcsolat). (A feladatsz\u00f6vegben task n\u00e9ven fogunk hivatkozni a m\u00e1sodik entit\u00e1sra, \u00e9s ker\u00fclj\u00fck a \"feladat\" megnevez\u00e9st, amely f\u00e9lre\u00e9rthet\u0151 lenne.)</p> <p>Ha lenne frontend\u00fcnk is, akkor egy Kanban-t\u00e1bla szer\u0171 feladatkezel\u0151t k\u00e9sz\u00edten\u00e9nk. A frontendt\u0151l eltekint\u00fcnk, csak a sz\u00fcks\u00e9ges REST Api-t \u00e9s Entity Framework Core + ASP.NET Core Web Api alap\u00fa kiszolg\u00e1l\u00f3t k\u00e9sz\u00edtj\u00fck el.</p>"},{"location":"Lab-EFREST/#elokeszulet","title":"El\u0151k\u00e9sz\u00fclet","text":"<p>A feladatok megold\u00e1sa sor\u00e1n ne felejtsd el k\u00f6vetni a feladat bead\u00e1s folyamat\u00e1t.</p>"},{"location":"Lab-EFREST/#git-repository-letrehozasa-es-letoltese","title":"Git repository l\u00e9trehoz\u00e1sa \u00e9s let\u00f6lt\u00e9se","text":"<ol> <li> <p>Moodle-ben keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-j\u00e9t \u00e9s annak seg\u00edts\u00e9g\u00e9vel hozd l\u00e9tre a saj\u00e1t repository-dat.</p> </li> <li> <p>V\u00e1rd meg, m\u00edg elk\u00e9sz\u00fcl a repository, majd checkout-old ki.</p> <p>Egyetemi laborokban, ha a checkout sor\u00e1n nem k\u00e9r a rendszer felhaszn\u00e1l\u00f3nevet \u00e9s jelsz\u00f3t, \u00e9s nem siker\u00fcl a checkout, akkor val\u00f3sz\u00edn\u0171leg a g\u00e9pen kor\u00e1bban megjegyzett felhaszn\u00e1l\u00f3n\u00e9vvel pr\u00f3b\u00e1lkozott a rendszer. El\u0151sz\u00f6r t\u00f6r\u00f6ld ki a mentett bel\u00e9p\u00e9si adatokat (l\u00e1sd itt), \u00e9s pr\u00f3b\u00e1ld \u00fajra.</p> </li> <li> <p>Hozz l\u00e9tre egy \u00faj \u00e1gat <code>megoldas</code> n\u00e9ven, \u00e9s ezen az \u00e1gon dolgozz.</p> </li> <li> <p>A <code>neptun.txt</code> f\u00e1jlba \u00edrd bele a Neptun k\u00f3dodat. A f\u00e1jlban semmi m\u00e1s ne szerepeljen, csak egyetlen sorban a Neptun k\u00f3d 6 karaktere.</p> </li> </ol>"},{"location":"Lab-EFREST/#adatbazis-letrehozasa","title":"Adatb\u00e1zis l\u00e9trehoz\u00e1sa","text":"<p>Ebben a feladatban nem Microsoft SQL Server-t haszn\u00e1lunk, hanem Sqlite-ot. Ez egy pehelys\u00faly\u00fa rel\u00e1ci\u00f3s adatb\u00e1zis, amelyet els\u0151sorban kliensoldali alkalmaz\u00e1sokban szok\u00e1s haszn\u00e1lni, kiszolg\u00e1l\u00f3 oldalon nem javasolt a haszn\u00e1lata. Mi most az egyszer\u0171s\u00e9g v\u00e9gett fogjuk haszn\u00e1lni. Ezt nem sz\u00fcks\u00e9ges telep\u00edteni.</p> <p>Az adatb\u00e1zis s\u00e9m\u00e1t a code first modell szerint fogjuk l\u00e9trehozni, \u00edgy C# k\u00f3ddal fogjuk le\u00edrni az adatb\u00e1zisunkat. Ez\u00e9rt az adatb\u00e1zis s\u00e9m\u00e1j\u00e1t se kell SQL k\u00f3ddal l\u00e9trehoznunk.</p>"},{"location":"Lab-EFREST/#1-feladat-statuszok-kezelese-8-pont","title":"1. Feladat: St\u00e1tuszok kezel\u00e9se (8 pont)","text":"<p>Ebben a feladatban a st\u00e1tusz entit\u00e1shoz tartoz\u00f3 alapm\u0171veleteket fogjuk megval\u00f3s\u00edtani.</p>"},{"location":"Lab-EFREST/#visual-studio-solution-megnyitasa","title":"Visual Studio solution megnyit\u00e1sa","text":"<p>Nyisd meg a let\u00f6lt\u00f6tt repository-ban a Visual Studio solution-t (<code>.sln</code> f\u00e1jl). Ha a megnyit\u00e1s sor\u00e1n a Visual Studio azt jelezn\u00e9, hogy a projekt t\u00edpus nem t\u00e1mogatott, akkor telep\u00edtsd a Visual Studio hi\u00e1nyz\u00f3 komponenseit (l\u00e1sd itt).</p> <p>NE friss\u00edts semmilyen verzi\u00f3t</p> <p>Ne friss\u00edtsd se a projektet, se a .NET verzi\u00f3t, se a NuGet csomagokat! Ha ilyen k\u00e9rd\u00e9ssel tal\u00e1lkozol a solution megnyit\u00e1sa sor\u00e1n, akkor mindig mondj nemet!</p> <p>A solution strukt\u00far\u00e1ja a t\u00f6bbr\u00e9teg\u0171 alkalmaz\u00e1s fel\u00e9p\u00edt\u00e9s\u00e9nek megfelel\u0151:</p> <ul> <li>A <code>Controllers</code> mappa tartalmazza a Web Api controllereket, amik a REST k\u00e9r\u00e9seket kiszolg\u00e1lj\u00e1k ki.</li> <li>A <code>Dal</code> mappa tartalmazza az adatel\u00e9r\u00e9st, amely az Entity Framework Core Code First modellt tartalmaz.</li> <li>A <code>Services</code> mapp\u00e1ban az \u00fczleti logikai r\u00e9teg (BLL) szolg\u00e1ltat\u00e1s oszt\u00e1lyai tal\u00e1lhat\u00f3ak.</li> <li>A <code>Dtos</code> a Data Transfer Object-ek oszt\u00e1lyai tal\u00e1lhat\u00f3ak, amik a h\u00e1l\u00f3zaton utaz\u00f3 adatot reprezent\u00e1lj\u00e1k.</li> </ul> <p>DTO a BLL r\u00e9tegben?</p> <p>Mivel a BLL r\u00e9tegnek most az egyszer\u0171s\u00e9g kedv\u00e9\u00e9rt nincs k\u00fcl\u00f6n \u00fan. Domain adatmodellje, a BLL r\u00e9tegben vegyesen haszn\u00e1ljuk a DTO-kat \u00e9s az Entit\u00e1sokat. Entit\u00e1sokat ment el, \u00e9s k\u00e9rdez le a szolg\u00e1ltat\u00e1s, de DTO-kat v\u00e1r, \u00e9s ad vissza a f\u00fcggv\u00e9nyek szignat\u00far\u00e1j\u00e1ban.</p> <p>Repository minta</p> <p>A Repository \u00e9s a Unit-of-Work tervez\u00e9si mint\u00e1k egy absztrakci\u00f3t ny\u00fajtan\u00e1nak az adatel\u00e9r\u00e9s\u00fcnk sz\u00e1m\u00e1ra. Ha jobban belegondolunk az Entity Framework pont ezt a mint\u00e1t val\u00f3s\u00edja meg a DbContext \u00e9s a DbSet-ek \u00e1ltal. Ett\u0151l f\u00fcggetlen\u00fcl n\u00e9ha c\u00e9lszer\u0171 lehet saj\u00e1t repository absztrakci\u00f3t k\u00e9sz\u00edteni, ha azt is el szeretn\u00e9nk absztrah\u00e1lni, hogy EF-fel m\u0171k\u00f6dik az adatel\u00e9r\u00e9s.</p> <p>Most szint\u00e9n az egyszer\u0171s\u00e9g kedv\u00e9\u00e9rt nem fogunk Repository mint\u00e1t haszn\u00e1lni.</p> <p>Munk\u00e1d sor\u00e1n a <code>StatusService</code> \u00e9s <code>StatusController</code> oszt\u00e1lyokba dolgozz! Ezen f\u00e1jlok tartalm\u00e1t tetsz\u0151legesen m\u00f3dos\u00edthatod (felt\u00e9ve, hogy a service tov\u00e1bbra is megfelel a <code>IStatusService</code> interf\u00e9sznek, \u00e9s term\u00e9szetesen tov\u00e1bbra is fordul a k\u00f3d).</p>"},{"location":"Lab-EFREST/#webalkalmazas-elinditasa","title":"Webalkalmaz\u00e1s elind\u00edt\u00e1sa","text":"<p>Pr\u00f3b\u00e1ld ki, hogy elindul-e a program.</p> <ol> <li> <p>Ford\u00edtsd le \u00e9s ind\u00edtsd el Visual Studio-b\u00f3l az alkalmaz\u00e1st.</p> </li> <li> <p>Nyisd meg b\u00f6ng\u00e9sz\u0151ben a http://localhost:5000/api/ping oldalt.</p> </li> </ol> <p>Ha minden rendben ment, akkor a b\u00f6ng\u00e9sz\u0151ben a \"pong\" sz\u00f6veget l\u00e1tod, \u00e9s a fut\u00f3 alkalmaz\u00e1s logj\u00e1ban l\u00e1that\u00f3 a kiszolg\u00e1lt k\u00e9r\u00e9s.</p>"},{"location":"Lab-EFREST/#minden-statusz-listazasa-4p","title":"Minden st\u00e1tusz list\u00e1z\u00e1sa (4p)","text":"<p>Val\u00f3s\u00edtsuk meg az els\u0151 m\u0171veletet, amely minden st\u00e1tuszt list\u00e1z.</p> <ol> <li> <p>Nyisd meg a <code>Dtos.Status</code> oszt\u00e1lyt. Ez \u00edrja le az \u00fczleti logika sz\u00e1m\u00e1ra milyen tulajdons\u00e1gokkal rendelkezik a st\u00e1tusz.</p> <p>Ezt az oszt\u00e1lyt NE m\u00f3dos\u00edtsd.</p> <p>Rekordok C#-ban</p> <p>A <code>record</code> kulcssz\u00f3 egy olyan t\u00edpust reprezent\u00e1l (alap\u00e9rtelmezetten <code>class</code>), ami a fejl\u00e9cben meghat\u00e1rozott konstruktorral \u00e9s <code>init</code> only setterrel rendelkez\u0151 tulajdons\u00e1gokkal rendelkezik. Ez\u00e1ltal egy record immutable viselked\u00e9ssel b\u00edr, ami jobban illeszkedik egy DTO viselked\u00e9s\u00e9hez. A rekordok ezen k\u00edv\u00fcl egy\u00e9b k\u00e9nyelmi szolg\u00e1ltat\u00e1sokkal is rendelkeznek (l\u00e1sd b\u0151vebben), de ezeket mi nem fogjuk itt kihaszn\u00e1lni.</p> </li> <li> <p>Nyisd meg a <code>Dal.Entities.DbStatus</code> oszt\u00e1lyt. Ez a st\u00e1tusz entit\u00e1s adatb\u00e1zisbeli reprezent\u00e1ci\u00f3ja, de m\u00e9g \u00fcres. \u00cdrjuk meg az oszt\u00e1lyt:</p> <pre><code>public class DbStatus\n{\npublic int Id { get; set; }\npublic string Name { get; set; }\n}\n</code></pre> <p>Az <code>Id</code> lesz az adatb\u00e1zisbeli kulcs, a <code>Name</code> pedig a st\u00e1tusz neve.</p> </li> <li> <p>Nyisd meg a <code>Dal.TasksDbContext</code> oszt\u00e1lyt. Ide fel kell vegy\u00fck a st\u00e1tuszokhoz tartoz\u00f3 <code>DbSet</code>-et, \u00e9s az <code>OnModelCreating</code> f\u00fcggv\u00e9nyben konfigur\u00e1lnunk kell a C# oszt\u00e1ly - rel\u00e1ci\u00f3s adatb\u00e1zis lek\u00e9pz\u00e9st:</p> TasksDbContext.cs<pre><code>public DbSet&lt;DbStatus&gt; Statuses { get; set; }\n\nprotected override void OnModelCreating(ModelBuilder modelBuilder)\n{\nmodelBuilder.Entity&lt;DbStatus&gt;()\n.ToTable(\"statuses\");\n\nmodelBuilder.Entity&lt;DbStatus&gt;()\n.HasKey(s =&gt; s.Id);\n\nmodelBuilder.Entity&lt;DbStatus&gt;()\n.Property(s =&gt; s.Name)\n.HasMaxLength(50)\n.IsRequired(required: true)\n.IsUnicode(unicode: true);\n}\n</code></pre> <p>A fentiekkel megadtuk a haszn\u00e1land\u00f3 t\u00e1bla nev\u00e9t, a kulcsot (amely \u00edgy automatikusan inkrement\u00e1lt lesz, azaz nem kell \u00e9rt\u00e9ket adnunk neki), \u00e9s v\u00e9g\u00fcl a n\u00e9vhez tartoz\u00f3 megk\u00f6t\u00e9seinket.</p> </li> <li> <p>Menj a <code>StatusService.List()</code> f\u00fcggv\u00e9nyhez. List\u00e1zzuk ki az \u00f6sszes st\u00e1tuszt az adatb\u00e1zisb\u00f3l:</p> <pre><code>public IReadOnlyCollection&lt;Dtos.Status&gt; List()\n{\nreturn _dbContext.Statuses.Select(ToModel).ToList();\n}\n</code></pre> <p>A <code>_dbContext</code> v\u00e1ltoz\u00f3nk a 7, amely a dependency injection keretrendszer haszn\u00e1lat\u00e1val injekt\u00e1l\u00e1sra ker\u00fcl a konstruktorban.</p> </li> <li> <p>A <code>ToModel</code> f\u00fcggv\u00e9ny egy seg\u00e9df\u00fcggv\u00e9ny lesz, amelyet t\u00f6bbsz\u00f6r haszn\u00e1lunk. Ez k\u00e9pezi le az adatb\u00e1zisb\u00f3l \u00e9rkez\u0151 C# oszt\u00e1lyt a modellk\u00e9nt haszn\u00e1lt m\u00e1sik C# oszt\u00e1lyra. Ezt is \u00edrjuk meg most ide a service oszt\u00e1lyba.</p> <pre><code>private Status ToModel(DbStatus value)\n{\nreturn new Status(value.Id, value.Name);\n}\n</code></pre> </li> <li> <p>A BLL r\u00e9teg ut\u00e1n k\u00f6vetkezik a controller. Nyisd meg a <code>Controllers.StatusController</code> oszt\u00e1lyt. F\u0171zd bele a Neptun k\u00f3dod a controller URL-j\u00e9nek v\u00e9g\u00e9re, teh\u00e1t a controller a <code>/api/status/neptun</code> c\u00edmre \u00e9rkez\u0151 k\u00e9r\u00e9sekkel foglalkozik, ahol az utols\u00f3 6 kisbet\u0171s karakter a saj\u00e1t Neptun k\u00f3dod.</p> <pre><code>[Route(\"api/[controller]/neptun\")]\n[ApiController]\npublic class StatusController : ControllerBase\n</code></pre> <p>Neptun k\u00f3d fontos</p> <p>A Neptun k\u00f3d a k\u00e9s\u0151bbiekben a k\u00e9rt k\u00e9perny\u0151k\u00e9pen fog megjelenni. Fontos, hogy ne hagyd ki!</p> </li> <li> <p>\u00cdrjuk meg a <code>GET /api/status/neptun</code> k\u00e9r\u00e9sre v\u00e1laszol\u00f3 v\u00e9gpontot: A dependency injection m\u00e1r konfigur\u00e1lva van, \u00edgy a konstruktor \u00e1tveszi a service interf\u00e9sz\u00e9t (nem a service oszt\u00e1lyt, amit \u00edrtunk!).</p> StatusController.cs<pre><code>[HttpGet]\npublic IEnumerable&lt;Status&gt; List()\n{\nreturn _statusService.List();\n}\n</code></pre> </li> <li> <p>Ford\u00edtsd le \u00e9s ind\u00edtsd el az alkalmaz\u00e1st.</p> </li> <li> <p>Nyisd meg a Postman-t \u00e9s k\u00fcldj a http://localhost:5000/api/status/neptun c\u00edmre egy GET k\u00e9r\u00e9st (a saj\u00e1t Neptun k\u00f3dodat kell itt is az URL v\u00e9g\u00e9re \u00edrni).</p> <p></p> <p>Akkor sikeres a h\u00edv\u00e1s, ha a Postman szerint 200 a v\u00e1laszk\u00f3d, \u00e9s \u00fcres a v\u00e1lasz. Ha valami hiba lenne, akkor a Visual Studio Output ablak\u00e1t ill. a fut\u00f3 konzol alkalmaz\u00e1s logj\u00e1t \u00e9rdemes n\u00e9zni.</p> </li> <li> <p>\u00dcres adatb\u00e1zissal neh\u00e9z tesztelni. \u00c1ll\u00edtsd le a fut\u00f3 alkalmaz\u00e1st, navig\u00e1lj a <code>Dal.TasksDbContext.OnModelCreating</code> f\u00fcggv\u00e9nyhez, \u00e9s illessz be egy  un. seed adatot az adatb\u00e1zisba:</p> TasksDbContext.cs<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n// ...\n\nmodelBuilder.Entity&lt;DbStatus&gt;()\n.HasData(new[]\n{\nnew DbStatus() { Id = 1, Name = \"new\" },\nnew DbStatus() { Id = 2, Name = \"in progress\" },\n});\n}\n</code></pre> </li> <li> <p>Ford\u00edtsd le \u00e9s futtasd \u00fajb\u00f3l az alkalmaz\u00e1st, majd add ki ism\u00e9t az el\u0151bbi GET k\u00e9r\u00e9st. Most m\u00e1r nem \u00fcres a v\u00e1lasz, meg kell kapnod a k\u00e9t st\u00e1tuszt.</p> <p>Ha nem l\u00e1tod az \u00faj rekordokat</p> <p>Ha m\u00e9gse jelenne meg a v\u00e1laszban a k\u00e9t seed objektum, akkor lehet, hogy a DB nem friss\u00fclt, \u00e9s nem jutott \u00e9rv\u00e9nyre a <code>HasData</code> m\u0171velet. T\u00f6r\u00f6ld ki a <code>tasks.db</code> SQLite \u00e1llom\u00e1nyt, aminek hat\u00e1s\u00e1ra \u00fajb\u00f3l l\u00e9trej\u00f6n az adatb\u00e1zisf\u00e1jl az app indul\u00e1sakor a tesztadatainkkal.</p> <p>Az ilyen jelleg\u0171 s\u00e9ma-, \u00e9s adatm\u00f3dos\u00edt\u00e1sokat \u00e9les k\u00f6rnyezetben migr\u00e1ci\u00f3kkal szok\u00e1s megoldani. Az egyszer\u0171s\u00e9g v\u00e9gett mi ezt ker\u00fclni fogjuk, \u00e9s ha v\u00e1ltozik a s\u00e9ma, egyszer\u0171en t\u00f6r\u00f6lheted a <code>tasks.db</code> f\u00e1jlt.</p> </li> </ol>"},{"location":"Lab-EFREST/#lekerdezes-es-beszuras-muveletek-4p","title":"Lek\u00e9rdez\u00e9s \u00e9s besz\u00far\u00e1s m\u0171veletek (4p)","text":"<p>Az \u00f6sszes st\u00e1tusz list\u00e1z\u00e1sa mellett m\u00e9g v\u00e1r r\u00e1nk p\u00e1r alapvet\u0151 m\u0171velet:</p> <ul> <li>n\u00e9v alapj\u00e1n l\u00e9tez\u00e9s ellen\u0151rz\u00e9se (<code>HEAD /api/status/neptun/{nev}</code>),</li> <li>ID alapj\u00e1n keres\u00e9s (<code>GET /api/status/neptun/{id}</code>),</li> <li>\u00e9s \u00faj l\u00e9trehoz\u00e1sa (<code>POST /api/status/neptun</code>).</li> </ul> <p>R\u00e9tegr\u0151l r\u00e9tegre haladva val\u00f3s\u00edtsuk meg a funkci\u00f3kat.</p> <ol> <li> <p>Implement\u00e1ljuk az els\u0151 kett\u0151t el\u0151sz\u00f6r a <code>StatusService</code>-ben. \u00dcgyelj\u00fcnk r\u00e1, hogy a n\u00e9v alap\u00fa keres\u00e9sn\u00e9l kisbet\u0171-nagybet\u0171 f\u00fcggetlen\u00fcl keress\u00fcnk!</p> <pre><code>public bool ExistsWithName(string statusName)\n{\nreturn _dbContext.Statuses.Any(s =&gt; EF.Functions.Like(s.Name, statusName));\n}\n\npublic Status FindById(int statusId)\n{\nvar status = _dbContext.Statuses.SingleOrDefault(s =&gt; s.Id == statusId);\nreturn status == null ? null : ToModel(status);\n}\n</code></pre> <p>Az <code>EF.Functions.Like</code> utas\u00edt\u00e1ssal egy SQL utas\u00edt\u00e1st \"k\u00e9pez\u00fcnk le\" Entity Framework-re. Amikor ebb\u0151l a rendszer az SQL utas\u00edt\u00e1st k\u00e9sz\u00edti, akkor a platformnak megfelel\u0151 <code>LIKE</code> oper\u00e1tor fog sz\u00fcletni. Ez a megold\u00e1s a kis- \u00e9s nagybet\u0171 f\u00fcggetlen \u00f6sszehasonl\u00edt\u00e1st szolg\u00e1lja, mivel a Contains alap\u00e9rtelmezetten SQLite eset\u00e9ben nem \u00edgy m\u0171k\u00f6dne.</p> </li> <li> <p>A hozz\u00e1juk tartoz\u00f3 controller v\u00e9gpontok pedig:</p> <pre><code>[HttpHead(\"{statusName}\")]\n[ProducesResponseType(StatusCodes.Status200OK)]\n[ProducesResponseType(StatusCodes.Status404NotFound)]\npublic ActionResult ExistsWithName(string statusName)\n{\nreturn _statusService.ExistsWithName(statusName) ? Ok() : NotFound();\n}\n\n[HttpGet(\"{id}\")]\n[ProducesResponseType(StatusCodes.Status200OK)]\n[ProducesResponseType(StatusCodes.Status404NotFound)]\npublic ActionResult&lt;Status&gt; Get(int id)\n{\nvar value = _statusService.FindById(id);\nreturn value != null ? Ok(value) : NotFound();\n}\n</code></pre> <p>Figyeld meg a controller met\u00f3dusokon az attrib\u00fatumokat \u00e9s a visszat\u00e9r\u00e9si \u00e9rt\u00e9keket! Ha van tartalma a v\u00e1lasznak (body a http csomagban), akkor <code>ActionResult&lt;T&gt;</code> a visszat\u00e9r\u00e9si \u00e9rt\u00e9k, ha csak st\u00e1tusz k\u00f3dot adunk vissza, akkor <code>ActionResult</code>. Az <code>Ok</code> \u00e9s <code>NotFound</code> f\u00fcggv\u00e9nyek seg\u00e9df\u00fcggv\u00e9nyek a v\u00e1lasz el\u0151\u00e1ll\u00edt\u00e1s\u00e1hoz.</p> <p>Az URL-ek tekintet\u00e9ben csak az URL v\u00e9g\u00e9vel kellett foglalkozunk. A <code>/api/status/neptun</code> r\u00e9szt a controller oszt\u00e1lyra raktuk, teh\u00e1t az az \u00f6sszesre \u00e9rv\u00e9nyes.</p> </li> <li> <p>Az \u00faj st\u00e1tusz besz\u00far\u00e1s\u00e1hoz ism\u00e9t a service fel\u0151l induljunk. A l\u00e9trehoz\u00e1shoz egy DTO oszt\u00e1lyt, a <code>CreateStatus</code>-t kapjuk, ebben csak egy n\u00e9v van. Garant\u00e1lni szeretn\u00e9nk a nevek egyedis\u00e9g\u00e9t, hogy ne legyen k\u00e9t st\u00e1tusz ugyanazzal a n\u00e9vvel. A besz\u00far\u00e1sn\u00e1l ezt ellen\u0151rizni fogjuk, m\u00e9ghozz\u00e1 itt is kisbet\u0171-nagybet\u0171 f\u00fcggetlen\u00fcl.</p> <pre><code>public Status Insert(CreateStatus value)\n{\nusing var tran = _dbContext.Database.BeginTransaction(IsolationLevel.RepeatableRead);\n\nif (_dbContext.Statuses.Any(s =&gt; EF.Functions.Like(s.Name, value.Name)))\nthrow new ArgumentException(\"Name must be unique\");\n\nvar status = new DbStatus() { Name = value.Name };\n_dbContext.Statuses.Add(status);\n\n_dbContext.SaveChanges();\ntran.Commit();\n\nreturn ToModel(status);\n}\n</code></pre> <p>Konkurencia kezel\u00e9se</p> <p>Figyelj\u00fcnk a tranzakci\u00f3ra! El\u0151sz\u00f6r ellen\u0151rizn\u00fcnk kell, van-e m\u00e1r hasonl\u00f3 n\u00e9v. Ha igen, akkor a hib\u00e1t kiv\u00e9tellel jelezz\u00fck. Ha besz\u00farhat\u00f3 a rekord, akkor a besz\u00far\u00e1s ut\u00e1n a tranzakci\u00f3t is kommit\u00e1lnunk kell. \u00c9s mivel az ID-t az adatb\u00e1zis gener\u00e1lja, a service f\u00fcggv\u00e9ny visszaadja a l\u00e9trehozott entit\u00e1st, benne az \u00faj ID-val.</p> </li> <li> <p>A POST http k\u00e9r\u00e9st az al\u00e1bbi controller met\u00f3dus fogja kiszolg\u00e1lni:</p> <pre><code>[HttpPost]\n[ProducesResponseType(StatusCodes.Status201Created)]\n[ProducesResponseType(StatusCodes.Status400BadRequest)]\npublic ActionResult&lt;Status&gt; Create([FromBody]CreateStatus value)\n{\ntry\n{\nvar created = _statusService.Insert(value);\nreturn CreatedAtAction(nameof(Get), new { id = created.Id }, created);\n}\ncatch (ArgumentException ex)\n{\nModelState.AddModelError(nameof(CreateStatus.Name), ex.Message);\nreturn ValidationProblem(ModelState);\n}\n}\n</code></pre> <p>Figyelj\u00fck meg a sikeres \u00e9s a sikertelen v\u00e1laszokat is. Ha siker\u00fclt a besz\u00far\u00e1s, akkor a <code>CreatedAtAction</code> seg\u00e9df\u00fcggv\u00e9ny olyan v\u00e1lasszal fog visszat\u00e9rni, ahol a body tartalmazza az \u00faj entit\u00e1st, a Location header pedig a linket, ahol az entit\u00e1s lek\u00e9rdezhet\u0151 (ez\u00e9rt a hivatkoz\u00e1s a <code>nameof(Get)</code>-tel).</p> <p>Ha viszont a service-ben eldobott kiv\u00e9tel \u00e9rkezik, akkor jelezz\u00fck a probl\u00e9m\u00e1t a h\u00edv\u00f3nak. Ebben a v\u00e1laszban a st\u00e1tuszk\u00f3d 400 lesz, \u00e9s itt is lesz body, ami a Problem Details RFC szabv\u00e1ny szerinti form\u00e1tumot k\u00f6veti. Amennyiben csaj 400-as hib\u00e1val szeretn\u00e9nk visszat\u00e9rni tetsz\u0151leges form\u00e1tum\u00fa body-val, haszn\u00e1lhattuk volna a <code>BadRequest()</code> f\u00fcggv\u00e9nyt is.</p> <p>A <code>CreateStatus</code> DTO-ban l\u00e9v\u0151 <code>Name</code> property-n szerepel a <code>[Required]</code> attrib\u00fatum is. Ezek a valid\u00e1ci\u00f3s attrib\u00fatumok a kontrolleren l\u00e9v\u0151 <code>[ApiController]</code> attrib\u00fatum miatt az action megh\u00edv\u00e1sa el\u0151tt ki\u00e9rt\u00e9kel\u0151dnek, \u00e9s szint\u00e9n 400-as hib\u00e1t ered\u00e9nyeznek Problem Details form\u00e1tumban.</p> </li> <li> <p>Ford\u00edtsd le az alkalmaz\u00e1st \u00e9s ind\u00edtsd el. Pr\u00f3b\u00e1ld ki a meg\u00edrt k\u00e9r\u00e9seket! \u00c1ll\u00edtsd el\u0151 a sikeres \u00e9s a sikertelen \u00e1gakat is.</p> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet Postman-b\u0151l (avagy m\u00e1s, hasonl\u00f3 eszk\u00f6zb\u0151l, ha nem Postman-t haszn\u00e1lt\u00e1l), amely egy sikertelen besz\u00far\u00e1st mutat. A sikertelens\u00e9g oka a m\u00e1r l\u00e9tez\u0151 n\u00e9v legyen. A k\u00e9pet a megold\u00e1sban <code>f1.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon a kimen\u0151 k\u00e9r\u00e9s \u00e9s a v\u00e1lasz is minden r\u00e9szlet\u00e9vel (URL, body, v\u00e1lasz k\u00f3d, v\u00e1lasz body). Ellen\u0151rizd, hogy a Neptun k\u00f3dod az URL-ben szerepel-e! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a pontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-EFREST/#2-feladat-task-alapmuveletek-6-pont","title":"2. Feladat: Task alapm\u0171veletek (6 pont)","text":"<p>Ebben a feladatban az alkalmaz\u00e1sban kezelt m\u00e1sik entit\u00e1s, a task alapm\u0171veleteit implement\u00e1ljuk az el\u0151z\u0151ekhez hasonl\u00f3an.</p>"},{"location":"Lab-EFREST/#entity-framework-sema-elokeszitese","title":"Entity Framework s\u00e9ma el\u0151k\u00e9sz\u00edt\u00e9se","text":"<p>A task-ot a <code>Dtos.Task</code> DTO oszt\u00e1ly reprezent\u00e1lja. A task rendelkezik egy azonos\u00edt\u00f3val (<code>Id</code>), egy c\u00edmmel (<code>Title</code>), a <code>IsDone</code> flag jelzi ha k\u00e9szen van, \u00e9s a <code>Status</code> mutatja azon st\u00e1tuszt, amelyhez a task rendelve van (1-* multiplicit\u00e1ssal).</p> <p>Els\u0151 l\u00e9p\u00e9sk\u00e9nt az Entity Framework modellt kell elk\u00e9sz\u00edtened:</p> <ol> <li> <p>Defini\u00e1ld a <code>DbTask</code> oszt\u00e1lyban az adatb\u00e1zis t\u00e1rol\u00e1shoz sz\u00fcks\u00e9ges tulajdons\u00e1gokat. Figyelj arra, hogy a st\u00e1tusz kapcsolat val\u00f3di navigation property legyen!</p> </li> <li> <p>Vedd fel a <code>TasksDbContext</code>-be az \u00faj <code>DbSet</code> t\u00edpus\u00fa property-t.</p> </li> <li> <p>A kor\u00e1bbiakhoz hasonl\u00f3an defini\u00e1ld az adatb\u00e1zis lek\u00e9pz\u00e9s pontos konfigur\u00e1ci\u00f3j\u00e1t az <code>OnModelCreating</code>-ben. Itt is figyelj a navigation property pontos be\u00e1ll\u00edt\u00e1s\u00e1ra!</p> </li> <li> <p>C\u00e9lszer\u0171 lesz minta adatokat is felvenni a kor\u00e1bban l\u00e1tott m\u00f3don.</p> </li> </ol>"},{"location":"Lab-EFREST/#muveletek-service-szinten","title":"M\u0171veletek service szinten","text":"<p>K\u00e9sz\u00edts a <code>Dal</code> mapp\u00e1ban egy \u00faj oszt\u00e1lyt <code>TaskService</code> n\u00e9ven, amely implement\u00e1lja a m\u00e1r l\u00e9tez\u0151 <code>ITaskService</code> interf\u00e9szt. Val\u00f3s\u00edtsd meg az al\u00e1bbi m\u0171veleteit:</p> <ul> <li><code>IReadOnlyCollection&lt;Task&gt; List()</code>: list\u00e1zza az \u00f6sszes task-ot</li> <li><code>Task FindById(int taskId)</code>: adja vissza azt a task-ot, melynek illeszkedik az id-ja a param\u00e9terre; vagy t\u00e9rjen vissza <code>null</code> \u00e9rt\u00e9kkel, ha nincs ilyen</li> <li><code>Task Insert(CreateTask value)</code>: vegyen fel egy \u00faj task-ot adatb\u00e1zisba a megadott c\u00edmmel, \u00e9s rendelje hozz\u00e1 a megadott st\u00e1tuszhoz; ha nem l\u00e9tezik st\u00e1tusz a megadott n\u00e9vvel, akkor vegyen fel egy \u00faj st\u00e1tuszt is; visszat\u00e9r\u00e9si \u00e9rt\u00e9ke az \u00faj task entit\u00e1s az \u00faj azonos\u00edt\u00f3val</li> <li><code>Task Delete(int taskId)</code>: t\u00f6r\u00f6lje a megadott task p\u00e9ld\u00e1nyt; visszat\u00e9r\u00e9si \u00e9rt\u00e9ke az t\u00f6r\u00f6lt task entit\u00e1s (a t\u00f6rl\u00e9s el\u0151tti \u00e1llapotban), vagy <code>null</code>, ha nem l\u00e9tezik</li> </ul> <p>A t\u00f6bbi m\u0171veletet egyel\u0151re ne val\u00f3s\u00edtsd meg, azonban azok is kell rendelkezzenek implement\u00e1ci\u00f3val, hogy a k\u00f3d leforduljon. Elegend\u0151 egyel\u0151re, ha ezeknek a t\u00f6rzse egyszer\u0171en hib\u00e1t dob: <code>throw new NotImplementedException();</code></p> <p>Tipp</p> <p>Az adatb\u00e1zisban haszn\u00e1lt C# oszt\u00e1ly \u00e9s a modell entit\u00e1s oszt\u00e1ly k\u00f6z\u00f6tti lek\u00e9pz\u00e9shez c\u00e9lszer\u0171 lesz egy <code>ToModel</code> seg\u00e9df\u00fcggv\u00e9nyt defini\u00e1lni a kor\u00e1bban l\u00e1tott m\u00f3don. Ahhoz, hogy a task-hoz kapcsolt st\u00e1tusz entit\u00e1st is lek\u00e9rdezze az adatb\u00e1zis (amire a n\u00e9vhez sz\u00fcks\u00e9g lesz), fontos lesz a megfelel\u0151 <code>Include</code> haszn\u00e1lata.</p>"},{"location":"Lab-EFREST/#muveletek-rest-api-n","title":"M\u0171veletek REST Api-n","text":"<p>K\u00e9sz\u00edts egy \u00faj controller oszt\u00e1ly a <code>Controllers</code> mapp\u00e1ban <code>TaskController</code> n\u00e9ven. A controller a <code>/api/task/neptun</code> URL-en kezelje a REST k\u00e9r\u00e9seket, ahol az URL v\u00e9ge a saj\u00e1t Neptun k\u00f3dod kisbet\u0171sen.</p> <p>A controller konstruktor param\u00e9terben egy <code>ITaskService</code> p\u00e9ld\u00e1nyt vegyen \u00e1t. Ahhoz, hogy a dependency injection keretrendszer ezt fel tudja oldani fut\u00e1si id\u0151ben, sz\u00fcks\u00e9ges lesz m\u00e9g konfigur\u00e1ci\u00f3ra is. A <code>Program</code> oszt\u00e1lyban kell a m\u00e1sik service-hez hasonl\u00f3an beregisztr\u00e1lni ezt az interf\u00e9szt. (A controller-t nem kell regisztr\u00e1lni.)</p> <p>A fent implement\u00e1lt service m\u0171veletekre \u00e9p\u00edtve val\u00f3s\u00edtsd meg az al\u00e1bbi m\u0171veleteket:</p> <ul> <li><code>GET /api/task/neptun</code>: minden task list\u00e1z\u00e1sa, v\u00e1lasza <code>200 OK</code></li> <li><code>GET /api/task/neptun/{id}</code>: adott azonos\u00edt\u00f3j\u00fa task lek\u00e9rdez\u00e9se, v\u00e1lasza <code>200 OK</code> vagy <code>404 Not found</code></li> <li><code>POST /api/task/neptun</code>: \u00faj task felv\u00e9tele, body-ban egy <code>Dto.CreateTask</code> entit\u00e1st v\u00e1r, v\u00e1lasza <code>201 Created</code>, az \u00faj entit\u00e1s body-ban, \u00e9s a megfelel\u0151 Location header</li> <li><code>DELETE /api/task/neptun/{id}</code>: adott azonos\u00edt\u00f3j\u00fa task t\u00f6rl\u00e9se, v\u00e1lasza <code>204 No content</code> vagy <code>404 Not found</code></li> </ul> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet Postman-b\u0151l (avagy m\u00e1s, hasonl\u00f3 eszk\u00f6zb\u0151l, ha nem Postman-t haszn\u00e1lt\u00e1l), amely egy tetsz\u0151leges k\u00e9r\u00e9st \u00e9s v\u00e1lasz\u00e1t mutatja a fentiek k\u00f6z\u00fcl. A k\u00e9pet a megold\u00e1sban <code>f2.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon a kimen\u0151 k\u00e9r\u00e9s \u00e9s a v\u00e1lasz is minden r\u00e9szlet\u00e9vel (URL, body, v\u00e1lasz k\u00f3d, v\u00e1lasz body). Ellen\u0151rizd, hogy a Neptun k\u00f3dod az URL-ben szerepel-e! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a r\u00e9szpontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-EFREST/#3-feladat-task-on-vegzett-muveletek-6-pont","title":"3. Feladat: Task-on v\u00e9gzett m\u0171veletek (6 pont)","text":"<p>Implement\u00e1lj k\u00e9t \u00faj http v\u00e9gpontot a task-ot kezel\u0151 controllerben, amellyel az al\u00e1bbiak szerint m\u00f3dos\u00edthat\u00f3 egy-egy task p\u00e9ld\u00e1ny.</p>"},{"location":"Lab-EFREST/#kesz-allapot-jelzese-3p","title":"K\u00e9sz \u00e1llapot jelz\u00e9se (3p)","text":"<p>A <code>Task.IsDone</code> flag jelzi a task k\u00e9sz volt\u00e1t. K\u00e9sz\u00edts egy \u00faj http v\u00e9gpontot az al\u00e1bbiak szerint, amely az <code>ITaskService.MarkDone</code> m\u0171veleten kereszt\u00fcl be\u00e1ll\u00edtja a flaget a megadott task p\u00e9ld\u00e1nyon.</p> <p>K\u00e9r\u00e9s: <code>PATCH /api/task/neptun/{id}/done</code>, ahol <code>{id}</code> a task azonos\u00edt\u00f3ja.</p> <p>V\u00e1lasz:</p> <ul> <li><code>404 Not found</code>, ha nem l\u00e9tezik a task</li> <li><code>200 OK</code> ha sikeres a m\u0171velet - a body-ban adja vissza a m\u00f3dos\u00edt\u00e1s ut\u00e1ni task entit\u00e1st.</li> </ul>"},{"location":"Lab-EFREST/#atsorolas-masik-statuszba-3p","title":"\u00c1tsorol\u00e1s m\u00e1sik st\u00e1tuszba (3p)","text":"<p>Egy task egy st\u00e1tuszhoz tartozik (<code>Task.StatusId</code>). K\u00e9sz\u00edts egy \u00faj http v\u00e9gpontot az al\u00e1bbiak szerint, amely az <code>ITaskService.MoveToStatus</code> m\u0171veleten kereszt\u00fcl \u00e1thelyezi a megadott task-ot egy m\u00e1sik st\u00e1tuszba. Ha az \u00faj st\u00e1tusz nem l\u00e9tezik, akkor hozzon l\u00e9tre \u00fajat a m\u0171velet.</p> <p>K\u00e9r\u00e9s: <code>PATCH /api/task/neptun/{id}/move</code>, ahol</p> <ul> <li><code>{id}</code> a task azonos\u00edt\u00f3ja,</li> <li>az \u00faj st\u00e1tusz neve pedig a bodyban \u00e9rkezik egy <code>status</code> property-ben.</li> </ul> <p>V\u00e1lasz:</p> <ul> <li><code>404 Not found</code>, ha nem l\u00e9tezik a task</li> <li><code>200 OK</code> ha sikeres a m\u0171velet - a body-ban adja vissza a m\u00f3dos\u00edt\u00e1s ut\u00e1ni task entit\u00e1st.</li> </ul> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet Postman-b\u0151l (avagy m\u00e1s, hasonl\u00f3 eszk\u00f6zb\u0151l, ha nem Postman-t haszn\u00e1lt\u00e1l), amely a fentiek k\u00f6z\u00fcl egy tetsz\u0151leges k\u00e9r\u00e9st \u00e9s v\u00e1lasz\u00e1t mutatja. A k\u00e9pet a megold\u00e1sban <code>f3.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon a kimen\u0151 k\u00e9r\u00e9s \u00e9s a v\u00e1lasz is minden r\u00e9szlet\u00e9vel (URL, body, v\u00e1lasz k\u00f3d, v\u00e1lasz body). Ellen\u0151rizd, hogy a Neptun k\u00f3dod az URL-ben szerepel-e! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a pontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-EFREST/#4-feladat-opcionalis-imsc-feladat-3-imsc-pont","title":"4. Feladat: Opcion\u00e1lis iMSc feladat (3 iMSc pont)","text":"<p>Amennyiben sok task van, nem c\u00e9lszer\u0171 egyszerre mindet visszaadni list\u00e1z\u00e1skor. Implement\u00e1lj lapoz\u00e1st erre a funkci\u00f3ra az al\u00e1bbi k\u00f6vetelm\u00e9nyekkel.</p> <ul> <li>Determinisztikusan az ID alapj\u00e1n sorrendben adja vissza az elemeket.</li> <li>A k\u00e9r\u00e9sben egy opcion\u00e1lis <code>count</code> nev\u0171 query param\u00e9terben megadott darabsz\u00e1m\u00fa elemet ad vissza minden lapon. alap\u00e9rtelmezetten legyen 5 az \u00e9rt\u00e9ke, ha a kliens nem k\u00fcldi.</li> <li>A k\u00f6vetkez\u0151 lapot egy opcion\u00e1lis <code>fromId</code> \u00e9rt\u00e9k bemond\u00e1s\u00e1val lehessen lek\u00e9rni. Ezen <code>fromId</code> a lapoz\u00e1sban a soron k\u00f6vetkez\u0151 elem azonos\u00edt\u00f3ja.</li> <li>A http k\u00e9r\u00e9s k\u00e9t param\u00e9tere <code>fromId</code> \u00e9s <code>count</code> opcion\u00e1lis query param\u00e9terben \u00e9rkezzen.</li> <li>A lapoz\u00e1s a megl\u00e9v\u0151 <code>GET /api/task/neptun/paged</code> c\u00edmen legyen el\u00e9rhet\u0151.</li> <li>A lapoz\u00e1s sor\u00e1n a v\u00e1laszhoz csak azok az entit\u00e1sok legyenek lek\u00e9rdezve, amelyekre t\u00e9nyleg sz\u00fcks\u00e9g is van (teh\u00e1t ne r\u00e1ntsd be feleslegesen a teljes t\u00e1bl\u00e1t mem\u00f3ri\u00e1ba).</li> <li> <p>A lapoz\u00e1s v\u00e1lasza a <code>Dto.PagedTaskList</code> oszt\u00e1ly p\u00e9ld\u00e1nya legyen. Ebben szerepel:</p> <ul> <li>a lapon tal\u00e1lhat\u00f3 elemek t\u00f6mbje (<code>Items</code>),</li> <li>a lapon tal\u00e1lhat\u00f3 elemek sz\u00e1ma (<code>Count</code>)</li> <li>a k\u00f6vetkez\u0151 lap lek\u00e9r\u00e9s\u00e9hez sz\u00fcks\u00e9ges <code>fromId</code> \u00e9rt\u00e9k (<code>NextId</code>),</li> <li> <p>\u00e9s seg\u00edts\u00e9gk\u00e9nt az URL, amivel a k\u00f6vetkez\u0151 lap lek\u00e9rhet\u0151 (<code>NextUrl</code>), vagy <code>null</code>, ha nincs t\u00f6bb lap.</p> <p>Az Url el\u0151\u00e1ll\u00edt\u00e1s\u00e1hoz haszn\u00e1ld a controller oszt\u00e1lyon el\u00e9rhet\u0151 <code>Url.Action</code> seg\u00e9df\u00fcggv\u00e9nyt. Ne \u00e9gesd be a k\u00f3dba se a <code>localhost:5000</code>, se a <code>/api/task/neptun/paged</code> URL r\u00e9szleteket! Az URL el\u0151\u00e1ll\u00edt\u00e1s\u00e1hoz nem string m\u0171veletekre lesz sz\u00fcks\u00e9ged!</p> <p>Az <code>Url.Action</code> akkor fog abszol\u00fat URL-t visszaadni, ha minden param\u00e9ter\u00e9t (<code>action</code>, <code>controller</code>, <code>values</code>, <code>protocol</code> \u00e9s <code>host</code>) kit\u00f6lt\u00f6d; ut\u00f3bbiakhoz a <code>HttpContext.Request</code> tud adatokat ny\u00fajtani.</p> </li> </ul> </li> <li> <p>A k\u00e9r\u00e9s mindig 200 OK v\u00e1lasszal t\u00e9r vissza, csak legfeljebb \u00fcres a visszaadott v\u00e1laszban az elemek t\u00f6mbje.</p> </li> </ul> Az al\u00e1bbi k\u00e9r\u00e9s-v\u00e1lasz sorozat mutatja a m\u0171k\u00f6d\u00e9st <ol> <li> <p><code>GET /api/task/neptun/paged?count=2</code></p> <p>Ez az els\u0151 k\u00e9r\u00e9s. Itt nincs <code>from</code> param\u00e9ter, ez a legels\u0151 elemt\u0151l indul.</p> <p>V\u00e1lasz:</p> <pre><code>{\n\"items\": [\n{\n\"id\": 1,\n\"title\": \"doing homework\",\n\"done\": false,\n\"status\": \"pending\"\n},\n{\n\"id\": 2,\n\"title\": \"doing more homework\",\n\"done\": false,\n\"status\": \"new\"\n}\n],\n\"count\": 2,\n\"nextId\": 3,\n\"nextUrl\": \"http://localhost:5000/api/task/neptun/paged?fromId=3&amp;count=2\"\n}\n</code></pre> </li> <li> <p><code>GET /api/task/neptun/paged?fromId=3&amp;count=2</code></p> <p>Ez a m\u00e1sodik lap tartalm\u00e1nak lek\u00e9r\u00e9se.</p> <p>V\u00e1lasz:</p> <pre><code>{\n\"items\": [\n{\n\"id\": 3,\n\"title\": \"hosework\",\n\"done\": true,\n\"status\": \"done\"\n}\n],\n\"count\": 1,\n\"nextId\": null,\n\"nextUrl\": null\n}\n</code></pre> <p>A v\u00e1lasz mutatja, hogy nincs tov\u00e1bbi lap, mind a <code>nextId</code>, mind a <code>nextUrl</code> null.</p> </li> <li> <p><code>GET /api/task/neptun?fromId=999&amp;count=999</code></p> <p>Ez egy \u00fcres lap.</p> <p>V\u00e1lasz:</p> <pre><code>{\n\"items\": [],\n\"count\": 0,\n\"nextId\": null,\n\"nextUrl\": null\n}\n</code></pre> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet Postman-b\u0151l (avagy m\u00e1s, hasonl\u00f3 eszk\u00f6zb\u0151l, ha nem Postman-t haszn\u00e1lt\u00e1l), amely a fenti bemutatott p\u00e9ld\u00e1hoz hasonl\u00f3an egy tetsz\u0151leges lap lek\u00e9r\u00e9s\u00e9t \u00e9s v\u00e1lasz\u00e1t mutatja. A k\u00e9pet a megold\u00e1sban <code>f4.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon a kimen\u0151 k\u00e9r\u00e9s \u00e9s a v\u00e1lasz is minden r\u00e9szlet\u00e9vel (URL, body, v\u00e1lasz k\u00f3d, v\u00e1lasz body). Ellen\u0151rizd, hogy a Neptun k\u00f3dod az URL-ben szerepel-e! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a pontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-MSSQL/","title":"MSSQL","text":"<p>A labor sor\u00e1n a Microsoft SQL Server programoz\u00e1si lehet\u0151s\u00e9geit fogjuk gyakorolni komplexebb feladatokon kereszt\u00fcl.</p>"},{"location":"Lab-MSSQL/#elofeltetelek-felkeszules","title":"El\u0151felt\u00e9telek, felk\u00e9sz\u00fcl\u00e9s","text":"<p>A labor elv\u00e9gz\u00e9s\u00e9hez sz\u00fcks\u00e9ges eszk\u00f6z\u00f6k:</p> <ul> <li>Windows, Linux vagy MacOS: Minden sz\u00fcks\u00e9ges program platform f\u00fcggetlen, vagy van platformf\u00fcggetlen alternat\u00edv\u00e1ja.</li> <li>Microsoft SQL Server<ul> <li>Express v\u00e1ltozat ingyenesen haszn\u00e1lhat\u00f3, avagy Visual Studio mellett feltelep\u00fcl\u0151 localdb v\u00e1ltozat is megfelel\u0151</li> <li>Van Linux v\u00e1ltozata is.</li> <li>MacOS-en Docker-rel futtathat\u00f3.</li> </ul> </li> <li>SQL Server Management Studio, vagy kipr\u00f3b\u00e1lhat\u00f3 a platformf\u00fcggetlen Azure Data Studio is</li> <li>Az adatb\u00e1zist l\u00e9trehoz\u00f3 script: mssql.sql</li> <li>GitHub account \u00e9s egy git kliens</li> </ul> <p>A labor elv\u00e9gz\u00e9s\u00e9hez haszn\u00e1lhat\u00f3 seg\u00e9danyagok \u00e9s felk\u00e9sz\u00fcl\u00e9si anyagok:</p> <ul> <li>Microsoft SQL Server haszn\u00e1lata: le\u00edr\u00e1s \u00e9s vide\u00f3</li> <li>Az adatb\u00e1zis s\u00e9m\u00e1j\u00e1nak le\u00edr\u00e1sa</li> <li>Microsoft SQL Server programoz\u00e1si lehet\u0151s\u00e9gei \u00e9s az SQL nyelv<ul> <li>L\u00e1sd az Adatvez\u00e9relt rendszerek c. t\u00e1rgy jegyzetei \u00e9s gyakorlati anyagai k\u00f6z\u00f6tt</li> </ul> </li> </ul>"},{"location":"Lab-MSSQL/#elokeszulet","title":"El\u0151k\u00e9sz\u00fclet","text":"<p>A feladatok megold\u00e1sa sor\u00e1n ne felejtsd el k\u00f6vetni a feladat bead\u00e1s folyamat\u00e1t.</p>"},{"location":"Lab-MSSQL/#git-repository-letrehozasa-es-letoltese","title":"Git repository l\u00e9trehoz\u00e1sa \u00e9s let\u00f6lt\u00e9se","text":"<ol> <li> <p>Moodle-ben keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-j\u00e9t \u00e9s annak seg\u00edts\u00e9g\u00e9vel hozd l\u00e9tre a saj\u00e1t repository-dat.</p> </li> <li> <p>V\u00e1rd meg, m\u00edg elk\u00e9sz\u00fcl a repository, majd checkout-old ki.</p> <p>Egyetemi laborokban, ha a checkout sor\u00e1n nem k\u00e9r a rendszer felhaszn\u00e1l\u00f3nevet \u00e9s jelsz\u00f3t, \u00e9s nem siker\u00fcl a checkout, akkor val\u00f3sz\u00edn\u0171leg a g\u00e9pen kor\u00e1bban megjegyzett felhaszn\u00e1l\u00f3n\u00e9vvel pr\u00f3b\u00e1lkozott a rendszer. El\u0151sz\u00f6r t\u00f6r\u00f6ld ki a mentett bel\u00e9p\u00e9si adatokat (l\u00e1sd itt), \u00e9s pr\u00f3b\u00e1ld \u00fajra.</p> </li> <li> <p>Hozz l\u00e9tre egy \u00faj \u00e1gat <code>megoldas</code> n\u00e9ven, \u00e9s ezen az \u00e1gon dolgozz.</p> </li> <li> <p>A <code>neptun.txt</code> f\u00e1jlba \u00edrd bele a Neptun k\u00f3dodat. A f\u00e1jlban semmi m\u00e1s ne szerepeljen, csak egyetlen sorban a Neptun k\u00f3d 6 karaktere.</p> </li> </ol>"},{"location":"Lab-MSSQL/#adatbazis-letrehozasa","title":"Adatb\u00e1zis l\u00e9trehoz\u00e1sa","text":"<ol> <li> <p>Kapcsol\u00f3dj Microsoft SQL Serverhez SQL Server Management Studio Seg\u00edts\u00e9g\u00e9vel. Ind\u00edtsd el az alkalmaz\u00e1st, \u00e9s az al\u00e1bbi adatokkal kapcsol\u00f3dj.</p> <ul> <li>Server name: <code>(localdb)\\mssqllocaldb</code> vagy <code>.\\sqlexpress</code> (ezzel egyen\u00e9rt\u00e9k\u0171: <code>localhost\\sqlexpress</code>)</li> <li>Authentication: <code>Windows authentication</code></li> </ul> </li> <li> <p>Hozz l\u00e9tre egy \u00faj adatb\u00e1zist (ha m\u00e9g nem l\u00e9tezik). Az adatb\u00e1zis neve legyen a Neptun k\u00f3dod: Object Explorer-ben Databases-en jobb kattint\u00e1s, \u00e9s Create Database.</p> <p>FONTOS</p> <p>Az adatb\u00e1zis neve egyezzen meg a Neptun k\u00f3doddal. A labor megold\u00e1s\u00e1ban k\u00e9r\u00fcnk k\u00e9perny\u0151k\u00e9peket, amelyeken \u00edgy kell szerepelnie az adatb\u00e1zisnak!</p> </li> <li> <p>Hozd l\u00e9tre a minta adatb\u00e1zist a gener\u00e1l\u00f3 script lefuttat\u00e1s\u00e1val. Nyiss egy \u00faj Query ablakot, m\u00e1sold be a script tartalm\u00e1t, \u00e9s futtasd le. \u00dcgyelj az eszk\u00f6zt\u00e1ron lev\u0151 leg\u00f6rd\u00fcl\u0151 men\u00fcben a megfelel\u0151 adatb\u00e1zis kiv\u00e1laszt\u00e1s\u00e1ra.</p> <p></p> </li> <li> <p>Ellen\u0151rizd, hogy l\u00e9trej\u00f6ttek-e a t\u00e1bl\u00e1k. Ha a Tables mappa ki volt m\u00e1r nyitva, akkor friss\u00edteni kell.</p> <p>.</p> </li> </ol>"},{"location":"Lab-MSSQL/#feladat-1-kategoria-nezet-es-adatbeszuras","title":"Feladat 1: Kateg\u00f3ria n\u00e9zet \u00e9s adatbesz\u00far\u00e1s","text":"<p>A feladat megold\u00e1s\u00e1val 8 pont szerezhet\u0151.</p>"},{"location":"Lab-MSSQL/#nezet-letrehozasa","title":"N\u00e9zet l\u00e9trehoz\u00e1sa","text":"<p>Hozz l\u00e9tre egy n\u00e9zetet <code>CategoryWithParent</code> n\u00e9ven a <code>Category</code> t\u00e1bla k\u00e9nyelmesebb haszn\u00e1lat\u00e1hoz. A n\u00e9zetben k\u00e9t oszlop legyen: a kateg\u00f3ria megnevez\u00e9se (<code>Name</code>), \u00e9s a sz\u00fcl\u0151kateg\u00f3ria (<code>ParentCategoryId</code>) megnevez\u00e9se - amennyiben l\u00e9tezik, vagy null.</p> <p>Nyiss egy \u00faj Query ablakot. \u00dcgyelj r\u00e1, hogy a j\u00f3 adatb\u00e1zis legyen kiv\u00e1lasztva. Hozd l\u00e9tre a n\u00e9zetet az al\u00e1bbi utas\u00edt\u00e1s lefuttat\u00e1s\u00e1val.</p> <pre><code>create view CategoryWithParent\nas\nselect c.Name CategoryName, p.Name ParentCategoryName\nfrom Category c\nleft outer join Category p on c.ParentCategoryId = p.ID\n</code></pre> <p>Pr\u00f3b\u00e1ld ki a n\u00e9zetet: k\u00e9rdezd le a n\u00e9zet tartalm\u00e1t!</p> <p></p>"},{"location":"Lab-MSSQL/#beszuras-a-nezeten-keresztul","title":"Besz\u00far\u00e1s a n\u00e9zeten kereszt\u00fcl","text":"<p>K\u00e9sz\u00edts triggert <code>InsertCategoryWithParent</code> n\u00e9ven, ami lehet\u0151v\u00e9 teszi \u00faj kateg\u00f3ria besz\u00far\u00e1s\u00e1t az el\u0151bb l\u00e9trehozott n\u00e9zeten kereszt\u00fcl (teh\u00e1t a kateg\u00f3ria nev\u00e9t \u00e9s opcion\u00e1lisan a sz\u00fcl\u0151kateg\u00f3ria nev\u00e9t megadva). A sz\u00fcl\u0151 kateg\u00f3ria megad\u00e1sa nem k\u00f6telez\u0151, de amennyiben meg van adva a neve \u00e9s ilyen n\u00e9vvel nem l\u00e9tezik rekord, dobj hib\u00e1t, \u00e9s ne vedd fel az adatot a t\u00e1bl\u00e1ba.</p> <p>A megold\u00e1sban egy instead of t\u00edpus\u00fa triggerre lesz sz\u00fcks\u00e9g\u00fcnk, mert ez ad lehet\u0151s\u00e9get a n\u00e9zeten kereszt\u00fcl t\u00f6rt\u00e9n\u0151 adatbesz\u00far\u00e1sra. A trigger v\u00e1z\u00e1t l\u00e1thatod al\u00e1bb.</p> <pre><code>create trigger InsertCategoryWithParent -- name of the trigger\non CategoryWithParent -- name of the view\ninstead of insert    -- trigger code executed insted of insert\nas\nbegin\ndeclare @newname nvarchar(255) -- variables used below\ndeclare @parentname nvarchar(255)\n\n-- using a cursor to navigate the inserted table\ndeclare ic cursor for select * from inserted\nopen ic\n-- standard way of managing a cursor\nfetch next from ic into @newname, @parentname\nwhile @@FETCH_STATUS = 0\nbegin\n-- check the received values available in the variables\n-- find the id of the parent, if specified\n-- throw error if anything is not right\n-- or insert the record into the Category table\nfetch next from ic into @newname, @parentname\nend\n\nclose ic -- finish cursor usage\ndeallocate ic\nend\n</code></pre> <ol> <li> <p>Eg\u00e9sz\u00edtsd ki a trigger v\u00e1zat a ciklusban.</p> <ul> <li> <p>Ha \u00e9rkezik sz\u00fcl\u0151 kateg\u00f3ria n\u00e9v, ellen\u0151rizd, hogy l\u00e9tezik-e kateg\u00f3ria olyan n\u00e9vvel, mint ami a <code>@parentname</code> v\u00e1ltoz\u00f3ban van.</p> </li> <li> <p>Ha nincs ilyen, akkor dobj hib\u00e1t, amivel le\u00e1ll a trigger fut\u00e1sa.</p> </li> <li> <p>Ha minden rendben van, akkor sz\u00fard be az \u00faj adatokat a <code>Category</code> t\u00e1bl\u00e1ba (ne a n\u00e9zetbe, hiszen a n\u00e9zet nem \u00edrhat\u00f3, pont ez\u00e9rt k\u00e9sz\u00fcl a trigger).</p> </li> </ul> <p>BEADAND\u00d3</p> <p>A trigger k\u00f3dj\u00e1t az <code>f1-trigger.sql</code> f\u00e1jlba \u00edrd. A f\u00e1jlban csak ez az egyetlen <code>create trigger</code> utas\u00edt\u00e1s legyen! Semmik\u00e9ppen se legyen <code>[use]</code>, se <code>go</code> utas\u00edt\u00e1s a f\u00e1jlban! A helyes megold\u00e1s 4 pontot \u00e9r.</p> </li> <li> <p>Pr\u00f3b\u00e1ld ki, j\u00f3l m\u0171k\u00f6dik-e a trigger! \u00cdrj egy olyan besz\u00far\u00f3 utas\u00edt\u00e1st, amely sikeresen felvesz egy \u00faj elemet, \u00e9s egy olyan teszt utas\u00edt\u00e1st, amely sor\u00e1n nem siker\u00fcl a besz\u00far\u00e1s.</p> <p>A helyes \u00e9s helytelen viselked\u00e9shez felt\u00e9telezheted, hogy az adatb\u00e1zis a kiindul\u00f3 \u00e1llapotban van: olyan kateg\u00f3ria rekordok l\u00e9teznek csup\u00e1n, amelyeket a l\u00e9trehoz\u00f3 script besz\u00fart. A k\u00e9t teszt ne \u00e9p\u00fclj\u00f6n egym\u00e1sra! Mindkett\u0151 az elv\u00e1rt eredm\u00e9nyt adja att\u00f3l f\u00fcggetlen\u00fcl, hogy a m\u00e1sik lefutott-e m\u00e1r!</p> <p>\u00c9kezet ker\u00fclend\u0151</p> <p>\u00c9rdemes olyan teszt adatokat v\u00e1lasztani, amiben nincs \u00e9kezet! K\u00fcl\u00f6nben probl\u00e9m\u00e1kat okozhat az sql f\u00e1jl k\u00f3dol\u00e1s\u00e1nak helytelen be\u00e1ll\u00edt\u00e1sa. Hogy ezt elker\u00fclj\u00fck, haszn\u00e1lhat\u00f3 p\u00e9ld\u00e1ul a LEGO, mint l\u00e9tez\u0151 sz\u00fcl\u0151 kateg\u00f3ria n\u00e9v.</p> <p>BEADAND\u00d3</p> <p>A teszt utas\u00edt\u00e1sokat az <code>f1-test-ok.sql</code> \u00e9s <code>f1-test-error.sql</code> f\u00e1jlokba \u00edrd. Mindk\u00e9t f\u00e1jlban csak egyetlen <code>insert</code> utas\u00edt\u00e1s legyen! Semmik\u00e9ppen ne legyen <code>[use]</code>, se <code>go</code> utas\u00edt\u00e1s benn\u00fck! Mindk\u00e9t utas\u00edt\u00e1s 2-2 pontot \u00e9r.</p> </li> </ol>"},{"location":"Lab-MSSQL/#feladat-2-szamla-ellenorzese","title":"Feladat 2: Sz\u00e1mla ellen\u0151rz\u00e9se","text":"<p>A feladat megold\u00e1sa 6 pontot \u00e9r.</p>"},{"location":"Lab-MSSQL/#tarolt-eljaras","title":"T\u00e1rolt elj\u00e1r\u00e1s","text":"<p>\u00cdrj t\u00e1rolt elj\u00e1r\u00e1st <code>CheckInvoice</code> n\u00e9ven, aminek bemeneti param\u00e9tere egy <code>int</code> t\u00edpus\u00fa \u00e9s <code>@invoiceid</code> nev\u0171 sz\u00e1mlaazonos\u00edt\u00f3.</p> <ul> <li>Az elj\u00e1r\u00e1s ellen\u0151rizze, hogy a param\u00e9terben kapott sz\u00e1ml\u00e1hoz (<code>Invoice</code>) kapcsol\u00f3d\u00f3 sz\u00e1mlat\u00e9teleken (<code>InvoiceItem</code>) szerepl\u0151 mennyis\u00e9g (<code>Amount</code>) egyezik-e a kapcsol\u00f3d\u00f3 megrendel\u00e9st\u00e9tel (<code>OrderItem</code>) mennyis\u00e9g\u00e9vel. (Az <code>InvoiceItem</code> rekord hivatkozik a kapcsol\u00f3d\u00f3 <code>OrderItem</code>-re.)</li> <li>Amennyiben elt\u00e9r\u00e9s tal\u00e1lhat\u00f3 a kett\u0151ben, \u00fagy mindkett\u0151 \u00e9rt\u00e9k\u00e9t, valamint a term\u00e9k nev\u00e9t \u00edrd ki a standard outputra az al\u00e1bbi s\u00e9ma szerint: <code>Error: Ball (invoice 5 order 6)</code></li> <li>Csak akkor \u00edrjon b\u00e1rmit a kimenetre a t\u00e1rolt elj\u00e1r\u00e1s, ha probl\u00e9m\u00e1t tal\u00e1lt. Semmik\u00e9ppen se hagyj tesztel\u00e9shez haszn\u00e1lt ki\u00edr\u00e1st az elj\u00e1r\u00e1sban!</li> <li>Legyen az elj\u00e1r\u00e1s <code>int</code> t\u00edpus\u00fa visszat\u00e9r\u00e9si \u00e9rt\u00e9ke 0, ha nem kellett semmit ki\u00edrni a kimenetre, \u00e9s 1, ha kellett. Ez az \u00e9rt\u00e9k <code>return</code> kulcssz\u00f3val ker\u00fclj\u00f6n visszaad\u00e1sra (ne <code>output</code> param\u00e9ter legyen).</li> </ul> <p>A ki\u00edr\u00e1shoz haszn\u00e1ld a <code>print</code> parancsot: <code>PRINT 'Szoveg' + @valtozo + 'Szoveg'</code> \u00dcgyelj r\u00e1, hogy a v\u00e1ltoz\u00f3nak char t\u00edpus\u00fanak kell lennie, egy\u00e9b t\u00edpus, pl. sz\u00e1m konvert\u00e1l\u00e1sa: <code>convert(varchar(5), @valtozo)</code>, pl. <code>PRINT 'Szoveg' + convert(varchar(5), @valtozo)</code></p> <p>BEADAND\u00d3</p> <p>Az elj\u00e1r\u00e1s k\u00f3dj\u00e1t az <code>f2-procedure.sql</code> f\u00e1jlba \u00edrd. A f\u00e1jlban csak ez az egyetlen <code>create proc</code> utas\u00edt\u00e1s legyen! A feladat helyes megold\u00e1sa 4 pontot \u00e9r. Helyess\u00e9g f\u00fcggv\u00e9ny\u00e9ben r\u00e9szpontsz\u00e1m is kaphat\u00f3.</p>"},{"location":"Lab-MSSQL/#minden-szamla-ellenorzese","title":"Minden sz\u00e1mla ellen\u0151rz\u00e9se","text":"<p>\u00cdrj T-SQL k\u00f3dblokkot, ami az el\u0151z\u0151 feladatban meg\u00edrt elj\u00e1r\u00e1st h\u00edvja meg egyenk\u00e9nt az \u00f6sszes sz\u00e1ml\u00e1ra. \u00c9rdemes ehhez egy kurzort haszn\u00e1lnod, ami a sz\u00e1ml\u00e1kon fut v\u00e9gig.</p> <p>A k\u00f3d minden sz\u00e1mla ellen\u0151rz\u00e9se el\u0151tt \u00edrja ki a standard outputra a sz\u00e1mla azonos\u00edt\u00f3j\u00e1t (pl. <code>InvoiceID: 12</code>), \u00e9s amennyiben nem volt elt\u00e9r\u00e9s, \u00edrja ki a kimenetre, hogy 'Invoice ok'. Ezt a kimenetet a query ablak alatti Messages panelen fogod l\u00e1tni.</p> <p>T\u00e1rolt elj\u00e1r\u00e1s megh\u00edv\u00e1sa</p> <p>T\u00e1rolt elj\u00e1r\u00e1s megh\u00edv\u00e1sa k\u00f3db\u00f3l az <code>exec</code> paranccsal lehets\u00e9ges, pl.</p> <pre><code>declare @checkresult int\nexec @checkresult = CheckInvoice 123\n</code></pre> <p>Ellen\u0151rizd a k\u00f3dblokk viselked\u00e9s\u00e9t. Ahhoz, hogy elt\u00e9r\u00e9st tapasztalj, ha sz\u00fcks\u00e9ges, v\u00e1ltoztass meg egy megrendel\u00e9s t\u00e9telt vagy sz\u00e1mla t\u00e9telt az adatb\u00e1zisban. (Az ellen\u0151rz\u00e9shez tartoz\u00f3 k\u00f3dot nem kell beadni.)</p> <p>BEADAND\u00d3</p> <p>Az \u00f6sszes sz\u00e1ml\u00e1t ellen\u0151rz\u0151 k\u00f3dot az <code>f2-check-all.sql</code> f\u00e1jlba \u00edrd. A f\u00e1jlban csak a lefuttathat\u00f3 k\u00f3dblokk szerepeljen. Ne legyen benne a t\u00e1rolt elj\u00e1r\u00e1s k\u00f3dja, ne legyen benne se <code>[use]</code> se <code>go</code> utas\u00edt\u00e1s. A feladatr\u00e9sszel 2 pont szerezhet\u0151.</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a k\u00f3d fut\u00e1s\u00e1nak eredm\u00e9ny\u00e9r\u0151l, amikor valamilyen elt\u00e9r\u00e9st megtal\u00e1lt. A k\u00e9pet <code>f2.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon az Object Explorer-ben az adatb\u00e1zis neve (a Neptun k\u00f3dod) \u00e9s a ki\u00edrt \u00fczenet is!</p>"},{"location":"Lab-MSSQL/#feladat-3-szamla-tabla-denormalizalasa","title":"Feladat 3: Sz\u00e1mla t\u00e1bla denormaliz\u00e1l\u00e1sa","text":"<p>A feladat megold\u00e1sa 6 pontot \u00e9r.</p>"},{"location":"Lab-MSSQL/#uj-oszlop","title":"\u00daj oszlop","text":"<p>M\u00f3dos\u00edtsd az <code>Invoice</code> t\u00e1bl\u00e1t: vegy\u00e9l fel egy \u00faj oszlopot <code>ItemCount</code> n\u00e9ven a sz\u00e1ml\u00e1hoz tartoz\u00f3 \u00f6sszes t\u00e9tel (<code>InvoiceItem</code>) darabsz\u00e1m\u00e1nak t\u00e1rol\u00e1s\u00e1hoz.</p> <p>BEADAND\u00d3</p> <p>Az oszlopot hozz\u00e1ad\u00f3 k\u00f3dot az <code>f3-column.sql</code> f\u00e1jlba \u00edrd bele. A f\u00e1jlban csak egyetlen <code>alter table</code> utas\u00edt\u00e1s szerepeljen, ne legyen benne se <code>[use]</code> se <code>go</code> utas\u00edt\u00e1s. A feladatr\u00e9sszel 1 pont szerezhet\u0151. Ez a feladat el\u0151k\u00f6vetelm\u00e9nye a k\u00f6vetkez\u0151nek.</p> <p>K\u00e9sz\u00edts T-SQL programblokkot, amely kit\u00f6lti az \u00fajonnan felvett oszlopot az aktu\u00e1lis adatok alapj\u00e1n.</p> <p>Ha p\u00e9ld\u00e1ul egy sz\u00e1ml\u00e1n (<code>Invoice</code>) szerepel 2 darab piros p\u00f6tty\u00f6s labda \u00e9s 1 darab tollas\u00fct\u0151, akkor 3 t\u00e9tel szerepel a sz\u00e1ml\u00e1n. \u00dcgyelj r\u00e1, hogy sz\u00e1ml\u00e1hoz (\u00e9s nem a megrendel\u00e9shez) tartoz\u00f3 t\u00e9teleket kell n\u00e9zni!</p> <p>BEADAND\u00d3</p> <p>Az oszlopot kit\u00f6lt\u0151 k\u00f3dot az <code>f3-fill.sql</code> f\u00e1jlba \u00edrd. A f\u00e1jlban csak egy T-SQL k\u00f3dblokk legyen, ne haszn\u00e1lj t\u00e1rolt elj\u00e1r\u00e1st vagy triggert, \u00e9s ne legyen a k\u00f3dban se <code>[use]</code> se <code>go</code> utas\u00edt\u00e1s. A feladatr\u00e9sszel 1 pont szerezhet\u0151.</p>"},{"location":"Lab-MSSQL/#oszlop-karbantartasa-triggerrel","title":"Oszlop karbantart\u00e1sa triggerrel","text":"<p>K\u00e9sz\u00edts triggert <code>InvoiceItemCountMaintenance</code> n\u00e9ven, amely a sz\u00e1mla tartalm\u00e1nak v\u00e1ltoz\u00e1s\u00e1val egy\u00fctt karbantartja az el\u0151z\u0151leg felvett t\u00e9telsz\u00e1m mez\u0151t. \u00dcgyelj r\u00e1, hogy hat\u00e9kony legyen a trigger! A teljes \u00fajrasz\u00e1mol\u00e1s nem elfogadhat\u00f3 megold\u00e1s. Tov\u00e1bb\u00e1 \u00fcgyelj arra is, hogy egyszerre t\u00f6bb t\u00e9tel is v\u00e1ltozhat, a triggernek ilyen esetben is j\u00f3l kell m\u0171k\u00f6dnie.</p> <p>Tipp</p> <p>A triggert a <code>InvoiceItem</code> t\u00e1bl\u00e1ra kell k\u00e9sz\u00edteni, b\u00e1r a friss\u00edtend\u0151 \u00e9rt\u00e9k az <code>Invoice</code> t\u00e1bl\u00e1ban van.</p> <p>Fontos</p> <p>Ne felejtsd, hogy a trigger utas\u00edt\u00e1s szint\u0171, azaz nem soronk\u00e9nt fut le, \u00edgy pontenci\u00e1lisan t\u00f6bb v\u00e1ltoz\u00e1s is lehet az implicit t\u00e1bl\u00e1kban! Az <code>inserted</code> \u00e9s <code>deleted</code> t\u00e1bla, \u00e9s mindenk\u00e9ppen ennek megfelel\u0151en kell \u0151ket kezelni.</p> <p>BEADAND\u00d3</p> <p>A k\u00f3dot az <code>f3-trigger.sql</code> f\u00e1jlba \u00edrd. A f\u00e1jlban csak egyetlen <code>create trigger</code> utas\u00edt\u00e1s legyen, \u00e9s ne legyen a k\u00f3dban se <code>[use]</code> se <code>go</code> utas\u00edt\u00e1s. A feladatr\u00e9sz 4 pontot \u00e9r. Helyess\u00e9g f\u00fcggv\u00e9ny\u00e9ben r\u00e9szpontsz\u00e1m is kaphat\u00f3.</p> <p>Pr\u00f3b\u00e1ld ki, j\u00f3l m\u0171k\u00f6dik-e a trigger. A tesztel\u00e9shez haszn\u00e1lt utas\u00edt\u00e1sokat nem kell beadnod a megold\u00e1sban, de fontos, hogy ellen\u0151rizd a viselked\u00e9st. Ellen\u0151rizd olyan utas\u00edt\u00e1ssal is a trigger m\u0171k\u00f6d\u00e9s\u00e9t, amely egyszerre t\u00f6bb rekordot \u00e9rint (pl. <code>where</code> felt\u00e9tel n\u00e9lk\u00fcli <code>update</code> a t\u00e1bla teljes tartalm\u00e1ra)!</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet, amelyen l\u00e1that\u00f3 a kit\u00f6lt\u00f6tt <code>ItemCount</code> oszlop (az <code>Invoice</code> t\u00e1bla tartalm\u00e1val egy\u00fctt). A k\u00e9pet a megold\u00e1sban <code>f3.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon az Object Explorer-ben az adatb\u00e1zis neve (a Neptun k\u00f3dod) \u00e9s az <code>Invoice</code> t\u00e1bla tartalma is! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a r\u00e9szpontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-MSSQL/#feladat-4-opcionalis-feladat","title":"Feladat 4: Opcion\u00e1lis feladat","text":"<p>A feladat megold\u00e1sa 3 iMsc pontot \u00e9r.</p> <p>K\u00e9rdezd le a kateg\u00f3ri\u00e1kat (<code>Category</code> t\u00e1bla) \u00fagy, hogy az al\u00e1bbi eredm\u00e9nyt kapjuk:</p> Name Count Rank Building items 3 1 Months 0-6 2 2 DUPLO 1 3 LEGO 1 4 Months 18-24 1 5 Months 6-18 1 6 Play house 1 7 <p>Az els\u0151 oszlop a kateg\u00f3ria neve, a m\u00e1sodik a kateg\u00f3ri\u00e1ban tal\u00e1lhat\u00f3 term\u00e9kek sz\u00e1ma, a harmadik oszlop pedig a sorrend, ahol is a kateg\u00f3ri\u00e1k a term\u00e9k darabsz\u00e1mok szerint cs\u00f6kken\u0151 sorrendben kell megjelenjenek, \u00e9s ha egyezik a term\u00e9k darabsz\u00e1m, akkor a kateg\u00f3ria n\u00e9v alapj\u00e1n n\u00f6vekv\u0151 sorrendben. A sorrendez\u00e9s folyamatos kell legyen, \u00e9s a v\u00e9geredm\u00e9ny a sz\u00e1m\u00edtott sorrend szerint n\u00f6vekv\u0151en kell \u00e9rkezzen. A lek\u00e9rdez\u00e9st egyetlen utas\u00edt\u00e1ssal kell megoldani. A lek\u00e9rdez\u00e9s eredm\u00e9ny\u00e9ben az oszlop nevek egyezzenek meg a fenti p\u00e9ld\u00e1ban l\u00e1that\u00f3 nevekkel.</p> <p>Tipp</p> <p>A harmadik oszlop neve nem v\u00e9letlen \"rank\".</p> <p>BEADAND\u00d3</p> <p>A lek\u00e9rdez\u00e9st az <code>f4.sql</code> f\u00e1jlba \u00edrd. A f\u00e1jlban egyetlen <code>select</code> utas\u00edt\u00e1s szerepeljen, \u00e9s semmik\u00e9ppen ne legyen benne se <code>[use]</code> se <code>go</code> utas\u00edt\u00e1s.</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a lek\u00e9rdez\u00e9s eredm\u00e9ny\u00e9r\u0151l. A k\u00e9pet a megold\u00e1sban <code>f4.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon az Object Explorer-ben az adatb\u00e1zis neve (a Neptun k\u00f3dod) \u00e9s a lek\u00e9rdez\u00e9s eredm\u00e9nye is! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a pontok megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-MongoDB/","title":"MongoDB","text":"<p>A labor sor\u00e1n a MongoDB NoSQL adatb\u00e1ziskezel\u0151 rendszer \u00e9s a Mongo C# driver haszn\u00e1lat\u00e1t gyakoroljuk komplexebb feladatokon kereszt\u00fcl.</p>"},{"location":"Lab-MongoDB/#elofeltetelek-felkeszules","title":"El\u0151felt\u00e9telek, felk\u00e9sz\u00fcl\u00e9s","text":"<p>A labor elv\u00e9gz\u00e9s\u00e9hez sz\u00fcks\u00e9ges eszk\u00f6z\u00f6k:</p> <ul> <li>Windows, Linux, vagy MacOS: Minden sz\u00fcks\u00e9ges program platform f\u00fcggetlen, vagy van platformf\u00fcggetlen alternat\u00edv\u00e1ja.</li> <li> <p>MongoDB Community Server (let\u00f6lt\u00e9s)</p> <ul> <li> <p>Telep\u00edt\u00e9s n\u00e9lk\u00fcl Docker seg\u00edts\u00e9g\u00e9vel az al\u00e1bbi paranccsal futtathatod a szervert</p> <pre><code>docker run --name swlab1-mongo -p 27017:27017 -d mongo\n</code></pre> </li> </ul> </li> <li> <p>Studio 3T Free (let\u00f6lt\u00e9s)</p> </li> <li>Minta adatb\u00e1zis k\u00f3dja (mongo.js)</li> <li>GitHub account \u00e9s egy git kliens</li> <li>Microsoft Visual Studio 2022 az itt tal\u00e1lhat\u00f3 be\u00e1ll\u00edt\u00e1sokkal<ul> <li>Linux \u00e9s MacOS eset\u00e9n Visual Studio Code \u00e9s a .NET SDK-val telep\u00fcl\u0151 dotnet CLI haszn\u00e1lhat\u00f3.</li> </ul> </li> <li> <p>.NET 6.0 SDK</p> <p>.NET Core 6.0</p> <p>A feladat megold\u00e1s\u00e1hoz 6.0-es .NET Core SDK telep\u00edt\u00e9se sz\u00fcks\u00e9ges.</p> <p>Windows-on Visual Studio verzi\u00f3 f\u00fcggv\u00e9ny\u00e9ben lehet, hogy telep\u00edtve van (l\u00e1sd itt az ellen\u0151rz\u00e9s m\u00f3dj\u00e1t); ha nem, akkor a fenti linkr\u0151l kell telep\u00edteni (az SDK-t \u00e9s nem a runtime-ot.) Linux \u00e9s MacOS eset\u00e9n telep\u00edteni sz\u00fcks\u00e9ges.</p> </li> </ul> <p>A labor elv\u00e9gz\u00e9s\u00e9hez haszn\u00e1lhat\u00f3 seg\u00e9danyagok \u00e9s felk\u00e9sz\u00fcl\u00e9si anyagok:</p> <ul> <li>MongoDB adatb\u00e1ziskezel\u0151 rendszer \u00e9s a C# driver haszn\u00e1lata<ul> <li>L\u00e1sd az Adatvez\u00e9relt rendszerek c. t\u00e1rgy jegyzetei \u00e9s gyakorlati anyagai k\u00f6z\u00f6tt</li> </ul> </li> <li>Hivatalos Microsoft tutorial Mongo-t haszn\u00e1l\u00f3 Web API k\u00e9sz\u00edt\u00e9s\u00e9hez<ul> <li>A labor sor\u00e1n nem WebAPI-t k\u00e9sz\u00edt\u00fcnk, de a Mongo haszn\u00e1lat azonos form\u00e1ban t\u00f6rt\u00e9nik.</li> </ul> </li> </ul>"},{"location":"Lab-MongoDB/#elokeszulet","title":"El\u0151k\u00e9sz\u00fclet","text":"<p>A feladatok megold\u00e1sa sor\u00e1n ne felejtsd el k\u00f6vetni a feladat bead\u00e1s folyamat\u00e1t.</p>"},{"location":"Lab-MongoDB/#git-repository-letrehozasa-es-letoltese","title":"Git repository l\u00e9trehoz\u00e1sa \u00e9s let\u00f6lt\u00e9se","text":"<ol> <li> <p>Moodle-ben keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-j\u00e9t \u00e9s annak seg\u00edts\u00e9g\u00e9vel hozd l\u00e9tre a saj\u00e1t repository-dat.</p> </li> <li> <p>V\u00e1rd meg, m\u00edg elk\u00e9sz\u00fcl a repository, majd checkout-old ki.</p> <p>Jelsz\u00f3 a laborokban</p> <p>Egyetemi laborokban, ha a checkout sor\u00e1n nem k\u00e9r a rendszer felhaszn\u00e1l\u00f3nevet \u00e9s jelsz\u00f3t, \u00e9s nem siker\u00fcl a checkout, akkor val\u00f3sz\u00edn\u0171leg a g\u00e9pen kor\u00e1bban megjegyzett felhaszn\u00e1l\u00f3n\u00e9vvel pr\u00f3b\u00e1lkozott a rendszer. El\u0151sz\u00f6r t\u00f6r\u00f6ld ki a mentett bel\u00e9p\u00e9si adatokat (l\u00e1sd itt), \u00e9s pr\u00f3b\u00e1ld \u00fajra.</p> </li> <li> <p>Hozz l\u00e9tre egy \u00faj \u00e1gat <code>megoldas</code> n\u00e9ven, \u00e9s ezen az \u00e1gon dolgozz.</p> </li> <li> <p>A <code>neptun.txt</code> f\u00e1jlba \u00edrd bele a Neptun k\u00f3dodat. A f\u00e1jlban semmi m\u00e1s ne szerepeljen, csak egyetlen sorban a Neptun k\u00f3d 6 karaktere.</p> </li> </ol>"},{"location":"Lab-MongoDB/#adatbazis-letrehozasa","title":"Adatb\u00e1zis l\u00e9trehoz\u00e1sa","text":"<p>K\u00f6vesd a gyakorlatanyagban le\u00edrt utas\u00edt\u00e1sokat az adatb\u00e1ziskezel\u0151 rendszer elind\u00edt\u00e1s\u00e1hoz \u00e9s az adatb\u00e1zis l\u00e9trehoz\u00e1s\u00e1hoz.</p>"},{"location":"Lab-MongoDB/#1-feladat-termekek-lekerdezese-es-modositasa-7-pont","title":"1. Feladat: Term\u00e9kek lek\u00e9rdez\u00e9se \u00e9s m\u00f3dos\u00edt\u00e1sa (7 pont)","text":"<p>Ebben a feladatban a <code>Product</code> entit\u00e1shoz tartoz\u00f3 CRUD (l\u00e9trehoz\u00e1s, list\u00e1z\u00e1s/olvas\u00e1s, m\u00f3dos\u00edt\u00e1s \u00e9s t\u00f6rl\u00e9s) utas\u00edt\u00e1sokat fogjuk megval\u00f3s\u00edtani.</p>"},{"location":"Lab-MongoDB/#visual-studio-solution-megnyitasa","title":"Visual Studio solution megnyit\u00e1sa","text":"<p>Nyisd meg a let\u00f6lt\u00f6tt repository-ban a Visual Studio solution-t (<code>.sln</code> f\u00e1jl). Ha a megnyit\u00e1s sor\u00e1n a Visual Studio azt jelezn\u00e9, hogy a projekt t\u00edpus nem t\u00e1mogatott, akkor telep\u00edtsd a Visual Studio hi\u00e1nyz\u00f3 komponenseit (l\u00e1sd itt).</p> <p>NE friss\u00edts semmilyen verzi\u00f3t</p> <p>Ne friss\u00edtsd se a projektet, se a .NET verzi\u00f3t, se a NuGet csomagokat! Ha ilyen k\u00e9rd\u00e9ssel tal\u00e1lkozol a solution megnyit\u00e1sa sor\u00e1n, akkor mindig mondj nemet!</p> <p>Munk\u00e1d sor\u00e1n a <code>Dal.Repository</code> oszt\u00e1lyba dolgozz! Ezen f\u00e1jl tartalm\u00e1t tetsz\u0151legesen m\u00f3dos\u00edthatod (felt\u00e9ve, hogy tov\u00e1bbra is megval\u00f3s\u00edtja a <code>Dal.IRepository</code> interf\u00e9szt, tov\u00e1bbra is van egy konstruktora egyetlen <code>IMongoDatabase</code> param\u00e9terrel \u00e9s term\u00e9szetesen tov\u00e1bbra is fordul a k\u00f3d).</p> <p>Az adatb\u00e1zis el\u00e9r\u00e9se a <code>Dal.MongoConnectionConfig</code> oszt\u00e1lyban van. Ha sz\u00fcks\u00e9ges, az adatb\u00e1zis nev\u00e9t megv\u00e1ltoztathatod a forr\u00e1sban jel\u00f6lt helyen.</p> <p>A projekt minden egy\u00e9b tartalma m\u00e1r el\u0151 van k\u00e9sz\u00edtve a munk\u00e1hoz, a fentieken k\u00edv\u00fcl m\u00e1shol NE m\u00f3dos\u00edtsd!</p> <p>Razor Pages</p> <p>A webalkalmaz\u00e1s egy un. Razor Pages t\u00edpus\u00fa ASP.NET Core projekt. Ezt egy szerver oldalon renderelt megjelen\u00edt\u00e9si r\u00e9teg, ahol teh\u00e1t a weboldal html k\u00f3dj\u00e1t C# k\u00f3d \u00e9s a Razor template \u00e1ll\u00edtja el\u0151. (A megjelen\u00edt\u00e9si r\u00e9teggel nem lesz feladatod, az m\u00e1r el\u0151 van k\u00e9sz\u00edtve sz\u00e1modra.)</p>"},{"location":"Lab-MongoDB/#webalkalmazas-elinditasa","title":"Webalkalmaz\u00e1s elind\u00edt\u00e1sa","text":"<p>Pr\u00f3b\u00e1ld ki, hogy elindul-e a program.</p> <ol> <li> <p>Ford\u00edtsd le \u00e9s ind\u00edtsd el Visual Studio-b\u00f3l az alkalmaz\u00e1st.</p> </li> <li> <p>Nyisd meg b\u00f6ng\u00e9sz\u0151ben a http://localhost:5000/ oldalt.</p> </li> </ol> <p>Ha minden rendben ment, akkor bej\u00f6tt egy oldal, ahol az egyes feladatokat ki fogod tudni pr\u00f3b\u00e1lni. (Az egyes feladatokra mutat\u00f3 linkek m\u00f6g\u00f6tti oldalak m\u00e9g nem m\u0171k\u00f6dnek. El\u0151bb m\u00e9g meg kell val\u00f3s\u00edtani az adatel\u00e9r\u00e9si r\u00e9teget.)</p>"},{"location":"Lab-MongoDB/#neptun-kod-megjelenitese-a-weboldalon","title":"Neptun k\u00f3d megjelen\u00edt\u00e9se a weboldalon","text":"<p>A forr\u00e1sk\u00f3d melletti k\u00e9perny\u0151k\u00e9peken szerepelnie kell a Neptun k\u00f3dodnak.</p> <ol> <li> <p>Nyisd meg a <code>Pages\\Shared\\_Layout.cshtml</code> f\u00e1jlt. A f\u00e1jl k\u00f6zepe fel\u00e9 keresd meg az al\u00e1bbi r\u00e9szt, \u00e9s \u00edrd \u00e1t benne a Neptun k\u00f3dodat.</p> <pre><code>&lt;div class=\"container body-content\"&gt;\n@RenderBody()\n&lt;hr /&gt;\n&lt;footer&gt;\n&lt;p&gt;@ViewData[\"Title\"] - NEPTUN&lt;/p&gt;\n&lt;/footer&gt;\n&lt;/div&gt;\n</code></pre> </li> <li> <p>Ford\u00edtsd le \u00e9s ind\u00edtsd el az alkalmaz\u00e1st ism\u00e9t, n\u00e9zd meg a kezd\u0151oldalt. Az alj\u00e1n kell l\u00e1sd a saj\u00e1t Neptun k\u00f3dod.</p> <p></p> </li> </ol> <p>FONTOS</p> <p>A Neptun k\u00f3dnak a fentiek szerint szerepelnie kell minden k\u00e9perny\u0151k\u00e9pen!</p>"},{"location":"Lab-MongoDB/#listazasolvasas","title":"List\u00e1z\u00e1s/olvas\u00e1s","text":"<ol> <li> <p>Els\u0151 l\u00e9p\u00e9sk\u00e9nt sz\u00fcks\u00e9g lesz az adatb\u00e1zisban tal\u00e1lhat\u00f3 <code>products</code> kollekci\u00f3 el\u00e9r\u00e9s\u00e9re a k\u00f3db\u00f3l. Ehhez vegy\u00e9l fel egy \u00faj mez\u0151t a <code>Repository</code> oszt\u00e1lyban, \u00e9s inicializ\u00e1ld ezt a konstruktorban. Az ehhez sz\u00fcks\u00e9ges <code>IMongoDatabase</code> objektumot Dependency Injection seg\u00edts\u00e9g\u00e9vel, konstruktorparam\u00e9terk\u00e9nt kaphatod meg.</p> <pre><code>private readonly IMongoCollection&lt;Entities.Product&gt; _productCollection;\n\npublic Repository(IMongoDatabase database)\n{\nthis.productCollection = database.GetCollection&lt;Entities.Product&gt;(\"products\");\n}\n</code></pre> </li> <li> <p>A <code>_productCollection</code> seg\u00edts\u00e9g\u00e9vel m\u00e1r tudunk lek\u00e9rdez\u0151/list\u00e1z\u00f3 utas\u00edt\u00e1sokat \u00edrni. Val\u00f3s\u00edtsuk meg el\u0151sz\u00f6r a <code>ListProducts</code> f\u00fcggv\u00e9nyt. Ez a f\u00fcggv\u00e9ny k\u00e9t l\u00e9p\u00e9sb\u0151l \u00e1ll: el\u0151sz\u00f6r lek\u00e9rdezz\u00fck az adatb\u00e1zisb\u00f3l a term\u00e9kek list\u00e1j\u00e1t, majd pedig \u00e1tkonvert\u00e1ljuk az elv\u00e1rt <code>Models.Product</code> oszt\u00e1ly elemekb\u0151l \u00e1ll\u00f3 list\u00e1ra.</p> <p>A lek\u00e9rdez\u00e9s a k\u00f6vetkez\u0151k\u00e9ppen n\u00e9z ki:</p> <pre><code>var dbProducts = _productCollection\n.Find(_ =&gt; true) // minden term\u00e9ket list\u00e1zunk \u2014 \u00fcres filter\n.ToList();\n</code></pre> <p>Ezt a list\u00e1t azt\u00e1n transzform\u00e1lva adjuk vissza.</p> <pre><code>return dbProducts\n.Select(t =&gt; new Product\n{\nId = t.Id.ToString(),\nName = t.Name,\nPrice = t.Price,\nStock = t.Stock\n})\n.ToList();\n</code></pre> </li> <li> <p>A <code>FindProduct(string id)</code> f\u00fcggv\u00e9ny megval\u00f3s\u00edt\u00e1sa nagyon hasonl\u00edt az el\u0151z\u0151h\u00f6z, csup\u00e1n annyiban k\u00fcl\u00f6nb\u00f6zik, hogy itt egyetlen term\u00e9ket k\u00e9rdez\u00fcnk le, <code>id</code> alapj\u00e1n. \u00dcgyelj\u00fcnk r\u00e1, hogy az <code>id</code>-t sz\u00f6vegk\u00e9nt kapjuk, \u00edgy <code>ObjectId</code>-v\u00e1 kell alak\u00edtani.</p> <p>A modell\u00e9 konvert\u00e1l\u00f3 l\u00e9p\u00e9s ugyan\u00fagy megmarad. Ebben az esetben oda kell figyeln\u00fcnk azonban, hogy ha nem tal\u00e1ljuk az adott term\u00e9ket, akkor adjunk vissza <code>null</code> \u00e9rt\u00e9ket, ne pr\u00f3b\u00e1ljunk konvert\u00e1lni.</p> <p>A lek\u00e9rdez\u0151 l\u00e9p\u00e9s a k\u00f6vetkez\u0151re m\u00f3dosul:</p> <pre><code>var dbProduct = _productCollection\n.Find(t =&gt; t.Id == ObjectId.Parse(id))\n.SingleOrDefault();\n// ... model konverzio\n</code></pre> <p>Figyelj\u00fck itt meg, hogy hogyan m\u00f3dosult a filter kifejez\u00e9s! Fontos tov\u00e1bb\u00e1, hogy itt <code>ToList</code> helyett a <code>SingleOrDefault</code> ki\u00e9rt\u00e9kel\u0151 kifejez\u00e9st haszn\u00e1ljuk. Ez a megszokott m\u00f3don vagy egy konkr\u00e9t term\u00e9ket ad vissza, vagy <code>null</code> \u00e9rt\u00e9ket. \u00cdgy tudunk teh\u00e1t <code>Id</code> alapj\u00e1n megtal\u00e1lni egy entit\u00e1st az adatb\u00e1zisban. Jegyezz\u00fck ezt meg, mert ez m\u00e9g sok k\u00f6vetkez\u0151 feladatban hasznos lesz!</p> <p>A konvert\u00e1l\u00f3 kifejez\u00e9st m\u00e1r meg\u00edrtuk egyszer az el\u0151z\u0151 kifejez\u00e9sben, ezt haszn\u00e1lhatjuk itt is \u2014 figyelj\u00fcnk azonban oda, hogy a <code>dbProduct</code> \u00e9rt\u00e9ke lehet <code>null</code> is. Ebben az esetben ne konvert\u00e1ljunk, csup\u00e1n adjunk vissza <code>null</code> \u00e9rt\u00e9ket mi is.</p> </li> <li> <p>Pr\u00f3b\u00e1ld ki a meg\u00edrt f\u00fcggv\u00e9nyek m\u0171k\u00f6d\u00e9s\u00e9t! Ind\u00edtsd el a programot, \u00e9s navig\u00e1lj tetsz\u0151leges b\u00f6ng\u00e9sz\u0151ben a http://localhost:5000 weboldalra. Itt a <code>Products</code> men\u00fcpontban m\u00e1r l\u00e1tnod kell a term\u00e9keket felsorol\u00f3 t\u00e1bl\u00e1zatot. Ha valamelyik sorban a <code>Details</code> men\u00fcpontra kattintasz, akkor egy adott term\u00e9k r\u00e9szleteit is l\u00e1tnod kell.</p> </li> </ol> <p>Ha nem l\u00e1tsz egyetlen term\u00e9ket se</p> <p>Ha a weboldalon egyetlen term\u00e9k se jelenik meg, de az oldal bet\u00f6lt\u00e9sre ker\u00fcl \u00e9s nincs hiba, akkor az adatb\u00e1zis el\u00e9r\u00e9s\u00e9vel van probl\u00e9ma. Val\u00f3sz\u00edn\u0171leg nem l\u00e9tezik a megadott nev\u0171 adatb\u00e1zis. L\u00e1sd fentebb az adatb\u00e1zis konfigur\u00e1l\u00e1s\u00e1t.</p>"},{"location":"Lab-MongoDB/#letrehozas","title":"L\u00e9trehoz\u00e1s","text":"<ol> <li> <p>Ebben a pontban az <code>InsertProduct(Product product)</code> f\u00fcggv\u00e9nyt val\u00f3s\u00edtjuk meg. A bemen\u0151 <code>Models.Product</code> modell adatait a felhaszn\u00e1l\u00f3 szolg\u00e1ltatja a felhaszn\u00e1l\u00f3i fel\u00fcleten kereszt\u00fcl.</p> </li> <li> <p>Egy term\u00e9k l\u00e9trehoz\u00e1s\u00e1hoz el\u0151sz\u00f6r l\u00e9tre kell hoznunk egy \u00faj adatb\u00e1zisentit\u00e1s objektumot. Jelen esetben ez egy <code>Entites.Product</code> objektum lesz. Az <code>Id</code> \u00e9rt\u00e9ket nem kell megadnunk \u2014 ezt majd az adatb\u00e1zis gener\u00e1lja. A <code>Name</code>, <code>Price</code> \u00e9s <code>Stock</code> \u00e9rt\u00e9keket a felhaszn\u00e1l\u00f3 szolg\u00e1ltatja. K\u00e9t \u00e9rt\u00e9k maradt ki: az <code>Vat</code> \u00e9s a <code>CategoryId</code>. Az el\u0151bbinek adjunk tetsz\u0151leges \u00e9rt\u00e9ket, az ut\u00f3bbinak pedig keress\u00fcnk egy szimpatikus kateg\u00f3ri\u00e1t az adatb\u00e1zisban a Studio 3T seg\u00edts\u00e9g\u00e9vel, \u00e9s annak az <code>_id</code> \u00e9rt\u00e9k\u00e9t dr\u00f3tozzuk be!</p> <pre><code>var dbProduct = new Entities.Product\n{\nName = product.Name,\nPrice = product.Price,\nStock = product.Stock,\nVat = new Entities.Vat\n{\nName = \"General\",\nPercentage = 20\n},\nCategoryId = ObjectId.Parse(\"5d7e4370cffa8e1030fd2d99\"),\n};\n_productCollection.InsertOne(dbProduct);\n</code></pre> <p>Ha megvan az adatb\u00e1zisentit\u00e1s objektum, akkor az <code>InsertOne</code> utas\u00edt\u00e1s seg\u00edts\u00e9g\u00e9vel tudjuk elmenteni az adatb\u00e1zisba.</p> </li> <li> <p>A f\u00fcggv\u00e9ny kipr\u00f3b\u00e1l\u00e1s\u00e1hoz ind\u00edtsd el megint a programot, \u00e9s a term\u00e9kek t\u00e1bl\u00e1zata feletti <code>Add new product</code> linkre kattints. Itt meg tudod adni a sz\u00fcks\u00e9ges adatokat, amivel megh\u00edv\u00f3dik a k\u00f3dod.</p> </li> </ol>"},{"location":"Lab-MongoDB/#torles","title":"T\u00f6rl\u00e9s","text":"<ol> <li> <p>A t\u00f6rl\u00e9s megval\u00f3s\u00edt\u00e1s\u00e1hoz a <code>DeleteProduct(string id)</code> f\u00fcggv\u00e9nyt kell implement\u00e1lni. Itt a kollekci\u00f3 <code>DeleteOne</code> f\u00fcggv\u00e9ny\u00e9t kell haszn\u00e1lni. Ehhez meg kell adni egy filter kifejez\u00e9st: itt haszn\u00e1ljuk ugyanazt a filtert, amit az egy konkr\u00e9t term\u00e9k lek\u00e9rdez\u00e9s\u00e9hez haszn\u00e1ltunk a <code>FindProduct(string id)</code> met\u00f3dusban.</p> </li> <li> <p>Ezt a met\u00f3dust is ki tudod pr\u00f3b\u00e1lni, ha a term\u00e9kek t\u00e1bl\u00e1zat\u00e1ban valamelyik sorban a <code>Delete</code> linkre kattintasz.</p> </li> </ol>"},{"location":"Lab-MongoDB/#modositas","title":"M\u00f3dos\u00edt\u00e1s","text":"<ol> <li> <p>A term\u00e9kek m\u00f3dos\u00edt\u00f3 utas\u00edt\u00e1sak\u00e9nt az elad\u00e1st fogjuk megval\u00f3s\u00edtani, a <code>bool SellProduct(string id, int amount)</code> f\u00fcggv\u00e9nyben. A f\u00fcggv\u00e9ny akkor \u00e9s csak akkor t\u00e9rjen vissza <code>true</code> \u00e9rt\u00e9kkel, ha l\u00e9tezik az <code>id</code> azonos\u00edt\u00f3j\u00fa term\u00e9k, \u00e9s legal\u00e1bb <code>amount</code> darab van bel\u0151le rakt\u00e1ron, amit el is tudtunk adni. Ha nem l\u00e9tezik a term\u00e9k vagy nincs bel\u0151le elegend\u0151, akkor t\u00e9rjen vissza <code>false</code> \u00e9rt\u00e9kkel.</p> </li> <li> <p>A MongoDB atomicit\u00e1s\u00e1t kihaszn\u00e1lva ezt a feladatot egyetlen utas\u00edt\u00e1s kiad\u00e1s\u00e1val fogjuk megval\u00f3s\u00edtani. A filter kifejez\u00e9sben fogunk r\u00e1sz\u0171rni a megadott <code>id</code>-ra, \u00e9s arra is, hogy elegend\u0151 term\u00e9k van-e rakt\u00e1ron. A m\u00f3dos\u00edt\u00f3 kifejez\u00e9sben fogjuk cs\u00f6kkenteni a rakt\u00e1rk\u00e9szletet \u2014 csak akkor, ha l\u00e9tezik a term\u00e9k, \u00e9s elegend\u0151 van bel\u0151le rakt\u00e1ron.</p> <pre><code>var result = _productCollection.UpdateOne(\nfilter: t =&gt; t.Id == ObjectId.Parse(id) &amp;&amp; t.Stock &gt;= amount,\nupdate: Builders&lt;Entities.Product&gt;.Update.Inc(t =&gt; t.Stock, -amount),\noptions: new UpdateOptions { IsUpsert = false });\n</code></pre> <p>Fontos megfigyelni, hogy az <code>UpdateOptions</code> seg\u00edts\u00e9g\u00e9vel jelezt\u00fck az adatb\u00e1zisnak, hogy NE upsertet hajtson v\u00e9gre \u2014 teh\u00e1t ne tegyen semmit ha nem tal\u00e1lja a filterben megadott term\u00e9ket.</p> <p>A m\u00f3dos\u00edt\u00f3 utas\u00edt\u00e1st a <code>Builders</code>-ben tal\u00e1lhat\u00f3 <code>Update</code> builder seg\u00edts\u00e9g\u00e9vel tudjuk \u00f6sszerakni. Eset\u00fcnkben <code>amount</code>-tal akarjuk cs\u00f6kkenteni az \u00e9rt\u00e9ket \u2014 ez <code>-amount</code>-tal t\u00f6rt\u00e9n\u0151 inkrement\u00e1l\u00e1st jelent.</p> <p>A visszat\u00e9r\u00e9si \u00e9rt\u00e9ket az update <code>result</code>-j\u00e1b\u00f3l tudjuk meghat\u00e1rozni. Amennyiben tal\u00e1lt olyan term\u00e9ket, ami megfelelt a filternek, akkor sikeres volt a m\u00f3dos\u00edt\u00e1s, teh\u00e1t <code>true</code> \u00e9rt\u00e9kkel t\u00e9rhet\u00fcnk vissza. Egy\u00e9bk\u00e9nt a visszat\u00e9r\u00e9si \u00e9rt\u00e9k <code>false</code>.</p> <pre><code>return result.MatchedCount &gt; 0;\n</code></pre> </li> <li> <p>Ezt a met\u00f3dust is ki tudod pr\u00f3b\u00e1lni, ha a term\u00e9kek t\u00e1bl\u00e1zat\u00e1ban valamelyik sorban a <code>Buy</code> linkre kattintasz. Pr\u00f3b\u00e1ld ki \u00fagy is, ha t\u00fal nagy \u00e9rt\u00e9ket \u00edrsz be!</p> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a term\u00e9k list\u00e1z\u00f3 weboldalr\u00f3l miut\u00e1n felvett\u00e9l legal\u00e1bb egy \u00faj term\u00e9ket. A k\u00e9pet a megold\u00e1sban <code>f1.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon a term\u00e9k lista. Ellen\u0151rizd, hogy a Neptun k\u00f3dod (az oldal alj\u00e1r\u00f3l) l\u00e1that\u00f3-e a k\u00e9pen! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a pontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-MongoDB/#2-feladat-kategoriak-listazasa-4-pont","title":"2. Feladat: Kateg\u00f3ri\u00e1k list\u00e1z\u00e1sa (4 pont)","text":"<p>Ebben a feladatban a kateg\u00f3ri\u00e1kat fogjuk list\u00e1zni \u2014 az adott kateg\u00f3ri\u00e1ba tartoz\u00f3 term\u00e9kek sz\u00e1m\u00e1val egy\u00fctt. Ehhez m\u00e1r aggreg\u00e1ci\u00f3s utas\u00edt\u00e1st is haszn\u00e1lnunk kell majd. Tov\u00e1bbra is a <code>Dal.Repository</code> oszt\u00e1lyba dolgozunk.</p> <p>A megval\u00f3s\u00edtand\u00f3 f\u00fcggv\u00e9ny a <code>IList&lt;Category&gt; ListCategories()</code>. Ennek minden kateg\u00f3ri\u00e1t vissza kell adnia. A <code>Models.Category</code> oszt\u00e1ly 3 adattagot tartalmaz.</p> <ul> <li><code>Name</code>: \u00e9rtelemszer\u0171en a kateg\u00f3ria neve</li> <li><code>ParentCategoryName</code>: a kateg\u00f3ria sz\u00fcl\u0151kateg\u00f3ri\u00e1j\u00e1nak neve. Amennyiben nincs sz\u00fcl\u0151kateg\u00f3ria, \u00e9rt\u00e9ke legyen <code>null</code>.</li> <li><code>NumberOfProducts</code>: a kateg\u00f3ri\u00e1ba tartoz\u00f3 term\u00e9kek sz\u00e1ma. Amennyiben nincs ilyen, \u00e9rt\u00e9ke legyen 0.</li> </ul> <p>A megval\u00f3s\u00edt\u00e1s l\u00e9p\u00e9sei a k\u00f6vetkez\u0151k.</p> <ol> <li> <p>Els\u0151 l\u00e9p\u00e9sk\u00e9nt a <code>_productCollection</code> mint\u00e1j\u00e1ra vedd fel \u00e9s inicializ\u00e1ld a <code>_categoryCollection</code>-t is. Az adatb\u00e1zisban a kollekci\u00f3 neve <code>categories</code> \u2014 ezt Studio 3T seg\u00edts\u00e9g\u00e9vel tudod ellen\u0151rizni.</p> </li> <li> <p>A <code>ListCategories()</code> met\u00f3dusban el\u0151sz\u00f6r k\u00e9rdezz\u00fck le a kateg\u00f3ri\u00e1k teljes list\u00e1j\u00e1t. Ez pontosan ugyan\u00fagy t\u00f6rt\u00e9nik, mint az el\u0151z\u0151 feladatban a term\u00e9kek eset\u00e9ben. A lek\u00e9rdez\u00e9s \u00e9rt\u00e9k\u00e9t tegy\u00fck a <code>dbCategories</code> v\u00e1ltoz\u00f3ba.</p> </li> <li> <p>Ezut\u00e1n k\u00e9rdezz\u00fck le, hogy az egyes <code>CategoryId</code>-khez h\u00e1ny darab term\u00e9k tartozik. Ehhez aggreg\u00e1ci\u00f3s pipeline-t kell haszn\u00e1lnunk, azon bel\u00fcl pedig a <code>$group</code> l\u00e9p\u00e9st.</p> <pre><code>var productCounts = _productCollection\n.Aggregate()\n.Group(t =&gt; t.CategoryID, g =&gt; new { CategoryID = g.Key, NumberOfProducts = g.Count() })\n.ToList();\n</code></pre> <p>Ez az utas\u00edt\u00e1s egy olyan list\u00e1val t\u00e9r vissza, melyben minden elem egy <code>CategoryID</code> \u00e9rt\u00e9ket tartalmaz a hozz\u00e1 tartoz\u00f3 term\u00e9kek sz\u00e1m\u00e1val egy\u00fctt.</p> </li> <li> <p>Ezen a ponton minden sz\u00e1munkra sz\u00fcks\u00e9ges inform\u00e1ci\u00f3 rendelkez\u00e9s\u00fcnkre \u00e1ll \u2014 ismerj\u00fck az \u00f6sszes kateg\u00f3ri\u00e1t (a sz\u00fcl\u0151kateg\u00f3ria megkeres\u00e9s\u00e9hez), \u00e9s ismerj\u00fck a kateg\u00f3ri\u00e1khoz tartoz\u00f3 term\u00e9kek sz\u00e1m\u00e1t. Egyetlen dolgunk van, hogy ezeket az inform\u00e1ci\u00f3kat (C# k\u00f3db\u00f3l) \"\u00f6sszef\u00e9s\u00fclj\u00fck\".</p> <pre><code>return dbCategories\n.Select(k =&gt; new Category\n{\nName = k.Name,\nParentCategoryName = k.ParentCategoryId.HasValue\n? dbCategories.Single(p =&gt; p.Id == k.ParentCategoryId.Value).Name\n: null,\nNumberOfProducts = productCounts.SingleOrDefault(pc =&gt; pc.CategoryID == k.Id)?.NumberOfProducts ?? 0\n})\n.ToList();\n</code></pre> <p>L\u00e1thatjuk, hogy mind a k\u00e9t l\u00e9p\u00e9st egyszer\u0171en elint\u00e9zhetj\u00fck C#-ban LINQ seg\u00edts\u00e9g\u00e9vel. A sz\u00fcl\u0151kateg\u00f3ria nev\u00e9hez a kateg\u00f3ri\u00e1k k\u00f6z\u00f6tt kell keresn\u00fcnk, a term\u00e9kek darabsz\u00e1m\u00e1hoz pedig az aggreg\u00e1ci\u00f3 eredm\u00e9ny\u00e9ben keres\u00fcnk.</p> <p>Join Mongo-ban</p> <p>Nem ez az egyetlen m\u00f3dja a gy\u0171jtem\u00e9nyek \"\u00f6sszekapcsol\u00e1s\u00e1nak\" MongoDB-ben. Ugyan <code>join</code> nincs, de l\u00e9teznek megold\u00e1sok a gy\u0171jtem\u00e9nyeken \u00e1t\u00edvel\u0151 lek\u00e9rdez\u00e9sekre. A fenti megold\u00e1s az adatb\u00e1zis helyett C# k\u00f3dban v\u00e9gzi el az \u00f6sszekapcsol\u00e1st. Ez akkor praktikus, ha nem nagy m\u00e9ret\u0171 adathalmazzal dolgozunk, \u00e9s nincs (j\u00f3) sz\u0171r\u00e9s\u00fcnk. Ha sz\u0171rni kellene az adathalmazt, a fenti megold\u00e1s is bonyolultabb lenne a hat\u00e9konys\u00e1g \u00e9rdek\u00e9ben.</p> </li> <li> <p>A k\u00f3d kipr\u00f3b\u00e1l\u00e1s\u00e1hoz a weboldal <code>Categories</code> men\u00fcpontj\u00e1ra kell navig\u00e1lni. Itt t\u00e1bl\u00e1zatos form\u00e1ban megjelen\u00edtve l\u00e1thatod az \u00f6sszegy\u0171jt\u00f6tt inform\u00e1ci\u00f3kat. Tesztel\u00e9shez alkalmazhatod az el\u0151z\u0151 feladatban elk\u00e9sz\u00edtett <code>Add new product</code> funkci\u00f3t \u2014 itt a hozz\u00e1ad\u00e1s eset\u00e9n az egyik kateg\u00f3ria mellett n\u00f6vekednie kell a hozz\u00e1 tartoz\u00f3 term\u00e9kek darabsz\u00e1m\u00e1nak. (A term\u00e9k besz\u00far\u00e1sakor a kateg\u00f3ria ID-j\u00e1t bedr\u00f3toztuk a k\u00f3dba, teh\u00e1t annak a kateg\u00f3ri\u00e1nak kell n\u0151nie, amelyiknek az ID-ja a k\u00f3dban szerepel.)</p> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a kateg\u00f3ria list\u00e1z\u00f3 weboldalr\u00f3l. A k\u00e9pet a megold\u00e1sban <code>f2.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon a kateg\u00f3ria lista. Ellen\u0151rizd, hogy a Neptun k\u00f3dod (az oldal alj\u00e1r\u00f3l) l\u00e1that\u00f3-e a k\u00e9pen! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a pontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-MongoDB/#3-feladat-megrendelesek-lekerdezese-es-modositasa-5-pont","title":"3. Feladat: Megrendel\u00e9sek lek\u00e9rdez\u00e9se \u00e9s m\u00f3dos\u00edt\u00e1sa (5 pont)","text":"<p>Ebben a feladatban a Megrendel\u00e9s (<code>Order</code>) entit\u00e1shoz tartoz\u00f3 CRUD (l\u00e9trehoz\u00e1s, list\u00e1z\u00e1s/olvas\u00e1s, m\u00f3dos\u00edt\u00e1s \u00e9s t\u00f6rl\u00e9s) utas\u00edt\u00e1sokat fogjuk megval\u00f3s\u00edtani. Ez a feladat nagyon hasonl\u00edt az els\u0151 feladathoz, amennyiben elakadn\u00e1l nyugodtan mer\u00edts ihletet az ottani megold\u00e1sokb\u00f3l!</p> <p>A <code>Models.Order</code> entit\u00e1s adattagjai:</p> <ul> <li><code>Id</code>: az adatb\u00e1zisentit\u00e1s <code>Id</code>-ja, <code>ToString</code>-gel soros\u00edtva</li> <li><code>Date</code>, <code>Deadline</code>, <code>Status</code>: egy az egyben m\u00e1soland\u00f3k az adatb\u00e1zis entit\u00e1sb\u00f3l</li> <li><code>PaymentMethod</code>: az adatb\u00e1zis entit\u00e1sban tal\u00e1lhat\u00f3 <code>PaymentMethod</code> komplex objektum <code>Method</code> mez\u0151je</li> <li><code>Total</code>: a megrendel\u00e9sben tal\u00e1lhat\u00f3 t\u00e9telek (<code>OrderItems</code>) <code>Amount</code> \u00e9s <code>Price</code> szorzatainak \u00f6sszege</li> </ul> <p>Ennek a feladatnak a megold\u00e1s\u00e1hoz a megrendel\u00e9ssel kapcsolatos met\u00f3dusok implement\u00e1ci\u00f3ja sz\u00fcks\u00e9ges (<code>ListOrders</code>, <code>FindOrder</code>, <code>InsertOrder</code>, <code>DeleteOrder</code> \u00e9s <code>UpdateOrder</code>).</p> <p>Az al\u00e1bbi feladatok el\u0151tt ne felejtsd el felvenni \u00e9s inicializ\u00e1lni a <code>_orderCollection</code>-t a repository oszt\u00e1lyba a kor\u00e1bban l\u00e1tottak mint\u00e1j\u00e1ra!</p>"},{"location":"Lab-MongoDB/#listazasolvasas_1","title":"List\u00e1z\u00e1s/olvas\u00e1s","text":"<ol> <li> <p>A <code>ListOrders</code> f\u00fcggv\u00e9ny param\u00e9terk\u00e9nt kap egy <code>string status</code> \u00e9rt\u00e9ket. Ha ez az \u00e9rt\u00e9k \u00fcres vagy <code>null</code> (l\u00e1sd: <code>string.IsNullOrEmpty</code>), akkor minden megrendel\u00e9st list\u00e1zz. Ellenkez\u0151 esetben csak azokat a megrendel\u00e9seket list\u00e1zd, melyeknek a <code>Status</code> \u00e9rt\u00e9ke teljesen egyezik a param\u00e9terben \u00e9rkez\u0151 <code>status</code> \u00e9rt\u00e9kkel.</p> </li> <li> <p>A <code>FindOrder</code> met\u00f3dus egy konkr\u00e9t megrendel\u00e9s adatait adja vissza a <code>string id</code> \u00e9rt\u00e9k alapj\u00e1n sz\u0171rve. Figyelj oda, ha az adott <code>ID</code> \u00e9rt\u00e9k nem tal\u00e1lhat\u00f3 az adatb\u00e1zisban, akkor <code>null</code> \u00e9rt\u00e9ket adj vissza!</p> </li> </ol>"},{"location":"Lab-MongoDB/#letrehozas_1","title":"L\u00e9trehoz\u00e1s","text":"<ol> <li> <p>Az <code>InsertOrder</code> met\u00f3dusban a l\u00e9trehoz\u00e1st kell megval\u00f3s\u00edtanod. Ehhez h\u00e1romf\u00e9le inform\u00e1ci\u00f3t kapsz: <code>Order order</code>, <code>Product product</code> \u00e9s <code>int amount</code>.</p> </li> <li> <p>Az adatb\u00e1zisentit\u00e1s l\u00e9trehoz\u00e1s\u00e1hoz a k\u00f6vetkez\u0151 inform\u00e1ci\u00f3kra van sz\u00fcks\u00e9g:</p> <ul> <li><code>CustomerId</code>, <code>SiteId</code>: az adatb\u00e1zisb\u00f3l keresd ki egy tetsz\u0151leges vev\u0151h\u00f6z (<code>Customer</code>) tartoz\u00f3 dokumentum <code>_id</code> \u00e9s <code>mainSiteId</code> \u00e9rt\u00e9k\u00e9t. Ezeket az \u00e9rt\u00e9keket dr\u00f3tozd bele a k\u00f3dodba.</li> <li><code>Date</code>, <code>Deadline</code>, <code>Status</code>: ezeket az \u00e9rt\u00e9keket az <code>order</code> param\u00e9terb\u0151l veheted</li> <li><code>PaymentMethod</code>: hozz l\u00e9tre egy \u00faj <code>PaymentMethod</code> objektumot. A <code>Method</code> legyen az <code>order</code> param\u00e9terben tal\u00e1lhat\u00f3 <code>PaymentMethod</code> \u00e9rt\u00e9k. A <code>Deadline</code> maradjon <code>null</code>!</li> <li><code>OrderItems</code>: egyetlen t\u00e9telt hozz l\u00e9tre! Ennek adattagjai:<ul> <li><code>ProductId</code> \u00e9s <code>Price</code>: a <code>product</code> param\u00e9terb\u0151l veheted</li> <li><code>Amount</code>: a f\u00fcggv\u00e9nyparam\u00e9ter <code>amount</code> param\u00e9terb\u0151l j\u00f6n</li> <li><code>Status</code>: az <code>order</code> param\u00e9ter <code>Status</code> mez\u0151j\u00e9vel egyezik meg</li> </ul> </li> <li>minden m\u00e1s adattag (a sz\u00e1ml\u00e1z\u00e1ssal kapcsolatos inform\u00e1ci\u00f3k) maradjon <code>null</code> \u00e9rt\u00e9ken!</li> </ul> </li> </ol>"},{"location":"Lab-MongoDB/#torles_1","title":"T\u00f6rl\u00e9s","text":"<p>A <code>DeleteOrder</code> t\u00f6r\u00f6lje a megadott <code>Id</code>-hoz tartoz\u00f3 megrendel\u00e9st.</p>"},{"location":"Lab-MongoDB/#modositas_1","title":"M\u00f3dos\u00edt\u00e1s","text":"<p>A m\u00f3dos\u00edt\u00f3 utas\u00edt\u00e1sban (<code>UpdateOrder</code>) arra figyelj oda, hogy csak azokat a mez\u0151ket \u00edrd fel\u00fcl, melyek a <code>Models.Order</code> oszt\u00e1lyban megtal\u00e1lhat\u00f3ak: <code>Date</code>, <code>Deadline</code>, <code>Status</code> \u00e9s <code>PaymentMethod</code>. Az <code>Total</code>-t itt nem kell figyelembe venni, ennek \u00e9rt\u00e9ke nem fog v\u00e1ltozni.</p> <p>Tipp</p> <p>T\u00f6bb m\u00f3dos\u00edt\u00f3 kifejez\u00e9st a <code>Builders&lt;Entities.Order&gt;.Update.Combine</code> seg\u00edts\u00e9g\u00e9vel lehet \u00f6sszevonni.</p> <p>Itt is figyelj oda, hogy az update sor\u00e1n az <code>IsUpsert</code> be\u00e1ll\u00edt\u00e1s \u00e9rt\u00e9ke legyen <code>false</code>!</p> <p>A met\u00f3dus visszat\u00e9r\u00e9si \u00e9rt\u00e9ke akkor \u00e9s csak akkor legyen <code>true</code>, ha l\u00e9tezik megrendel\u00e9s a megadott <code>ID</code>-val \u2014 azaz volt illeszked\u00e9s a filterre.</p>"},{"location":"Lab-MongoDB/#kiprobalas","title":"Kipr\u00f3b\u00e1l\u00e1s","text":"<p>A meg\u00edrt f\u00fcggv\u00e9nyeket a weboldalon a <code>Orders</code> men\u00fcpont alatt tudod kipr\u00f3b\u00e1lni. Teszteld le a <code>Filter</code>, <code>Add new order</code>, <code>Edit</code>, <code>Details</code> \u00e9s <code>Delete</code> opci\u00f3kat is!</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a megrendel\u00e9s list\u00e1z\u00f3 weboldalr\u00f3l miut\u00e1n felvett\u00e9l legal\u00e1bb egy \u00faj megrendel\u00e9st. A k\u00e9pet a megold\u00e1sban <code>f3.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon a megrendel\u00e9sek list\u00e1ja. Ellen\u0151rizd, hogy a Neptun k\u00f3dod (az oldal alj\u00e1r\u00f3l) l\u00e1that\u00f3-e a k\u00e9pen! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a pontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-MongoDB/#4-feladat-vevok-listazasa-4-pont","title":"4. Feladat: Vev\u0151k list\u00e1z\u00e1sa (4 pont)","text":"<p>Ebben a feladatban a vev\u0151ket fogjuk list\u00e1zni \u2014 az \u00e1ltaluk megrendelt term\u00e9kek \u00f6ssz\u00e9rt\u00e9k\u00e9vel egy\u00fctt. Ehhez a m\u00e1sodik feladathoz hasonlatosan aggreg\u00e1ci\u00f3s utas\u00edt\u00e1st \u00e9s C# k\u00f3dban t\u00f6rt\u00e9n\u0151 \"\u00f6sszef\u00e9s\u00fcl\u00e9st\" kell majd haszn\u00e1lnunk.</p> <p>A megval\u00f3s\u00edtand\u00f3 met\u00f3dus az <code>IList&lt;Customer&gt; ListCustomers()</code>. Ennek minden vev\u0151t vissza kell adnia. A <code>Models.Customer</code> entit\u00e1s adattagjai:</p> <ul> <li><code>Name</code>: a vev\u0151 neve</li> <li><code>ZipCode</code>, <code>City</code>, <code>Street</code>: a vev\u0151 k\u00f6zponti telephely\u00e9hez tartoz\u00f3 c\u00edm</li> <li><code>TotalOrders</code>: a vev\u0151h\u00f6z tartoz\u00f3 \u00f6sszes megrendel\u00e9s \u00f6ssz\u00e9rt\u00e9k\u00e9nek (l\u00e1sd el\u0151z\u0151 feladat) \u00f6sszege. Amennyiben m\u00e9g nincs az adott vev\u0151h\u00f6z tartoz\u00f3 megrendel\u00e9s, akkor ennek az \u00e9rt\u00e9ke legyen <code>null</code>!</li> </ul> <p>A feladat megold\u00e1s\u00e1hoz aj\u00e1nlott l\u00e9p\u00e9sek:</p> <ol> <li> <p>Vedd fel \u00e9s inicializ\u00e1ld a <code>_customerCollection</code>-t!</p> </li> <li> <p>List\u00e1zd ki az \u00f6sszes vev\u0151t. A vev\u0151 entit\u00e1sban megtal\u00e1lod a telephelyek list\u00e1j\u00e1t (<code>Sites</code>) \u00e9s a k\u00f6zponti telephely azonos\u00edt\u00f3j\u00e1t (<code>MainSiteId</code>) is. Ez ut\u00f3bbit kell megkeresned az el\u0151bbi list\u00e1ban, hogy megkapd a k\u00f6zponti telephelyet (\u00e9s \u00edgy a hozz\u00e1 tartoz\u00f3 c\u00edmet).</p> </li> <li> <p>A megrendel\u00e9sek kollekci\u00f3j\u00e1n aggreg\u00e1ci\u00f3s pipeline-t haszn\u00e1lva meg tudod \u00e1llap\u00edtani az adott <code>CustomerId</code>-hez tartoz\u00f3 \u00f6sszmegrendel\u00e9sek \u00e9rt\u00e9k\u00e9t.</p> </li> <li> <p>V\u00e9gezet\u00fcl csak a meglev\u0151 inform\u00e1ci\u00f3kat kell \"\u00f6sszef\u00e9s\u00fcln\u00f6d\". K\u00f6zponti telephelye minden vev\u0151nek van, viszont megrendel\u00e9se nem garant\u00e1lt \u2014 figyelj oda, hogy ekkor a <code>TotalOrders</code> elv\u00e1rt \u00e9rt\u00e9ke <code>null</code>!</p> </li> <li> <p>A k\u00f3d kipr\u00f3b\u00e1l\u00e1s\u00e1hoz a weboldal <code>Customers</code> men\u00fcpontj\u00e1ra kell navig\u00e1lni. Itt t\u00e1bl\u00e1zatos form\u00e1ban megjelen\u00edtve l\u00e1thatod az \u00f6sszegy\u0171jt\u00f6tt inform\u00e1ci\u00f3kat. Tesztel\u00e9shez alkalmazhatod az el\u0151z\u0151 feladatban elk\u00e9sz\u00edtett <code>Add new order</code> funkci\u00f3t \u2014 itt \u00faj megrendel\u00e9s felv\u00e9tele eset\u00e9n az el\u0151z\u0151 feladatban bedr\u00f3tozott vev\u0151 mellett n\u00f6vekednie kell a hozz\u00e1 tartoz\u00f3 megrendel\u00e9sek \u00f6ssz\u00e9rt\u00e9k\u00e9nek.</p> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a vev\u0151 list\u00e1z\u00f3 weboldalr\u00f3l. A k\u00e9pet a megold\u00e1sban <code>f4.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon a vev\u0151k list\u00e1ja. Ellen\u0151rizd, hogy a Neptun k\u00f3dod (az oldal alj\u00e1r\u00f3l) l\u00e1that\u00f3-e a k\u00e9pen! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a pontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-MongoDB/#5-feladat-opcionalis-imsc-feladat-3-imsc-pont","title":"5. Feladat: Opcion\u00e1lis (iMSc) feladat (3 iMsc pont)","text":"<p>Ebben a feladatban az adatb\u00e1zisban tal\u00e1lhat\u00f3 megrendel\u00e9seket fogjuk d\u00e1tum szerint csoportos\u00edtani \u2014 k\u00edv\u00e1ncsiak vagyunk ugyanis az elm\u00falt id\u0151szakokban a megrendel\u00e9sek mennyis\u00e9g\u00e9nek \u00e9s \u00f6ssz\u00e9rt\u00e9k\u00e9nek alakul\u00e1s\u00e1ra. Ennek megval\u00f3s\u00edt\u00e1s\u00e1hoz a <code>$bucket</code> aggreg\u00e1ci\u00f3s l\u00e9p\u00e9st fogjuk haszn\u00e1lni.</p>"},{"location":"Lab-MongoDB/#kovetelmenyek","title":"K\u00f6vetelm\u00e9nyek","text":"<p>A megval\u00f3s\u00edtand\u00f3 met\u00f3dus az <code>OrderGroups GroupOrders(int groupsCount)</code>. Ez az adatb\u00e1zisban tal\u00e1lhat\u00f3 megrendel\u00e9seket <code>groupsCount</code> egyenl\u0151 id\u0151intervallumra csoportos\u00edtja. A visszat\u00e9r\u00e9si \u00e9rt\u00e9k k\u00e9t adattagot tartalmaz:</p> <ul> <li><code>IList&lt;DateTime&gt; Thresholds</code>: Az id\u0151pontok amik az id\u0151intervallumok hat\u00e1rait jelentik.<ul> <li>Az intervallumok als\u00f3 hat\u00e1ra inkluz\u00edv, a fels\u0151 hat\u00e1r exkluz\u00edv</li> <li><code>n</code> darab intervallum eset\u00e9n a <code>Thresholds</code> lista <code>n + 1</code> elem\u0171</li> <li>Pl.: Ha a <code>Thresholds</code> lista elemei <code>a, b, c, d</code>, akkor az id\u0151intervallumok a k\u00f6vetkez\u0151k: <code>[a, b[</code>, <code>[b, c[</code> \u00e9s <code>[c, d[</code>.</li> </ul> </li> <li><code>IList&lt;OrderGroup&gt; Groups</code>: A megrendel\u00e9sek csoportjai. A <code>OrderGroup</code> entit\u00e1s adattagjai:<ul> <li><code>Date</code>: Az adott intervallum kezd\u0151 d\u00e1tuma. Teh\u00e1t <code>[a, b[</code> intervallum eset\u00e9n <code>a</code>.</li> <li><code>Pieces</code>: Az adott intervallumba es\u0151 megrendel\u00e9sek darabsz\u00e1ma.</li> <li><code>Total</code>: Az adott intervallumba tartoz\u00f3 \u00f6sszes megrendel\u00e9s \u00f6ssz\u00e9rt\u00e9k\u00e9nek \u00f6sszege (l\u00e1sd el\u0151z\u0151 feladat).</li> </ul> </li> </ul> <p>Tov\u00e1bbi k\u00f6vetelm\u00e9nyek:</p> <ol> <li>Pontosan <code>groupsCount</code> intervallumra bontsd a megrendel\u00e9seket.<ul> <li>A <code>Thresholds</code> lista elemsz\u00e1ma \u00edgy pontosan <code>groupsCount + 1</code>.</li> <li>A <code>Groups</code> elemsz\u00e1ma legfeljebb <code>groupsCount</code> \u2014 az \u00fcres (megrendel\u00e9st nem tartalmaz\u00f3) intervallumoknak nem kell listaelem</li> </ul> </li> <li>A legels\u0151 hat\u00e1r legyen az adatb\u00e1zisban tal\u00e1lhat\u00f3 legr\u00e9gebbi megrendel\u00e9s d\u00e1tuma</li> <li>A legutols\u00f3 hat\u00e1r legyen az adatb\u00e1zisban tal\u00e1lhat\u00f3 leg\u00fajabb megrendel\u00e9s d\u00e1tuma + 1 \u00f3ra<ul> <li>Ez az\u00e9rt kell, mert az intervallum fels\u0151 hat\u00e1ra exkluz\u00edv. \u00cdgy garant\u00e1ljuk, hogy az adatb\u00e1zisban tal\u00e1lhat\u00f3 minden megrendel\u00e9s beleker\u00fcl egy intervallumba.</li> <li>Tipp: a k\u00f6vetkez\u0151 m\u00f3don tudsz egy \u00f3r\u00e1t hozz\u00e1adni egy d\u00e1tumhoz: <code>date.AddHours(1)</code>.</li> </ul> </li> <li>Az intervallumok legyenek egyenl\u0151 m\u00e9ret\u0171ek<ul> <li>Tipp: a C# nyelv be\u00e9p\u00edtve kezeli matematikai m\u0171veletek v\u00e9gz\u00e9s\u00e9t d\u00e1tum (<code>DateTime</code>) \u00e9s id\u0151tartam (<code>TimeSpan</code>) objektumokon \u2014 l\u00e1sd pl. el\u0151z\u0151 pont.</li> </ul> </li> </ol> <p>A megold\u00e1s sor\u00e1n felt\u00e9telezheted a k\u00f6vetkez\u0151ket:</p> <ul> <li>Az adatb\u00e1zisban tal\u00e1lhat\u00f3 minden megrendel\u00e9snek van <code>Date</code> \u00e9rt\u00e9ke, annak ellen\u00e9re, hogy az adattag t\u00edpusa nullable (<code>DateTime?</code>).<ul> <li>Haszn\u00e1ld teh\u00e1t nyugodtan a <code>date.Value</code> \u00e9rt\u00e9ket a <code>date.HasValue</code> \u00e9rt\u00e9k ellen\u0151rz\u00e9se n\u00e9lk\u00fcl.</li> </ul> </li> <li>A <code>groupsCount</code> egy pozit\u00edv eg\u00e9sz sz\u00e1m (teh\u00e1t \u00e9rt\u00e9ke legal\u00e1bb 1).</li> </ul>"},{"location":"Lab-MongoDB/#megoldas-vazlata","title":"Megold\u00e1s v\u00e1zlata","text":"<ol> <li> <p>K\u00e9rdezd le az adatb\u00e1zisb\u00f3l a legr\u00e9gebbi \u00e9s a leg\u00fajabb megrendel\u00e9s d\u00e1tum\u00e1t.</p> <ul> <li>Tipp: Ezt megoldhatod k\u00e9t lek\u00e9rdez\u00e9ssel vagy ak\u00e1r egyetlen aggreg\u00e1ci\u00f3 seg\u00edts\u00e9g\u00e9vel is.</li> </ul> </li> <li> <p>Sz\u00e1mold ki az intervallumok hat\u00e1rait a k\u00f6vetelm\u00e9nyeknek megfelel\u0151en.</p> <ul> <li>Ezzel m\u00e1r meg is fogod kapni a visszat\u00e9r\u00e9si \u00e9rt\u00e9kben sz\u00fcks\u00e9ges <code>Thresholds</code> list\u00e1t.</li> </ul> </li> <li> <p>A megrendel\u00e9sek kollekci\u00f3n hajts v\u00e9gre egy <code>$bucket</code> aggreg\u00e1ci\u00f3t. Ennek dokument\u00e1ci\u00f3j\u00e1t itt tal\u00e1lhatod meg.</p> <ul> <li>a <code>groupBy</code> kifejez\u00e9s a megrendel\u00e9s d\u00e1tuma lesz</li> <li>a <code>boundaries</code> kifejez\u00e9s pontosan abban a form\u00e1ban v\u00e1rja az \u00e9rt\u00e9keket, amit a k\u00f6vetelm\u00e9nyek k\u00f6z\u00f6tt is olvashatt\u00e1l, teh\u00e1t az el\u0151z\u0151 pontban el\u0151\u00e1ll\u00edtott lista pontosan megfelel</li> <li>az <code>output</code> kifejez\u00e9sben fogalmazhatod meg a sz\u00fcks\u00e9ges kisz\u00e1moland\u00f3 \u00e9rt\u00e9keket (darabsz\u00e1m, \u00f6ssz\u00e9rt\u00e9k)</li> </ul> <p>Tipp</p> <p>Ha <code>\"Element '...' does not match any field or property of class...\"</code> kezdet\u0171 exceptiont kapsz, akkor az <code>output</code> kifejez\u00e9sben \u00edrj \u00e1t minden property-t kisbet\u0171sre (pl.: <code>Pieces</code> -&gt; <code>pieces</code>). \u00dagy t\u0171nik, hogy a Mongo C# driver ezen a ponton nem konzisztensen transzform\u00e1lja az adattagok neveit.</p> </li> <li> <p>A <code>$bucket</code> aggreg\u00e1ci\u00f3 az elv\u00e1rt k\u00f6vetelm\u00e9nyeknek pontosan megfelel\u0151 intervallumokkal fog visszat\u00e9rni, \u00edgy az eredm\u00e9ny\u00e9t m\u00e1r csak transzform\u00e1lni kell a megfelel\u0151 <code>OrderGroup</code> objektumok list\u00e1j\u00e1v\u00e1, majd pedig el\u0151\u00e1ll\u00edtani a visszat\u00e9r\u00e9si \u00e9rt\u00e9ket.</p> </li> <li> <p>A k\u00f3d kipr\u00f3b\u00e1l\u00e1s\u00e1hoz a weboldal <code>Group orders</code> men\u00fcpontj\u00e1ra kell navig\u00e1lni. Itt diagramokon megjelen\u00edtve l\u00e1thatod az \u00f6sszegy\u0171jt\u00f6tt inform\u00e1ci\u00f3kat. Tesztel\u00e9s sor\u00e1n m\u00f3dos\u00edtsd a csoportok sz\u00e1m\u00e1t, \u00e9s vegy\u00e9l fel \u00faj megrendel\u00e9seket k\u00fcl\u00f6nb\u00f6z\u0151 d\u00e1tumokkal kor\u00e1bbi feladatokban elk\u00e9sz\u00edtett <code>Add new order</code> seg\u00edts\u00e9g\u00e9vel!</p> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a diagramokat mutat\u00f3 weboldalr\u00f3l. A k\u00e9pet a megold\u00e1sban <code>f5.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen l\u00e1tsz\u00f3djon a k\u00e9t diagram (ehhez cs\u00f6kkentsd a b\u00f6ng\u00e9sz\u0151ben a nagy\u00edt\u00e1st, hogy kif\u00e9rjenek egy k\u00e9perny\u0151re). Ellen\u0151rizd, hogy a Neptun k\u00f3dod (az oldal alj\u00e1r\u00f3l) l\u00e1that\u00f3-e a k\u00e9pen! A k\u00e9perny\u0151k\u00e9p sz\u00fcks\u00e9ges felt\u00e9tele a pontsz\u00e1m megszerz\u00e9s\u00e9nek.</p>"},{"location":"Lab-QueryOptimization/","title":"Lek\u00e9rdez\u00e9s optimaliz\u00e1l\u00e1s","text":"<p>A labor sor\u00e1n a lek\u00e9rdez\u00e9s optimaliz\u00e1l\u00e1st vizsg\u00e1ljuk Microsoft SQL Server platformon. Az\u00e9rt, hogy a feladatok sor\u00e1n megfelel\u0151en meg\u00e9rts\u00fck a m\u0171k\u00f6d\u00e9st, \u00e9s dokument\u00e1lni is tudjuk, az els\u0151 5 feladat sor\u00e1n megadjuk a megold\u00e1st \u00e9s a magyar\u00e1zatot is. A tov\u00e1bbiak \u00f6n\u00e1ll\u00f3 feladatok, ahol a magyar\u00e1zat kital\u00e1l\u00e1sa a feladat r\u00e9sze. A k\u00f6z\u00f6s feladatmegold\u00e1s \u00e9s az \u00f6n\u00e1ll\u00f3 feladatmegold\u00e1s eredm\u00e9ny\u00e9t is dokument\u00e1lni kell \u00e9s be kell adni.</p>"},{"location":"Lab-QueryOptimization/#elofeltetelek-felkeszules","title":"El\u0151felt\u00e9telek, felk\u00e9sz\u00fcl\u00e9s","text":"<p>A labor elv\u00e9gz\u00e9s\u00e9hez sz\u00fcks\u00e9ges eszk\u00f6z\u00f6k:</p> <ul> <li>Windows, Linux vagy MacOS: Minden sz\u00fcks\u00e9ges program platform f\u00fcggetlen, vagy van platformf\u00fcggetlen alternat\u00edv\u00e1ja.</li> <li>Microsoft SQL Server<ul> <li>Express v\u00e1ltozat ingyenesen haszn\u00e1lhat\u00f3, avagy Visual Studio mellett feltelep\u00fcl\u0151 localdb v\u00e1ltozat is megfelel\u0151</li> <li>Van Linux v\u00e1ltozata is.</li> <li>MacOS-en Docker-rel futtathat\u00f3.</li> </ul> </li> <li>Visual Studio Code vagy m\u00e1s, markdown kompatibilis szerkeszt\u0151</li> <li>SQL Server Management Studio, vagy kipr\u00f3b\u00e1lhat\u00f3 a platformf\u00fcggetlen Azure Data Studio is</li> <li>Az adatb\u00e1zist l\u00e9trehoz\u00f3 script: mssql.sql</li> <li>GitHub account \u00e9s egy git kliens</li> </ul> <p>A labor elv\u00e9gz\u00e9s\u00e9hez haszn\u00e1lhat\u00f3 seg\u00e9danyagok \u00e9s felk\u00e9sz\u00fcl\u00e9si anyagok:</p> <ul> <li>Markdown form\u00e1tum r\u00f6vid ismertet\u0151je \u00e9s r\u00e9szletes dokument\u00e1ci\u00f3ja</li> <li>Microsoft SQL Server haszn\u00e1lata: le\u00edr\u00e1s \u00e9s vide\u00f3</li> <li>Az adatb\u00e1zis s\u00e9m\u00e1j\u00e1nak le\u00edr\u00e1sa</li> <li>Microsoft SQL Server lek\u00e9rdez\u00e9s optimaliz\u00e1l\u00e1sa<ul> <li>L\u00e1sd az Adatvez\u00e9relt rendszerek c. t\u00e1rgy jegyzetei k\u00f6z\u00f6tt</li> </ul> </li> </ul>"},{"location":"Lab-QueryOptimization/#elokeszulet","title":"El\u0151k\u00e9sz\u00fclet","text":"<p>A feladatok megold\u00e1sa sor\u00e1n ne felejtsd el k\u00f6vetni a feladat bead\u00e1s folyamat\u00e1t.</p>"},{"location":"Lab-QueryOptimization/#git-repository-letrehozasa-es-letoltese","title":"Git repository l\u00e9trehoz\u00e1sa \u00e9s let\u00f6lt\u00e9se","text":"<ol> <li> <p>Moodle-ben keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-j\u00e9t \u00e9s annak seg\u00edts\u00e9g\u00e9vel hozd l\u00e9tre a saj\u00e1t repository-dat.</p> </li> <li> <p>V\u00e1rd meg, m\u00edg elk\u00e9sz\u00fcl a repository, majd checkout-old ki.</p> <p>Egyetemi laborokban, ha a checkout sor\u00e1n nem k\u00e9r a rendszer felhaszn\u00e1l\u00f3nevet \u00e9s jelsz\u00f3t, \u00e9s nem siker\u00fcl a checkout, akkor val\u00f3sz\u00edn\u0171leg a g\u00e9pen kor\u00e1bban megjegyzett felhaszn\u00e1l\u00f3n\u00e9vvel pr\u00f3b\u00e1lkozott a rendszer. El\u0151sz\u00f6r t\u00f6r\u00f6ld ki a mentett bel\u00e9p\u00e9si adatokat (l\u00e1sd itt), \u00e9s pr\u00f3b\u00e1ld \u00fajra.</p> </li> <li> <p>Hozz l\u00e9tre egy \u00faj \u00e1gat <code>megoldas</code> n\u00e9ven, \u00e9s ezen az \u00e1gon dolgozz.</p> </li> <li> <p>A <code>neptun.txt</code> f\u00e1jlba \u00edrd bele a Neptun k\u00f3dodat. A f\u00e1jlban semmi m\u00e1s ne szerepeljen, csak egyetlen sorban a Neptun k\u00f3d 6 karaktere.</p> </li> </ol>"},{"location":"Lab-QueryOptimization/#markdown-fajl-megnyitasa","title":"Markdown f\u00e1jl megnyit\u00e1sa","text":"<p>A feladatok megold\u00e1sa sor\u00e1n a dokument\u00e1ci\u00f3t markdown form\u00e1tumban k\u00e9sz\u00edtsd. Az el\u0151bb let\u00f6lt\u00f6tt git repository-t nyisd meg egy markdown kompatibilis szerkeszt\u0151vel. Javasolt a Visual Studio Code haszn\u00e1lata:</p> <ol> <li> <p>Ind\u00edtsd el a VS Code-ot.</p> </li> <li> <p>A File &gt; Open Folder... men\u00fcvel nyisd meg a git repository k\u00f6nyvt\u00e1r\u00e1t.</p> </li> <li> <p>A bal oldali f\u00e1ban keresd meg a <code>README.md</code> f\u00e1jlt \u00e9s dupla kattint\u00e1ssal nyisd meg.</p> </li> <li> <p>Ezt a f\u00e1jlt szerkeszd.</p> </li> <li> <p>Ha k\u00e9pet k\u00e9sz\u00edtesz, azt is tedd a repository al\u00e1 a t\u00f6bbi f\u00e1jl mell\u00e9. \u00cdgy relat\u00edv el\u00e9r\u00e9si \u00fatvonallal (f\u00e1jln\u00e9v) fogod tudni hivatkozni.</p> <p>F\u00e1jln\u00e9v: csupa kisbet\u0171 \u00e9kezet n\u00e9lk\u00fcl</p> <p>A k\u00e9pek f\u00e1jlnev\u00e9ben ne haszn\u00e1lj \u00e9kezetes karaktereket, sz\u00f3k\u00f6z\u00f6ket, se kis- \u00e9s nagybet\u0171ket keverve. A k\u00fcl\u00f6nb\u00f6z\u0151 platformok \u00e9s a git elt\u00e9r\u0151en kezelik a f\u00e1jlneveket. A GitHub webes fel\u00fclet\u00e9n akkor fog minden rendben megjelenni, ha csak az angol \u00e1b\u00e9c\u00e9 kisbet\u0171it haszn\u00e1lod a f\u00e1jlnevekben.</p> </li> <li> <p>A k\u00e9nyelmes szerkeszt\u00e9shez nyisd meg az el\u0151n\u00e9zet funkci\u00f3t (Ctrl-K + V).</p> </li> </ol> <p>M\u00e1s szerkeszt\u0151eszk\u00f6z</p> <p>Ha nem szimpatikus ez a szerkeszt\u0151, haszn\u00e1lhatod a GitHub webes fel\u00fclet\u00e9t is a dokument\u00e1ci\u00f3 szerkeszt\u00e9s\u00e9hez, itt is van el\u0151n\u00e9zet. Ekkor a f\u00e1jlok felt\u00f6lt\u00e9se kicsit k\u00f6r\u00fclm\u00e9nyesebb lesz.</p>"},{"location":"Lab-QueryOptimization/#adatbazis-letrehozasa","title":"Adatb\u00e1zis l\u00e9trehoz\u00e1sa","text":"<ol> <li> <p>Kapcsol\u00f3dj Microsoft SQL Serverhez SQL Server Management Studio Seg\u00edts\u00e9g\u00e9vel. Ind\u00edtsd el az alkalmaz\u00e1st, \u00e9s az al\u00e1bbi adatokkal kapcsol\u00f3dj.</p> <ul> <li>Server name: <code>(localdb)\\mssqllocaldb</code> vagy <code>.\\sqlexpress</code> (ezzel egyen\u00e9rt\u00e9k\u0171: <code>localhost\\sqlexpress</code>)</li> <li>Authentication: <code>Windows authentication</code></li> </ul> </li> <li> <p>Hozz l\u00e9tre egy \u00faj adatb\u00e1zist (ha m\u00e9g nem l\u00e9tezik). Az adatb\u00e1zis neve legyen a Neptun k\u00f3dod: Object Explorer-ben Databases-en jobb kattint\u00e1s, \u00e9s Create Database.</p> </li> <li> <p>Hozd l\u00e9tre a minta adatb\u00e1zist a gener\u00e1l\u00f3 script lefuttat\u00e1s\u00e1val. Nyiss egy \u00faj Query ablakot, m\u00e1sold be a script tartalm\u00e1t, \u00e9s futtasd le. \u00dcgyelj az eszk\u00f6zt\u00e1ron lev\u0151 leg\u00f6rd\u00fcl\u0151 men\u00fcben a megfelel\u0151 adatb\u00e1zis kiv\u00e1laszt\u00e1s\u00e1ra.</p> <p></p> </li> <li> <p>Ellen\u0151rizd, hogy l\u00e9trej\u00f6ttek-e a t\u00e1bl\u00e1k. Ha a Tables mappa ki volt m\u00e1r nyitva, akkor friss\u00edteni kell.</p> <p>.</p> </li> </ol>"},{"location":"Lab-QueryOptimization/#lekerdezesi-terv-bekapcsolasa","title":"Lek\u00e9rdez\u00e9si terv bekapcsol\u00e1sa","text":"<p>Nem Windows platformon</p> <p>A lek\u00e9rdez\u00e9si tervhez alapvet\u0151en Microsoft SQL Server Management Studio-t haszn\u00e1lunk. Ha nem Windows platformon dolgozol, kipr\u00f3b\u00e1lhatod az Azure Data Studio-t, ebben is lek\u00e9rdezhet\u0151 a v\u00e9grehajt\u00e1si terv.</p> <p>Az \u00f6sszes feladat sor\u00e1n sz\u00fcks\u00e9g\u00fcnk lesz a legjobb lek\u00e9rdez\u00e9si tervre, amit a szerver v\u00e9geredm\u00e9nyben v\u00e1lasztott. Ezt SQL Server Management Studio-ban a Query men\u00fcben az Include Actual Execution Plan opci\u00f3val kapcsolhatjuk be.</p> <p></p> <p>A tervet a lek\u00e9rdez\u00e9s lefuttat\u00e1sa ut\u00e1n az ablak alj\u00e1n, az eredm\u00e9nyek n\u00e9zet helyett v\u00e1laszthat\u00f3 Execution plan lapon tal\u00e1ljuk.</p> <p></p> <p>A lek\u00e9rdez\u00e9si terv diagramot adatfolyamk\u00e9nt kell olvasnunk, az adat foly\u00e1s\u00e1nak ir\u00e1nya a lek\u00e9rdez\u00e9s v\u00e9grehajt\u00e1sa. Az egyes elemek a lek\u00e9rdez\u00e9si terv m\u0171veletei, a sz\u00e1zal\u00e9kos \u00e9rt\u00e9k pedig az eg\u00e9sz lek\u00e9rdez\u00e9shez viszony\u00edtott relat\u00edv k\u00f6lts\u00e9g.</p>"},{"location":"Lab-QueryOptimization/#kozos-feladatok","title":"K\u00f6z\u00f6s feladatok","text":"<p>BEADAND\u00d3</p> <p>A feladatok megold\u00e1sa sor\u00e1n dokument\u00e1ld a <code>README.md</code> markdown f\u00e1jlba:</p> <ul> <li>a haszn\u00e1lt SQL utas\u00edt\u00e1st (amennyiben ezt a feladat sz\u00f6vege k\u00e9rte),</li> <li>a lek\u00e9rdez\u00e9si tervr\u0151l k\u00e9sz\u00edtett k\u00e9pet (csak a tervet, ne az eg\u00e9sz k\u00e9perny\u0151t),</li> <li>\u00e9s a lek\u00e9rdez\u00e9si terv magyar\u00e1zat\u00e1t: mit l\u00e1tunk \u00e9s mi\u00e9rt.</li> </ul> <p>A dokument\u00e1ci\u00f3nak a k\u00e9pekkel egy\u00fctt helyesen kell megjelenni\u00fck a GitHub webes fel\u00fclet\u00e9n is! Ezt ellen\u0151rizd a bead\u00e1s sor\u00e1n: nyisd meg a repository-d webes fel\u00fclet\u00e9t, v\u00e1ltsd \u00e1t a megfelel\u0151 \u00e1gra, \u00e9s a GitHub automatikusan renderelni fogja a <code>README.md</code> f\u00e1jlt a k\u00e9pekkel egy\u00fctt.</p> <p>\u00d6n\u00e1ll\u00f3 munka</p> <p>Annak ellen\u00e9re, hogy a megold\u00e1sok megtal\u00e1lhat\u00f3ak al\u00e1bb, az SQL utas\u00edt\u00e1sok kiad\u00e1sa, a lek\u00e9rdez\u00e9si terv k\u00e9perny\u0151k\u00e9p elk\u00e9sz\u00edt\u00e9se \u00e9s a saj\u00e1t magyar\u00e1zattal egy\u00fctt val\u00f3 dokument\u00e1l\u00e1s sz\u00fcks\u00e9ges r\u00e9sze a feladatnak. A lentebb tal\u00e1lhat\u00f3 magyar\u00e1zatok bem\u00e1sol\u00e1sa nem elfogadhat\u00f3 megold\u00e1s!</p> <p>Amennyiben egyes (r\u00e9sz)feladatok lek\u00e9rdez\u00e9si terve \u00e9s/vagy a magyar\u00e1zat azonos, vagy legal\u00e1bbis nagyon hasonl\u00f3, el\u00e9g egyszer elk\u00e9sz\u00edteni a lek\u00e9rdez\u00e9si tervr\u0151l a k\u00e9pet, \u00e9s a magyar\u00e1zatot is el\u00e9g egyszer megadni, csak jelezd, hogy ez mely feladatokra vonatkozik.</p>"},{"location":"Lab-QueryOptimization/#feladat-1-2p","title":"Feladat 1 (2p)","text":"<p>Dobd el a <code>CustomerSite</code> =&gt; <code>Customer</code> idegen kulcsot \u00e9s a <code>Customer</code> els\u0151dleges kulcs k\u00e9nyszer\u00e9t. Legegyszer\u0171bb, ha az Object Explorer-ben megkeresed ezeket, \u00e9s t\u00f6rl\u00f6d (a PK... kezdet\u0171ek az els\u0151dleges kulcsok, az FK...  kezdet\u0171ek a k\u00fcls\u0151 kulcsok - k\u00e9t k\u00fcl\u00f6n t\u00e1bl\u00e1ban kell keresd a t\u00f6rlend\u0151ket!):</p> <p></p> <p>Vizsg\u00e1ld meg a k\u00f6vetkez\u0151 lek\u00e9rdez\u00e9sek v\u00e9grehajt\u00e1si terv\u00e9t a <code>Customer</code> t\u00e1bl\u00e1n \u2013 mindig teljes rekordot k\u00e9rj\u00fcnk vissza (<code>select *</code>):</p> <ul> <li>a) teljes t\u00e1bla lek\u00e9rdez\u00e9se</li> <li>b) egy rekord lek\u00e9rdez\u00e9se els\u0151dleges kulcs alapj\u00e1n</li> <li>c) olyan rekordok lek\u00e9rdez\u00e9se, ahol az els\u0151dleges kulcs \u00e9rt\u00e9ke nem egy konstans \u00e9rt\u00e9k (haszn\u00e1ld a <code>&lt;&gt;</code> \u00f6sszehasonl\u00edt\u00f3 oper\u00e1tort)</li> <li>d) olyan rekordok lek\u00e9rdez\u00e9se, ahol az els\u0151dleges kulcs \u00e9rt\u00e9ke nagyobb, mint egy konstans \u00e9rt\u00e9k</li> <li>e) olyan rekordok lek\u00e9rdez\u00e9se, ahol az els\u0151dleges kulcs \u00e9rt\u00e9ke nagyobb, mint egy konstans \u00e9rt\u00e9k, ID szerint cs\u00f6kken\u0151 sorrendbe rendezve</li> </ul> <p>Add meg a haszn\u00e1lt SQL utas\u00edt\u00e1sokat, majd vizsg\u00e1ld meg a lek\u00e9rdez\u00e9si terveket, \u00e9s adj magyar\u00e1zatot r\u00e1juk!</p> Megold\u00e1s <p>A kiadott parancsok:</p> <ul> <li>a) <code>select * from customer</code></li> <li>b) <code>select * from customer where id = 1</code></li> <li>c) <code>select * from customer where id &lt;&gt; 1</code></li> <li>d) <code>select * from customer where id &gt; 1</code></li> <li>e) <code>select * from customer where id &gt; 1 order by id desc</code></li> </ul> <p>a)-d)</p> <p>A lek\u00e9rdez\u00e9si terv mindegyikre nagyon hasonl\u00f3, mindegyik table scan-t haszn\u00e1lt:</p> <p></p> <p>Magyar\u00e1zat: az optimaliz\u00e1l\u00f3 nem tud indexet haszn\u00e1lni, \u00edgy minden lek\u00e9rdez\u00e9s table scan lesz.</p> <p>e)</p> <p>Egyed\u00fcl ez k\u00fcl\u00f6nb\u00f6zik, az order by miatt m\u00e9g egy sort is lesz benne.</p> <p></p> <p>Magyar\u00e1zat: A table scan marad, \u00e9s m\u00e9g rendezni is kell, amihez nincs index seg\u00edts\u00e9g, teh\u00e1t k\u00fcl\u00f6n l\u00e9p\u00e9s lesz.</p>"},{"location":"Lab-QueryOptimization/#feladat-2-2p","title":"Feladat 2 (2p)","text":"<p>Hozd l\u00e9tre \u00fajra az els\u0151dleges kulcsot a <code>Customer</code> t\u00e1bl\u00e1n:</p> <ul> <li>Job kattint\u00e1s a t\u00e1bl\u00e1n &gt; Design &gt; az ID oszlopon \"Set Primary Key \" \u00e9s Ment\u00e9s gomb,</li> <li>vagy az <code>ALTER TABLE [dbo].[Customer] ADD PRIMARY KEY CLUSTERED ([ID] ASC)</code> SQL utas\u00edt\u00e1s lefuttat\u00e1sa.</li> </ul> <p>Futtasd \u00fajra az el\u0151bbi lek\u00e9rdez\u00e9seket. Mit tapasztalsz?</p> Megold\u00e1s <p>A kiadott parancsok megegyeznek az 1.-es feladattal.</p> <p>a)</p> <p></p> <p>Clustered Index Scan v\u00e9gigmegy a clustered index ment\u00e9n. Az els\u0151dleges kulcs hat\u00e1s\u00e1ra l\u00e9trej\u00f6tt egy Clustered Index, azaz innent\u0151l a t\u00e1bla rekordjai ID szerinti sorrendben vannak t\u00e1rolva. Ha v\u00e9gigmegy\u00fcnk ezen a strukt\u00far\u00e1n meglesz az \u00f6sszes sor. Ha van clustered index, m\u00e1r nem fogunk Table Scan-nel tal\u00e1lkozni, legrosszabb esetben teljes Clustered Index Scan lesz. Att\u00f3l, hogy nem Table Scan a neve, a teljes Clustered Index Scan is val\u00f3j\u00e1ban egy table scan, a teljes t\u00e1bla adattartalm\u00e1t felolvassuk. \u00c1ltal\u00e1nos esetben ez probl\u00e9ma, de itt \u00e9pp ezt k\u00e9rt\u00fck a lek\u00e9rdez\u00e9sben.</p> <p>b)</p> <p></p> <p>Ez egy Clustered Index Seek lesz. Mivel a rendez\u00e9si kulcsra fogalmazunk meg egyez\u00e9si felt\u00e9telt, a rendezett t\u00e1rol\u00e1s\u00fa rekordok k\u00f6z\u00fcl nagyon gyorsan eljuthatunk a keresetthez. Ez egy j\u00f3 terv, a Clustered Index egyik alapfeladata a rekord gyors megtal\u00e1l\u00e1sa, erre van optimaliz\u00e1lva.</p> <p>c)</p> <p>Az el\u0151z\u0151h\u00f6z nagyon hasonl\u00f3 a terv: ez is Clustered Index Seek lesz k\u00e9t intervallummal (<code>&lt; konstans</code>, <code>&gt; konstans</code>). Az optimaliz\u00e1l\u00f3 k\u00e9t intervallumra bontja a &lt;&gt;-t. Mivel a felt\u00e9tel a rendez\u00e9si kulcsra vonatkozik, megint ki tudja haszn\u00e1lni a Clustered Indexet. Ez is egy j\u00f3 terv, a rendez\u00e9s miatt csak a sz\u00fcks\u00e9ges rekordokat fogjuk felolvasni.</p> <p>d)</p> <p>Ez is Clustered Index Seek alap\u00fa range scan lesz egy intervallummal. Az el\u0151bbihez nagyon hasonl\u00f3.</p> <p>e)</p> <p></p> <p>Ism\u00e9t Clustered Index Seek backward seek order-rel. Megn\u00e9zhetj\u00fck a Properties ablakban a range-et \u00e9s a Seek Order-t: kikeress\u00fck a hat\u00e1ron l\u00e9v\u0151 rekordot \u00e9s onnan visszafel\u00e9 indulunk el, \u00edgy eleve rendezve lesz az eredm\u00e9nyhalmaz. Ez egy j\u00f3 terv, a rendez\u00e9s miatt csak a sz\u00fcks\u00e9ges rekordokat fogjuk felolvasni \u00e9s pont a megfelel\u0151 sorrendben.</p>"},{"location":"Lab-QueryOptimization/#feladat-3-2p","title":"Feladat 3 (2p)","text":"<p>Futtasd az al\u00e1bbi lek\u00e9rdez\u00e9seket a <code>Product</code> t\u00e1bl\u00e1n megfogalmazva.</p> <ul> <li>f) teljes t\u00e1bla lek\u00e9rdez\u00e9se</li> <li>g) egyenl\u0151s\u00e9g alap\u00fa keres\u00e9s a <code>Price</code> oszlopra</li> <li>h) olyan rekordok lek\u00e9rdez\u00e9se, ahol a <code>Price</code> \u00e9rt\u00e9ke nem egy konstans \u00e9rt\u00e9k (&lt;&gt;)</li> <li>i) olyan rekordok lek\u00e9rdez\u00e9se, ahol a <code>Price</code> \u00e9rt\u00e9ke nagyobb, mint egy konstans \u00e9rt\u00e9k</li> <li>j) olyan rekordok lek\u00e9rdez\u00e9se, ahol a <code>Price</code> \u00e9rt\u00e9ke nagyobb, mint egy konstans \u00e9rt\u00e9k, <code>Price</code> szerint cs\u00f6kken\u0151 sorrendbe rendezve</li> </ul> <p>Add meg a haszn\u00e1lt SQL utas\u00edt\u00e1sokat, majd vizsg\u00e1ld meg a lek\u00e9rdez\u00e9si terveket, \u00e9s adj magyar\u00e1zatot r\u00e1juk!</p> Megold\u00e1s <p>A kiadott parancsok:</p> <ul> <li>f) <code>select * from product</code></li> <li>g) <code>select * from product where price = 800</code></li> <li>h) <code>select * from product where price &lt;&gt; 800</code></li> <li>i) <code>select * from product where price &gt; 800</code></li> <li>j) <code>select * from product where price &gt; 800 order by price desc</code></li> </ul> <p>f)-i)</p> <p></p> <p>Clustered Index Scan v\u00e9gigmegy a clustered index ment\u00e9n. Ez tov\u00e1bbra is a teljes t\u00e1bla felolvas\u00e1sa, hiszen a sz\u0171r\u00e9sre nincs index. Ha van sz\u0171r\u00e9si felt\u00e9tel, minden soron v\u00e9gig kell menni \u00e9s ki kell \u00e9rt\u00e9kelni a felt\u00e9telt. Mivel van Clusterd Index, \u00edgy ament\u00e9n haladunk, de nem sokra megy\u00fcnk ezzel, l\u00e9nyeg\u00e9ben egy Table Scan. Ezek nem hat\u00e9kony lek\u00e9rdez\u00e9sek. Mivel nem a Clustered Index rendez\u00e9si kulcsra fogalmaztuk meg a felt\u00e9telt, \u00edgy az index nem sokat seg\u00edt nek\u00fcnk (ez\u00e9rt lesz Scan \u00e9s nem Seek).</p> <p>j)</p> <p></p> <p>Ez is Clustered Index Scan lesz, de ami az \u00e9rdekes, hogy a rendez\u00e9s k\u00f6lts\u00e9ge jelent\u0151s (nagyobb mint a kikeres\u00e9s\u00e9). Miut\u00e1n az el\u00e9g k\u00f6lts\u00e9ges Index Scan-t megcsin\u00e1ltuk, m\u00e9g rendezn\u00fcnk is kell, hiszen a kiolvasott rekordok ID szerint sorrendezettek nem <code>Price</code> szerint. Ez a lek\u00e9rdez\u00e9s nagyon k\u00f6lts\u00e9ges, az am\u00fagy is dr\u00e1ga scan ut\u00e1n m\u00e9g rendezni is kell. A j\u00f3 index nem csak a keres\u00e9st seg\u00edti - de most nincs megfelel\u0151 index\u00fcnk.</p>"},{"location":"Lab-QueryOptimization/#feladat-4-2p","title":"Feladat 4 (2p)","text":"<p>Vegy\u00e9l fel indexet a <code>Price</code> oszlopra. Hogyan v\u00e1ltoznak az el\u0151bbi lek\u00e9rdez\u00e9sek v\u00e9grehajt\u00e1si tervei?</p> <p>Az index felv\u00e9tel\u00e9hez haszn\u00e1ld az Object Explorer-t, a f\u00e1ban a t\u00e1bl\u00e1t kibontva az Indexes-en jobbklikk -&gt; New index &gt; Non-Clustered Index...</p> <p></p> <p>Adj az indexeknek \u00e9rtelmes, egys\u00e9ges konvenci\u00f3 szerinti nevet, pl. <code>IX_Tablanev_MezoNev</code>. Add a Price oszlopot az Index key columns list\u00e1hoz.</p> <p></p> <p>Ism\u00e9teld meg az el\u0151bbi lek\u00e9rdez\u00e9seket, \u00e9s \u00e9rtelmezd a terveket!</p> Megold\u00e1s <p>A parancsok megegyeznek az el\u0151z\u0151 feladat\u00e9val.</p> <p>f)</p> <p>Hi\u00e1ba az \u00faj index, ez m\u00e9g mind\u00edg Index Scan lesz - hiszen a teljes t\u00e1bla tartalm\u00e1t k\u00e9rt\u00fck.</p> <p>g)-i)</p> <p>Clustered Index Scan lesz, l\u00e9nyeg\u00e9ben megegyezik a sz\u0171r\u00e9shez elvileg haszn\u00e1lhat\u00f3 index n\u00e9lk\u00fcli esettel.</p> <p>Mi\u00e9rt nem haszn\u00e1lja az \u00faj index\u00fcnket? A nem t\u00fal nyilv\u00e1nval\u00f3 ok a projekci\u00f3ban rejlik, azaz, hogy teljes rekordokat k\u00e9r\u00fcnk vissza. Az NonClustered Index-b\u0151l csak egy halom rekordreferenci\u00e1t kapn\u00e1nk, amik alapj\u00e1n m\u00e9g ut\u00e1na fel kellene olvasni a sz\u00fcks\u00e9ges rekordokat. Az optimaliz\u00e1l\u00f3 \u2013 f\u0151leg kis t\u00e1bl\u00e1k eset\u00e9n- d\u00f6nthet \u00fagy, hogy ennek \u00f6sszk\u00f6lts\u00e9ge nagyobb lenne, mint egy index scan-nek.</p> <p>j)</p> <p></p> <p>A NonClustered Index Seek-b\u0151l kikeresett megfelel\u0151 kulcsoknak megfelel\u0151 rekordokat kikeress\u00fck a Clustered Index-b\u0151l. L\u00e9nyeg\u00e9ben egy join a k\u00e9t index k\u00f6z\u00f6tt.</p> <p>A t\u00f6bbi lek\u00e9rdez\u00e9sn\u00e9l is valami ilyet v\u00e1rtunk volna. A Clustered Index-re sz\u00fcks\u00e9g van, mert teljes rekordokat k\u00e9r\u00fcnk vissza, a NonClustered Index csak referenci\u00e1kat ad. A referenci\u00e1k sorrendben vannak, \u00edgy ha ezekhez rendre kigy\u0171jtj\u00fck a teljes rekordokat a Clustered Index-b\u0151l akkor megsp\u00f3roljuk az ut\u00f3lagos rendez\u00e9st. Ha csak a Clustered Index-et haszn\u00e1ln\u00e1nk (teljes Clustered Index Scan), akkor kellene ut\u00f3lagos rendez\u00e9s. Ez egy elfogadhat\u00f3 terv, mert a NonClustered Index seg\u00edts\u00e9g\u00e9vel meg\u00fasztuk a k\u00fcl\u00f6n rendez\u00e9st.</p>"},{"location":"Lab-QueryOptimization/#feladat-5-2p","title":"Feladat 5 (2p)","text":"<p>Szapor\u00edtsd meg a Product t\u00e1bla sorait az al\u00e1bbi SQL szkripttel. Hogyan v\u00e1ltoznak az el\u0151bbi v\u00e9grehajt\u00e1si tervek?</p> <p>Az i) t\u00edpus\u00fa lek\u00e9rdez\u00e9st pr\u00f3b\u00e1ld ki \u00fagy is, hogy a v\u00e1lasztott konstans miatt kicsi legyen az eredm\u00e9nyhalmaz, \u00e9s \u00fagy is, hogy l\u00e9nyeg\u00e9ben a teljes t\u00e1bla benne legyen. Adj magyar\u00e1zatot is a v\u00e1ltoz\u00e1sokra.</p> <pre><code>SELECT TOP (1000000) n = ABS(CHECKSUM(NEWID()))\nINTO dbo.Numbers\nFROM sys.all_objects AS s1 CROSS JOIN sys.all_objects AS s2\nOPTION (MAXDOP 1);\n\nCREATE CLUSTERED INDEX n ON dbo.Numbers(n)\n;\n\n\nINSERT INTO Product(Name, Price, Stock, VATID, CategoryID)\nSELECT 'Apple', n%50000, n%100, 3, 13\nFROM Numbers\n</code></pre> Megold\u00e1s <p>A parancsok megegyeznek a kor\u00e1bbiakkal.</p> <p>f)</p> <p>Megegyezik az el\u0151z\u0151 feladattal.</p> <p>g)</p> <p></p> <p>A NonClustered Index Seek-b\u0151l kikeresett kulcsoknak megfelel\u0151 rekordokat kikeress\u00fck a Clustered Index-b\u0151l. L\u00e9nyeg\u00e9ben egy join a k\u00e9t index k\u00f6z\u00f6tt.</p> <p>Vess\u00fck \u00f6ssze az el\u0151z\u0151, kis t\u00e1bl\u00e1s v\u00e1ltozattal. Mi\u00e9rt nem haszn\u00e1lja most a Clustered Index Scan-t? Nagy t\u00e1bl\u00e1kn\u00e1l megn\u0151 a szelektivit\u00e1s szerepe \u00e9s jelent\u0151s a NonClustered Index haszn\u00e1lat\u00e1b\u00f3l fakad\u00f3 el\u0151ny. A Clustered Index Scan nagy m\u00e9retn\u00e9l nagyon dr\u00e1ga, ha van es\u00e9ly r\u00e1, hogy az NonClustered Index haszn\u00e1lat\u00e1val cs\u00f6kkenthet\u0151 a felolvashat\u00f3 sorok sz\u00e1ma, akkor szinte biztosan \u00e9rdemes haszn\u00e1lni. A <code>Price</code> statisztik\u00e1i alapj\u00e1n tudhat\u00f3, hogy az = oper\u00e1tor j\u00f3l sz\u0171r. Fontos! Az <code>=</code> haszn\u00e1lat\u00e1b\u00f3l m\u00e9g nem k\u00f6vetkezik a j\u00f3 sz\u0171r\u00e9s, ha szinte minden sorban ugyanaz az \u00e9rt\u00e9k van, akkor pl. nem fog j\u00f3l sz\u0171rni - ez\u00e9rt kell a statisztika is!</p> <p>Ez a terv elfogadhat\u00f3. Ha a felt\u00e9tel\u00fcnk j\u00f3l sz\u0171r, akkor t\u00e9nyleg ez lehet a j\u00f3 ir\u00e1ny.</p> <p>h)</p> <p></p> <p>Clustered Index Scan v\u00e9gigmegy a clustered index ment\u00e9n, megegyezik a kor\u00e1bban l\u00e1tottakkal.</p> <p>Mi\u00e9rt nem haszn\u00e1ljuk az el\u0151z\u0151 m\u00f3dszert? Ha az <code>=</code> ezen t\u00e1bla eset\u00e9ben j\u00f3l sz\u0171rt, akkor a <code>&lt;&gt;</code> nem fog. Ha ezt tudja a statisztik\u00e1k alapj\u00e1n az optimaliz\u00e1l\u00f3, akkor \u00f6sszess\u00e9g\u00e9ben nem \u00e9ri meg tr\u00fckk\u00f6zni, \u00fagyis fel kell olvasni a teljes t\u00e1bl\u00e1t.</p> <p>i)</p> <p>Att\u00f3l f\u00fcgg, hogy milyen konstanst v\u00e1lasztunk. Ha nagyon j\u00f3l sz\u0171r (pl. nagyon nagy sz\u00e1m a konstans), akkor a g)-n\u00e9l, ha nem akkor a h)-n\u00e1l l\u00e1tott m\u00f3dszert k\u00f6veti.</p> <p>j)</p> <p>Mint a g) eset\u00e9ben. Sz\u00e1m\u00edt itt az <code>order by desc</code>? Az optimaliz\u00e1l\u00f3 megpr\u00f3b\u00e1lja elker\u00fclni a rendez\u00e9st, azt pedig csak ezzel a m\u00f3dszerrel tudja. Ez egy elfogadhat\u00f3 terv. Az NonClustered Index seg\u00edts\u00e9g\u00e9vel itt is meg\u00fasztuk a rendez\u00e9st.</p>"},{"location":"Lab-QueryOptimization/#onallo-feladatok","title":"\u00d6n\u00e1ll\u00f3 feladatok","text":"<p>BEADAND\u00d3</p> <p>A feladatok megold\u00e1sa sor\u00e1n a k\u00f6z\u00f6s feladatoknak megfelel\u0151 dokument\u00e1l\u00e1st k\u00e9rj\u00fck.</p> <p>Ne felejtsd, hogy a dokument\u00e1ci\u00f3nak a k\u00e9pekkel egy\u00fctt helyesen kell megjelenni\u00fck a GitHub webes fel\u00fclet\u00e9n is! Ezt ellen\u0151rizd a bead\u00e1s sor\u00e1n: nyisd meg a repository-d webes fel\u00fclet\u00e9t, v\u00e1ltsd \u00e1t a megfelel\u0151 \u00e1gra, \u00e9s a GitHub automatikusan renderelni fogja a <code>README.md</code> f\u00e1jlt a k\u00e9pekkel egy\u00fctt.</p>"},{"location":"Lab-QueryOptimization/#feladat-6-1p","title":"Feladat 6 (1p)","text":"<p>Ism\u00e9teld meg a <code>Product</code> keres\u00e9seket, de ez\u00fattal ne a teljes sort, csak a <code>Price</code> \u00e9s az els\u0151dleges kulcs \u00e9rt\u00e9k\u00e9t k\u00e9rd vissza a lek\u00e9rdez\u00e9sben. Hogyan v\u00e1ltoznak a v\u00e9grehajt\u00e1si tervek? Adj magyar\u00e1zatot is a v\u00e1ltoz\u00e1sokra.</p>"},{"location":"Lab-QueryOptimization/#feladat-7-1p","title":"Feladat 7 (1p)","text":"<p>Elemezd a k\u00f6vetkez\u0151 k\u00e9t, <code>Product</code> t\u00e1bl\u00e1b\u00f3l t\u00f6rt\u00e9n\u0151 lek\u00e9rdez\u00e9s v\u00e9grehajt\u00e1si terv\u00e9t:</p> <ul> <li>k) olyan rekordok lek\u00e9rdez\u00e9se, ahol az els\u0151dleges kulcs \u00e9rt\u00e9ke k\u00e9t \u00e9rt\u00e9k k\u00f6z\u00f6tt van (haszn\u00e1ld a <code>BETWEEN</code> oper\u00e1tort)</li> <li>l) olyan rekordok lek\u00e9rdez\u00e9se, ahol az els\u0151dleges kulcs \u00e9rt\u00e9ke k\u00e9t \u00e9rt\u00e9k k\u00f6z\u00f6tt van (itt is haszn\u00e1ld a <code>BETWEEN</code>-t), vagy megegyezik egy intervallumon k\u00edv\u00fcli \u00e9rt\u00e9kkel</li> </ul> <p>Add meg a haszn\u00e1lt SQL utas\u00edt\u00e1sokat, majd vizsg\u00e1ld meg a lek\u00e9rdez\u00e9si terveket, \u00e9s adj magyar\u00e1zatot r\u00e1juk!</p>"},{"location":"Lab-QueryOptimization/#feladat-8-1p","title":"Feladat 8 (1p)","text":"<p>A 6-os feladatban <code>WHERE Price=</code> felt\u00e9tel egy eg\u00e9sz \u00e9s egy lebeg\u0151pontos sz\u00e1m egyenl\u0151s\u00e9g\u00e9t vizsg\u00e1lja. N\u00e9zz\u00fck meg m\u00e1shogy is a sz\u00e1mkezel\u00e9st: k\u00e9rdezd le a <code>Product</code> t\u00e1bl\u00e1b\u00f3l az al\u00e1bbi felt\u00e9teknek megfelel\u0151 rekordokat.</p> <ul> <li>m) <code>where cast(Price as int) = eg\u00e9sz sz\u00e1m</code></li> <li>n) <code>where Price BETWEEN eg\u00e9sz sz\u00e1m-0.0001 AND eg\u00e9sz sz\u00e1m+0.0001</code></li> </ul> <p>V\u00e1lassz egy tetsz\u0151leges eg\u00e9sz sz\u00e1mot a lek\u00e9rdez\u00e9sekhez, \u00e9s \u00edgy k\u00e9rd le csak az els\u0151dleges kulcs \u00e9rt\u00e9ket. Elemezd a v\u00e9grehajt\u00e1si terveket.</p>"},{"location":"Lab-QueryOptimization/#feladat-9-1p","title":"Feladat 9 (1p)","text":"<p>Elemezd a k\u00f6vetkez\u0151, <code>Product</code> t\u00e1bl\u00e1b\u00f3l t\u00f6rt\u00e9n\u0151 lek\u00e9rdez\u00e9sek v\u00e9grehajt\u00e1si terv\u00e9t:</p> <ul> <li>o) olyan teljes rekordok lek\u00e9rdez\u00e9se, ahol a <code>Price</code> kisebb, mint egy kis konstans \u00e9rt\u00e9k (legyen az \u00e9rt\u00e9k j\u00f3l sz\u0171r\u0151, azaz kev\u00e9s rekordot adjon vissza), els\u0151dleges kulcs szerint cs\u00f6kken\u0151 sorrendbe rendezve</li> <li>p) mint az el\u0151z\u0151, de csak az <code>Id</code> \u00e9s <code>Price</code> adatokat k\u00e9rj\u00fck vissza</li> <li>q) olyan teljes rekordok lek\u00e9rdez\u00e9se, ahol a <code>Price</code> nagyobb, mint egy kis konstans \u00e9rt\u00e9k (nem sz\u0171r j\u00f3l, sok eredm\u00e9nye legyen), els\u0151dleges kulcs szerint cs\u00f6kken\u0151 sorrendbe rendezve</li> <li>r) mint az el\u0151z\u0151, de csak az <code>Id</code> \u00e9s <code>Price</code> adatokat k\u00e9rj\u00fck vissza</li> </ul> <p>Add meg a haszn\u00e1lt SQL utas\u00edt\u00e1sokat, majd vizsg\u00e1ld meg a lek\u00e9rdez\u00e9si terveket, \u00e9s adj magyar\u00e1zatot r\u00e1juk!</p>"},{"location":"Lab-QueryOptimization/#feladat-10-1p","title":"Feladat 10 (1p)","text":"<p>Rakj indexet a <code>Name</code> oszlopra, majd elemezd a k\u00f6vetkez\u0151, <code>Product</code> t\u00e1bl\u00e1b\u00f3l t\u00f6rt\u00e9n\u0151 lek\u00e9rdez\u00e9sek v\u00e9grehajt\u00e1si terv\u00e9t:</p> <ul> <li>s) olyan n\u00e9v-azonos\u00edt\u00f3 p\u00e1rok lek\u00e9rdez\u00e9se, ahol a term\u00e9k neve B-vel kezd\u0151dik, <code>SUBSTRING</code>-et haszn\u00e1lva</li> <li>t) mint az el\u0151z\u0151, de <code>LIKE</code>-ot haszn\u00e1lva</li> <li>u) olyan n\u00e9v-azonos\u00edt\u00f3 p\u00e1rok lek\u00e9rdez\u00e9se, ahol a term\u00e9k neve B-t tartalmaz (LIKE)</li> <li>v) egy konkr\u00e9t term\u00e9k azonos\u00edt\u00f3j\u00e1nak kikeres\u00e9se pontos n\u00e9v egyez\u00e9s (=) alapj\u00e1n</li> <li>w) mint az el\u0151z\u0151, de kisbet\u0171-nagybet\u0171-\u00e9rz\u00e9ketlen\u00fcl (<code>UPPER</code> haszn\u00e1lat\u00e1val)</li> </ul> <p>Add meg a haszn\u00e1lt SQL utas\u00edt\u00e1sokat, majd vizsg\u00e1ld meg a lek\u00e9rdez\u00e9si terveket, \u00e9s adj magyar\u00e1zatot r\u00e1juk!</p>"},{"location":"Lab-QueryOptimization/#feladat-11-1p","title":"Feladat 11 (1p)","text":"<p>Elemezd a k\u00f6vetkez\u0151, <code>Product</code> t\u00e1bl\u00e1b\u00f3l t\u00f6rt\u00e9n\u0151 lek\u00e9rdez\u00e9sek v\u00e9grehajt\u00e1si terv\u00e9t:</p> <ul> <li>x) a maxim\u00e1lis <code>Id</code> lek\u00e9rdez\u00e9se</li> <li>y) a minim\u00e1lis <code>Price</code> lek\u00e9rdez\u00e9se</li> </ul> <p>Add meg a haszn\u00e1lt SQL utas\u00edt\u00e1sokat, majd vizsg\u00e1ld meg a lek\u00e9rdez\u00e9si terveket, \u00e9s adj magyar\u00e1zatot r\u00e1juk!</p>"},{"location":"Lab-QueryOptimization/#feladat-12-1p","title":"Feladat 12 (1p)","text":"<p>K\u00e9rd le term\u00e9k kateg\u00f3ri\u00e1nk\u00e9nt (<code>CategoryId</code>) a kateg\u00f3ri\u00e1hoz tartoz\u00f3 term\u00e9kek (<code>Product</code>) sz\u00e1m\u00e1t.</p> <p>Add meg a haszn\u00e1lt SQL utas\u00edt\u00e1sokat, majd vizsg\u00e1ld meg a lek\u00e9rdez\u00e9si terveket, \u00e9s adj magyar\u00e1zatot r\u00e1juk!</p>"},{"location":"Lab-QueryOptimization/#feladat-13-1p","title":"Feladat 13 (1p)","text":"<p>Hogyan jav\u00edthat\u00f3 az el\u0151z\u0151 feladat lek\u00e9rdez\u00e9seinek teljes\u00edtm\u00e9nye? Add meg a megold\u00e1st, \u00e9s ut\u00e1na elemezd \u00fajra az el\u0151z\u0151 lek\u00e9rdez\u00e9s terv\u00e9t.</p> <p>Tipp</p> <p>Fel kell venni egy \u00faj indexet. De vajon mire?</p>"},{"location":"Lab-QueryOptimization/#feladat-14-1p","title":"Feladat 14 (1p)","text":"<p>List\u00e1zd a 2-es <code>CategoryId</code>-val rendelkez\u0151 <code>Product</code> rekordokb\u00f3l a nevet (<code>Name</code>). </p> <p>Add meg a haszn\u00e1lt SQL utas\u00edt\u00e1sokat, majd vizsg\u00e1ld meg a lek\u00e9rdez\u00e9si terveket, \u00e9s adj magyar\u00e1zatot r\u00e1juk! T\u00e9rj ki arra, hogy az el\u0151z\u0151 feladatban felvett index seg\u00edtett-e, \u00e9s mi\u00e9rt?</p>"},{"location":"Lab-QueryOptimization/#feladat-15-1p","title":"Feladat 15 (1p)","text":"<p>Jav\u00edts az el\u0151z\u0151 feladat lek\u00e9rdez\u00e9s\u00e9nek teljes\u00edtm\u00e9ny\u00e9n. Az el\u0151bb felvett indexet b\u0151v\u00edts\u00fck a n\u00e9vvel: indexen jobbklikk -&gt; Properties -&gt; a t\u00e1bl\u00e1zatban az Included Columns f\u00fcl alatt vegy\u00fck fel a <code>Name</code> oszlopot.</p> <p>\u00cdgy ism\u00e9teld meg az el\u0151z\u0151 lek\u00e9rdez\u00e9st, \u00e9s elemezd a tervet.</p>"},{"location":"Lab-QueryOptimization/#opcionalis-feladatok","title":"Opcion\u00e1lis feladatok","text":"<p>A feladat megold\u00e1s\u00e1val 1+2 iMsc pont szerezhet\u0151.</p>"},{"location":"Lab-QueryOptimization/#feladat-16","title":"Feladat 16","text":"<p>Elemezd a k\u00f6vetkez\u0151 <code>Invoice</code>-<code>InvoiceItem</code> t\u00e1bl\u00e1kb\u00f3l t\u00f6rt\u00e9n\u0151 lek\u00e9rdez\u00e9s v\u00e9grehajt\u00e1si terv\u00e9t: minden sz\u00e1mlat\u00e9tel n\u00e9vhez k\u00e9rdezz\u00fck le a megrendel\u0151 nev\u00e9t.</p> <pre><code>SELECT CustomerName, Name\nFROM Invoice JOIN InvoiceItem ON Invoice.ID = InvoiceItem.InvoiceID\n</code></pre> <p>Mutasd meg, milyen join strat\u00e9gi\u00e1t v\u00e1lasztott a rendszer. Adj magyar\u00e1zatot, mi\u00e9rt v\u00e1laszthatta ezt!</p>"},{"location":"Lab-QueryOptimization/#feladat-17","title":"Feladat 17","text":"<p>Hasonl\u00edtsd \u00f6ssze a k\u00fcl\u00f6nb\u00f6z\u0151 JOIN strat\u00e9gi\u00e1k k\u00f6lts\u00e9g\u00e9t a k\u00f6vetkez\u0151 lek\u00e9rdez\u00e9s eset\u00e9ben: \u00f6sszetartoz\u00f3 <code>Product</code>-<code>Category</code> rekordp\u00e1rok lek\u00e9rdez\u00e9se.</p> <p>Tipp</p> <p>Haszn\u00e1lj query hinteket vagy az option parancsot a join strat\u00e9gia kiv\u00e1laszt\u00e1s\u00e1hoz.</p> <p>Tedd a 3 lek\u00e9rdez\u00e9st (3 fajta join strat\u00e9gia) egy v\u00e9grehajt\u00e1si egys\u00e9gbe (egyszerre futtasd \u0151ket). \u00cdgy l\u00e1tni fogod az egym\u00e1shoz viszony\u00edtott k\u00f6lts\u00e9g\u00fcket.</p> <p>Add meg a haszn\u00e1lt SQL utas\u00edt\u00e1sokat, majd vizsg\u00e1ld meg a lek\u00e9rdez\u00e9si terveket, \u00e9s magyar\u00e1zd el a l\u00e1tottakat!</p>"},{"location":"Lab-ReportingServices/","title":"Reporting Services","text":"<p>A labor sor\u00e1n egy \u00faj eszk\u00f6zzel, a Microsoft SQL Server Reporting Services-zel ismerked\u00fcnk meg, \u00edgy a labor r\u00e9szben vezetett. Az els\u0151 feladat laborvezet\u0151vel egy\u00fctt megoldott, a tov\u00e1bbiak \u00f6n\u00e1ll\u00f3 feladatok. A k\u00f6z\u00f6s feladatmegold\u00e1s \u00e9s az \u00f6n\u00e1ll\u00f3 feladatmegold\u00e1s eredm\u00e9ny\u00e9t is be kell adni.</p>"},{"location":"Lab-ReportingServices/#elofeltetelek-felkeszules","title":"El\u0151felt\u00e9telek, felk\u00e9sz\u00fcl\u00e9s","text":"<p>A labor elv\u00e9gz\u00e9s\u00e9hez sz\u00fcks\u00e9ges eszk\u00f6z\u00f6k:</p> <ul> <li>Windows</li> <li>Microsoft SQL Server: Express v\u00e1ltozat ingyenesen haszn\u00e1lhat\u00f3, avagy Visual Studio mellett feltelep\u00fcl\u0151 localdb v\u00e1ltozat is megfelel\u0151</li> <li>SQL Server Management Studio</li> <li>Az adatb\u00e1zist l\u00e9trehoz\u00f3 script: adventure-works-2014-oltp-script.zip</li> <li>Microsoft Visual Studio 2019 (2022 nem j\u00f3): Community verzi\u00f3 is megfelel\u0151</li> <li>Report Server Projekt t\u00e1mogat\u00e1s Visual Studio-hoz: Microsoft Reporting Services Projects extension (\u00c9rdemes frissen tartani ezt az extension-t, mert gyakran van bel\u0151le kiad\u00e1s.)</li> <li>GitHub account \u00e9s egy git kliens</li> </ul> <p>A labor elv\u00e9gz\u00e9s\u00e9hez haszn\u00e1lhat\u00f3 seg\u00e9danyagok \u00e9s felk\u00e9sz\u00fcl\u00e9si anyagok:</p> <ul> <li>Microsoft SQL Server haszn\u00e1lata: le\u00edr\u00e1s \u00e9s vide\u00f3</li> <li>SQL Reporting Services hivatalos tutorial</li> </ul>"},{"location":"Lab-ReportingServices/#elokeszulet","title":"El\u0151k\u00e9sz\u00fclet","text":"<p>A feladatok megold\u00e1sa sor\u00e1n ne felejtsd el k\u00f6vetni a feladat bead\u00e1s folyamat\u00e1t.</p>"},{"location":"Lab-ReportingServices/#git-repository-letrehozasa-es-letoltese","title":"Git repository l\u00e9trehoz\u00e1sa \u00e9s let\u00f6lt\u00e9se","text":"<ol> <li> <p>Moodle-ben keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-j\u00e9t \u00e9s annak seg\u00edts\u00e9g\u00e9vel hozd l\u00e9tre a saj\u00e1t repository-dat.</p> </li> <li> <p>V\u00e1rd meg, m\u00edg elk\u00e9sz\u00fcl a repository, majd checkout-old ki.</p> <p>Egyetemi laborokban, ha a checkout sor\u00e1n nem k\u00e9r a rendszer felhaszn\u00e1l\u00f3nevet \u00e9s jelsz\u00f3t, \u00e9s nem siker\u00fcl a checkout, akkor val\u00f3sz\u00edn\u0171leg a g\u00e9pen kor\u00e1bban megjegyzett felhaszn\u00e1l\u00f3n\u00e9vvel pr\u00f3b\u00e1lkozott a rendszer. El\u0151sz\u00f6r t\u00f6r\u00f6ld ki a mentett bel\u00e9p\u00e9si adatokat (l\u00e1sd itt), \u00e9s pr\u00f3b\u00e1ld \u00fajra.</p> </li> <li> <p>Hozz l\u00e9tre egy \u00faj \u00e1gat <code>megoldas</code> n\u00e9ven, \u00e9s ezen az \u00e1gon dolgozz.</p> </li> <li> <p>A <code>neptun.txt</code> f\u00e1jlba \u00edrd bele a Neptun k\u00f3dodat. A f\u00e1jlban semmi m\u00e1s ne szerepeljen, csak egyetlen sorban a Neptun k\u00f3d 6 karaktere.</p> </li> </ol>"},{"location":"Lab-ReportingServices/#adventure-works-2014-adatbazis-letrehozasa","title":"Adventure Works 2014 adatb\u00e1zis l\u00e9trehoz\u00e1sa","text":"<p>A feladatok sor\u00e1n az Adventure Works minta adatb\u00e1zissal dolgozunk. Az adatb\u00e1zis egy kereskedelmi c\u00e9g \u00e9rt\u00e9kes\u00edt\u00e9seit tartalmazza, amelyb\u0151l mi a teljes adatb\u00e1zis meg\u00e9rt\u00e9se helyett el\u0151re defini\u00e1lt lek\u00e9rdez\u00e9sekkel dolgozunk csak, melyek term\u00e9kek elad\u00e1sainak adatait tartalmazza.</p> <ol> <li> <p>T\u00f6ltsd le \u00e9s csomagold ki az adventure-works-2014-oltp-script.zip f\u00e1jlt a <code>c:\\work\\Adventure Works 2014 OLTP Script</code> k\u00f6nyvt\u00e1rba (hozd l\u00e9tre a k\u00f6nyvt\u00e1rat, ha nem l\u00e9tezik).</p> <p>Mindenk\u00e9ppen ez a mappa legyen, k\u00fcl\u00f6nben az sql f\u00e1jlban az al\u00e1bbi helyen ki kell jav\u00edtani a k\u00f6nyvt\u00e1r el\u00e9r\u00e9si \u00fatvonal\u00e1t:</p> <pre><code>-- NOTE: Change this path if you copied the script source to another path\n:setvar SqlSamplesSourceDataPath \"C:\\work\\Adventure Works 2014 OLTP Script\\\"\n</code></pre> <p>Ha beleszerkesztesz az el\u00e9r\u00e9si \u00fatvonalba, \u00fcgyelj hogy a v\u00e9g\u00e9n maradjon perjel!</p> </li> <li> <p>Kapcsol\u00f3dj Microsoft SQL Serverhez SQL Server Management Studio seg\u00edts\u00e9g\u00e9vel. Az al\u00e1bbi adatokkal kapcsol\u00f3dj.</p> <ul> <li>Server name: <code>(localdb)\\mssqllocaldb</code> LocalDB eset\u00e9n, vagy <code>localhost\\sqlexpress</code> SQL Express haszn\u00e1latakor</li> <li>Authentication: <code>Windows authentication</code></li> </ul> </li> <li> <p>A File / Open / File... men\u00fcpont haszn\u00e1lat\u00e1val nyisd meg az el\u0151bbi mapp\u00e1b\u00f3l az <code>instawdb.sql</code> f\u00e1jlt. M\u00e9g ne futtasd! El\u0151bb kapcsold be az SQLCMD m\u00f3dot: a Query men\u00fcben SQLCMD Mode, \u00e9s csak ezt k\u00f6vet\u0151en v\u00e1lasszuk az Execute lehet\u0151s\u00e9get.</p> <p></p> </li> <li> <p>Ellen\u0151rizd, hogy l\u00e9trej\u00f6tt-e az adatb\u00e1zis \u00e9s a t\u00e1bl\u00e1k. Ha a baloldali f\u00e1ban a Databases-en Refresh-t nyomsz, meg kell jelenjen az AdventureWorks2014 adatb\u00e1zis a list\u00e1ban, \u00e9s alatta sz\u00e1mtalan t\u00e1bla.</p> <p>.</p> </li> <li> <p>Nyiss egy \u00faj SQL Query ablakot ezen az adatb\u00e1zison (az adatb\u00e1zison jobb eg\u00e9rrel kattintva New query), \u00e9s futtasd le az al\u00e1bbi SQL utas\u00edt\u00e1st a saj\u00e1t Neptun k\u00f3dodat behelyettes\u00edtve:</p> <pre><code>update Production.Product set Name='NEPTUN'+Name\n</code></pre> <p>Ellen\u0151rizd a <code>Production.Product</code> t\u00e1bla tartalm\u00e1t, hogy a Neptun k\u00f3dod ott van-e a nevek elej\u00e9n: jobb eg\u00e9rrel kattint\u00e1s a t\u00e1bl\u00e1n \u00e9s Select top 1000 rows.</p> <p>FONTOS</p> <p>Fontos, hogy szerepeljen a Neptun k\u00f3d a nevekben. A feladatok sor\u00e1n k\u00e9perny\u0151k\u00e9peket k\u00e9r\u00fcnk, amelyen szerepelnie kell a Neptun k\u00f3dodnak.</p> </li> </ol>"},{"location":"Lab-ReportingServices/#feladat-1-tablazatos-riport","title":"Feladat 1: T\u00e1bl\u00e1zatos riport","text":"<p>A feladat a laborvezet\u0151vel k\u00f6z\u00f6sen megoldott.</p> <p>Nyisd meg a checkoutolt git repository-ban a <code>reportserver.sln</code> f\u00e1jlt. Ez egy \u00fcres Report Server t\u00edpus\u00fa projekt, amelyet Visual Studio-ban fejleszt\u00fcnk.</p> <p>A Report Server projekt els\u0151sorban \u00fagynevezett Report Definition (.rdl) f\u00e1jlokb\u00f3l \u00e1ll, amelyek defini\u00e1lj\u00e1k a riport el\u0151\u00e1ll\u00edt\u00e1s\u00e1hoz sz\u00fcks\u00e9ges adatforr\u00e1sokat (lek\u00e9rdez\u00e9seket), \u00e9s a kin\u00e9zet sablonj\u00e1t, amit adatokkal felt\u00f6ltve kapjuk az eredm\u00e9ny riportot. A neve onnan ered, hogy ezeket a riportokat nem csak a fejleszt\u0151i g\u00e9pen lehet lefuttatni, hanem egy un. Report Server-re publik\u00e1lhat\u00f3ak, ahonnan a v\u00e1llalat megfelel\u0151 \u00fczleti szerepl\u0151i mindig friss riportokat k\u00e9rhetnek, az aktu\u00e1lis adatok alapj\u00e1n.</p> <p>Ezen a laboron nem tudjuk megmutatni a Report Server-t. Ennek csup\u00e1n technikai okai vannak, a Report Server telep\u00edt\u00e9s ut\u00e1n k\u00e9zi konfigur\u00e1ci\u00f3t ig\u00e9nyel, amit a laborokban megfelel\u0151 jogosults\u00e1g n\u00e9lk\u00fcl nem tudunk megtenni. Ez\u00e9rt csak a Visual Studio-ban fogjuk l\u00e1tni a riportot.</p>"},{"location":"Lab-ReportingServices/#hozzuk-letre-az-elso-report-definition-fajlt","title":"Hozzuk l\u00e9tre az els\u0151 Report Definition f\u00e1jlt.","text":"<ol> <li> <p>Solution Explorer-ben jobb klikk a Reports-ra \u00e9s Add &gt; New Item.</p> <p></p> </li> <li> <p>A sablonok k\u00f6z\u00fcl v\u00e1lasszuk a Report lehet\u0151s\u00e9get. Nevezz\u00fck el Sales Orders.rdl-nek, majd nyomjunk r\u00e1 az Add-re.</p> Ha nem siker\u00fcl l\u00e9trehozni az \u00faj riport f\u00e1jlt <p>Bizonyos Visual Studio \u00e9s Report Server projekt verzi\u00f3 eset\u00e9n az \u00faj riport f\u00e1jl l\u00e9trehoz\u00e1sa nem siker\u00fcl. Ha hiba\u00fczenetet kapsz, akkor k\u00f6vesd az al\u00e1bbi l\u00e9p\u00e9seket.</p> <ol> <li>T\u00f6lts le ezt az \u00fcres rdl f\u00e1jlt.</li> <li>Tedd a f\u00e1jlt a repository-d alatt a <code>reportserver</code> mapp\u00e1ba a megfelel\u0151 n\u00e9vvel (ez a mappa m\u00e1r l\u00e9tezik).</li> <li>Visual Studio-ban a Reports mapp\u00e1ra jobb kattint\u00e1s \u00e9s Add &gt; Existing Item, majd keresd ki az el\u0151bbi f\u00e1jlt.</li> </ol> </li> <li> <p>Nyisd meg a riport f\u00e1jlt a Report Designer n\u00e9zethez. Itt l\u00e1that\u00f3 az \u00faj .rdl f\u00e1jlt Design n\u00e9zetben.</p> <p></p> <p>A Report Designer a fejleszt\u0151fel\u00fclet\u00fcnk. K\u00e9t n\u00e9zete van: Design \u00e9s Preview. Emellett a Report Data panel is megny\u00edlik, itt lehet defini\u00e1lni az adatforr\u00e1sokat. Ha megvagyunk az adatforr\u00e1sok megad\u00e1s\u00e1val, a Design f\u00fcl\u00f6n tudjuk a riportot vizu\u00e1lisan megtervezni, majd ha m\u00e1r kell\u0151k\u00e9ppen el\u0151rehaladtunk a riport k\u00e9sz\u00edt\u00e9s\u00e9vel, a Preview f\u00fcl\u00f6n tudjuk kipr\u00f3b\u00e1lni.</p> </li> </ol>"},{"location":"Lab-ReportingServices/#adatforras-data-source-beallitasa","title":"Adatforr\u00e1s (data source) be\u00e1ll\u00edt\u00e1sa","text":"<p>Az adatforr\u00e1s defin\u00e1lja, a riport adatai honnan sz\u00e1rmaznak. A mi eset\u00fcnkben ez a kor\u00e1bban l\u00e9rehozott SQL Server adatb\u00e1zis lesz.</p> <ol> <li> <p>A Report Data panelen New &gt; Data Source. A neve legyen \"AdventureWorks2014\".</p> <p></p> </li> <li> <p>A megjelen\u0151 \u0171rlapon v\u00e1lasszuk a Microsoft SQL Server t\u00edpust \u00e9s a connection string mez\u0151 melletti gombra kattintva adjuk meg ism\u00e9t az adatb\u00e1zis el\u00e9r\u00e9s\u00e9t</p> <ul> <li>Server name: <code>(localdb)\\mssqllocaldb</code></li> <li>Authentication: <code>Windows Authentication</code></li> <li>Select or enter database name: <code>AdventureWorks2014</code></li> </ul> </li> <li> <p>OK-\u00e9zzuk le a dial\u00f3gusokat. Majd nyissuk meg \u00fajra a Data Source tulajdons\u00e1gait (jobb eg\u00e9rrel \u00e9s Data Source Properties), \u00e9s ellen\u0151rizz\u00fck a Credentials f\u00fclet, mert a Visual Studio n\u00e9ha \"elfelejti\" a be\u00e1ll\u00edt\u00e1st. Az al\u00e1bbi checkbox-nak kell kijel\u00f6lve lennie:</p> <p></p> </li> </ol>"},{"location":"Lab-ReportingServices/#adathalmaz-data-set-megadasa","title":"Adathalmaz (data set) megad\u00e1sa","text":"<p>Ahhoz, hogy riportokat k\u00e9sz\u00edthess\u00fck, az adatforr\u00e1shoz adathalmazokat (dataset) is meg kell adnunk. Ez gyakorlatilag egy lek\u00e9rdez\u00e9st fog jelenteni az adatforr\u00e1s fel\u00e9.</p> <ol> <li> <p>A Report Data panelen v\u00e1lasszuk a New &gt; Dataset opci\u00f3t. Nevezz\u00fck el a datasetet \"AdventureWorksDataset\"-nek. Data source-ot a leg\u00f6rd\u00fcl\u0151 men\u00fcb\u0151l tudunk v\u00e1lasztani, haszn\u00e1ljuk az el\u0151z\u0151leg el\u00e9sz\u00edtettet, \u00e9s alkalmazzuk az al\u00e1bbi be\u00e1ll\u00edt\u00e1sokat:</p> <p></p> </li> <li> <p>\u00cdrjuk be a k\u00f6vetkez\u0151 Query-t.</p> <pre><code>SELECT\nsoh.OrderDate AS [Date],\nsoh.SalesOrderNumber AS [Order],\npps.Name AS Subcat, pp.Name as Product,\nSUM(sd.OrderQty) AS Qty,\nSUM(sd.LineTotal) AS LineTotal\nFROM Sales.SalesPerson sp\nINNER JOIN Sales.SalesOrderHeader AS soh\nON sp.BusinessEntityID = soh.SalesPersonID\nINNER JOIN Sales.SalesOrderDetail AS sd\nON sd.SalesOrderID = soh.SalesOrderID\nINNER JOIN Production.Product AS pp\nON sd.ProductID = pp.ProductID\nINNER JOIN Production.ProductSubcategory AS pps\nON pp.ProductSubcategoryID = pps.ProductSubcategoryID\nINNER JOIN Production.ProductCategory AS ppc\nON ppc.ProductCategoryID = pps.ProductCategoryID\nGROUP BY ppc.Name, soh.OrderDate, soh.SalesOrderNumber,\npps.Name, pp.Name, soh.SalesPersonID\nHAVING ppc.Name = 'Clothing'\n</code></pre> <p>Ha megvagyunk, nyomjuk meg a Refresh fields gombot.</p> <p>A query-t elvileg vizu\u00e1lisan is \u00f6sszekattinthattuk volna (a Query Designer seg\u00edts\u00e9g\u00e9vel), de az a fel\u00fclet el\u00e9g \u00f3don, \u00e9s lassan is t\u00f6lt\u0151dik be.</p> <p>A t\u00f6bbi f\u00fcl\u00f6n most nincs dolgunk, kattintsunk az OK-ra.</p> </li> </ol>"},{"location":"Lab-ReportingServices/#tablazatos-riport-keszitese-5p","title":"T\u00e1bl\u00e1zatos riport k\u00e9sz\u00edt\u00e9se (5p)","text":"<p>Most, hogy megvan a kapcsolatunk az adatb\u00e1zis fel\u00e9, \u00e9s a lek\u00e9rdez\u00e9st is meg\u00edrtuk, elkezdhet\u00fcnk riportokat gy\u00e1rtani. A riport nem m\u00e1s, mint a lek\u00e9rdez\u00e9s eredm\u00e9nye megjelen\u00edtve t\u00e1bl\u00e1zatokban, diagramokban.</p> <ol> <li> <p>Nyissuk meg a Toolbox panelt, ha m\u00e9g nem l\u00e1tszana (View men\u00fcben megtal\u00e1lhat\u00f3).</p> </li> <li> <p>V\u00e1lasszuk ki a Table eszk\u00f6zt, majd a Design f\u00fcl k\u00f6z\u00e9ps\u0151 r\u00e9sz\u00e9n elhelyezked\u0151 \u00fcres, feh\u00e9r t\u00e9glalapra \"rajzoljunk\" egy t\u00e1bl\u00e1zatot, mintha csak egy n\u00e9gysz\u00f6get rajzoln\u00e1nk Paintben:</p> <p></p> </li> <li> <p>V\u00e1ltsunk vissza a Report Data panelre, \u00e9s nyissuk le az AdventureWorksDataset-et.</p> <p></p> <p>Ha ez \u00fcres vagy nem nyithat\u00f3 le, \u00e1ltal\u00e1ban az a baj, hogy a dataset l\u00e9trehoz\u00e1sakor nem nyomtuk meg a Refresh Fields gombot. Ezt m\u00e9g nem k\u00e9s\u0151 megtenni: jobb kattint\u00e1s a dataseten &gt; Dataset properties, majd a megjelen\u0151 ablakban nyomjuk meg a Refresh Fields gombot.</p> </li> <li> <p>A Date mez\u0151t h\u00fazzuk r\u00e1 az im\u00e9nt \"rajzolt\" t\u00e1bl\u00e1zat els\u0151 oszlop\u00e1ra. Ilyesmi eredm\u00e9nyt kell kapjunk:</p> <p></p> <p>A m\u00e1sodik sorban l\u00e1that\u00f3 <code>[Date]</code> jel\u00f6li a ki\u00e9rt\u00e9kelend\u0151 kifejez\u00e9st, m\u00edg az els\u0151 sorban l\u00e1that\u00f3 \"Date\" felirat lesz az oszlop fejl\u00e9ce a riportban \u2013 ez ut\u00f3bbit \u00e1t is \u00edrhatjuk.</p> </li> <li> <p>Az el\u0151bbi m\u00f3dszerrel h\u00fazzuk be a m\u00e1sodik oszlopba az Order, a harmadikba a Product mez\u0151t. A Qty mez\u0151t is h\u00fazzuk be a jobb sz\u00e9ls\u0151 oszlop sz\u00e9l\u00e9re \u00fagy, hogy felenged\u00e9s el\u0151tt egy + jelet l\u00e1ssunk az eg\u00e9rkurzor alatt, \u00e9s egy f\u00fcgg\u0151leges k\u00e9k vonalat a t\u00e1bl\u00e1zat sz\u00e9l\u00e9n. \u00cdgy egy \u00faj, negyedik oszlopba fog ker\u00fclni a mez\u0151. Ugyan\u00edgy elj\u00e1rva h\u00fazzuk be a LineTotal mez\u0151t is \u00f6t\u00f6dik oszlopnak.</p> <p></p> </li> <li> <p>Ezzel el is k\u00e9sz\u00fclt az els\u0151 riportunk. N\u00e9zz\u00fck meg a Preview f\u00fcl\u00f6n. Els\u0151re kicsit lassan t\u00f6lt\u0151dik be, erre sz\u00e1m\u00edtsunk. A tov\u00e1bbiakban m\u00e1r gyorsabb lesz! Ellen\u0151rizd, hogy a Neptun k\u00f3dod megjelenik-e! (Ha nem, kifelejtett\u00e9l az el\u0151k\u00e9sz\u00edt\u0151 l\u00e9p\u00e9sek k\u00f6z\u00fcl egyet. Menj vissza, \u00e9s p\u00f3told!)</p> <p></p> <p>Az elk\u00e9sz\u00fclt riportot p\u00e9ld\u00e1ul kinyomtathatjuk, vagy export\u00e1lhatjuk t\u00f6bb f\u00e9le form\u00e1tumba (Word, Excel, PowerPoint, PDF). Jelen \u00e1llapot\u00e1ban az\u00e9rt van rajta m\u00e9g mit csiszolni, pl. a v\u00e9g\u00f6sszeg mez\u0151n\u00e9l nincs jel\u00f6lve a valuta, \u00e9s az \u00e9rt\u00e9ket is b\u0151ven el\u00e9g lenne 2 tizedesjelre kerek\u00edtve megmutatni. A d\u00e1tum form\u00e1z\u00e1sa \u00e9s az oszlopok sz\u00e9less\u00e9ge sem az igazi.</p> </li> <li> <p>Menj\u00fcnk vissza a Design f\u00fclre, \u00e9s a t\u00e1bl\u00e1zatunkban kattintsunk jobb eg\u00e9rgombbal a <code>[Date]</code> kifejez\u00e9sen, majd v\u00e1lasszuk a Text Box Properties opci\u00f3t. Itt a Number f\u00fcl\u00f6n v\u00e1lasszuk a Date kateg\u00f3ri\u00e1t, \u00e9s v\u00e1lasszunk ki egy szimpatikus d\u00e1tumform\u00e1tumot.</p> <p></p> </li> <li> <p>A <code>[LineTotal]</code> kifejez\u00e9sen jobb klikkelve az el\u0151bbivel anal\u00f3g m\u00f3don a Text Box Properties-t kiv\u00e1lasztva form\u00e1zzuk Number alatt Currency-k\u00e9nt az \u00f6sszeget.</p> <p></p> </li> <li> <p>A t\u00e1bl\u00e1zat fejl\u00e9c sor f\u00f6l\u00f6tti sz\u00fcrke t\u00e9glalapok sz\u00e9lei f\u00f6l\u00e9 mozgatva az egeret a szok\u00e1sos \u00e1tm\u00e9retez\u0151 kurzor ikonokkal tal\u00e1lkozhatunk. (Kb. mintha Excelben vagy Wordben pr\u00f3b\u00e1ln\u00e1nk t\u00e1bl\u00e1zatot m\u00e9retezni.) Ennek seg\u00edts\u00e9g\u00e9vel m\u00e9retezz\u00fck \u00e1t kicsit sz\u00e9lesebbre a t\u00e1bl\u00e1zatot, \u00e9s esetleg vegy\u00fck sz\u0171kebbre a Qty \u00e9s Line Total oszlopokat a t\u00f6bbihez k\u00e9pest.</p> <p>V\u00e9g\u00fcl vastag\u00edtsuk ki a fejl\u00e9c sor feliratait. Ehhez jel\u00f6lj\u00fck ki a teljes sort a bal sz\u00e9l\u00e9n tal\u00e1lhat\u00f3 sz\u00fcrke n\u00e9gyzetre kattintva, majd a fenti eszk\u00f6zt\u00e1ron kattintsunk a Bold gombra</p> <p></p> <p>Ha r\u00e1n\u00e9z\u00fcnk a Preview f\u00fclre, ilyesmit kell l\u00e1tnunk:</p> <p></p> </li> </ol> <p>BEADAND\u00d3</p> <p>Amennyiben folytatod a k\u00f6vetkez\u0151 feladattal, a k\u00e9perny\u0151k\u00e9p k\u00e9sz\u00edt\u00e9st itt kihagyhatod.</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a report el\u0151n\u00e9zet\u00e9r\u0151l a preview f\u00fcl\u00f6n. A k\u00e9pet a megold\u00e1sban <code>f1.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen a Visual Studio ablaka, \u00e9s azon bel\u00fcl a riport el\u0151n\u00e9zete l\u00e1tsz\u00f3djon. Ism\u00e9t ellen\u0151rizd, hogy a Neptun k\u00f3dod l\u00e1that\u00f3-e!</p> <p>A megv\u00e1ltozottott Visual Studio projektet (\u00e9s annak f\u00e1jljait) is t\u00f6ltsd fel.</p>"},{"location":"Lab-ReportingServices/#csoportositas-es-osszegzes-5p","title":"Csoportos\u00edt\u00e1s \u00e9s \u00f6sszegz\u00e9s (5p)","text":"<p>A riport jelenleg \u00f6mlesztve tartalmazza az adatokat. Ezek elad\u00e1si adatok, adott term\u00e9kekb\u0151l adott napon eladott mennyis\u00e9g. Rendezz\u00fck csoportokba az adatokat.</p> <ol> <li> <p>T\u00e9rj\u00fcnk vissza a Design f\u00fclre. Gy\u0151z\u0151dj\u00fcnk meg r\u00f3la, hogy a t\u00e1bl\u00e1zatunk alatt l\u00e1tjuk a Row Groups panelt \u2013 ha nem lenne ott, jobb klikkelj\u00fcnk a diz\u00e1jn fel\u00fcleten, \u00e9s a View men\u00fcben pip\u00e1ljuk ki a Grouping opci\u00f3t.</p> </li> <li> <p>A Report Data panelr\u0151l h\u00fazzuk a Date mez\u0151t a Row Groups panelre, azon bel\u00fcl is a (Details) sor f\u00f6l\u00e9.</p> <p></p> <p>A t\u00e1bl\u00e1zatunk megjelen\u00e9se a k\u00f6vetkez\u0151k\u00e9ppen fog v\u00e1ltozni:</p> <p></p> </li> <li> <p>H\u00fazzuk az Order mez\u0151t is a Row Groups panelre a Date \u00e9s a (Details) k\u00f6z\u00e9.</p> <p></p> </li> <li> <p>A csoportk\u00e9nt megadott elemeknek automatikusan l\u00e9trehozott oszlopokat a t\u00e1bl\u00e1zatban a rendszer. Mivel m\u00e1r kor\u00e1bban is felvett\u00fck \u0151ket, ez\u00e9rt most k\u00e9tszer is szerepelnek; t\u00f6r\u00f6lj\u00fck \u0151ket. A felett\u00fck tal\u00e1lhat\u00f3 sz\u00fcrke t\u00e9glalapra kattintva jel\u00f6lj\u00fck ki a jobb oldali Date \u00e9s Order oszlopokat, \u00e9s t\u00f6r\u00f6lj\u00fck ki \u0151ket (jobb kattint\u00e1s \u00e9s Delete Columns).</p> <p></p> <p>Az \u00faj Date oszlop form\u00e1tuma ezzel vissza\u00e1llt az eredeti form\u00e1tumra, de a Text Box Properties seg\u00edts\u00e9g\u00e9vel \u00fajra be tudjuk \u00e1ll\u00edtani.</p> <p>Ha most megn\u00e9zz\u00fck a Preview f\u00fclet, l\u00e1thatjuk, hogy az \u00e1ltalunk megadott szempontok szerint (\u00e9s az \u00e1ltalunk megadott sorrendben) csoportos\u00edt\u00e1sra ker\u00fclnek a riport sorai.</p> <p></p> </li> <li> <p>V\u00e1ltsunk vissza Design n\u00e9zetre. Kattintsunk jobb eg\u00e9rgombbal a <code>[LineTotal]</code> cell\u00e1ra, \u00e9s v\u00e1lasszuk az Add Total opci\u00f3t. Ezzel az egyes Order-ekhez (amik ment\u00e9n csoportos\u00edtottunk) meg fog jelenni a rendel\u00e9sek \u00f6sszege. Ehhez alapb\u00f3l nem rendel\u0151dik c\u00edmke, de be\u00edrhatunk egyet: bal gombbal kattintsunk a megfelel\u0151 \u00fcres cell\u00e1ba, \u00e9s \u00edrjuk be: \"Order Total\"</p> <p></p> </li> <li> <p>CTRL billenty\u0171t nyomva tartva kattintsunk az Order Total cell\u00e1j\u00e1ra, majd a t\u0151le jobbra lev\u0151 k\u00e9t cell\u00e1ra is, hogy kijel\u00f6lj\u00fck \u0151ket, \u00e9s a Format men\u00fcb\u0151l v\u00e1lasszunk \u00faj h\u00e1tt\u00e9rsz\u00ednt nekik.</p> <p></p> </li> <li> <p>Az eredm\u00e9nyt szok\u00e1s szerint megn\u00e9zhetj\u00fck a Preview f\u00fcl\u00f6n:</p> <p></p> </li> <li> <p>K\u00e9sz\u00edts\u00fcnk napi \u00f6sszegz\u00e9st is!</p> <ul> <li>V\u00e1ltsunk vissza Design n\u00e9zetre</li> <li>Jobb klikk az <code>[Order]</code> cell\u00e1n, v\u00e1lasszuk az Add Total &gt; After lehet\u0151s\u00e9get.</li> <li>Az <code>[Order]</code> cella alatt megjelenik egy \"Total\" felirat\u00fa cella. Kattintsunk bele, \u00e9s \u00edrjuk \u00e1t \"Daily Total\"-ra.</li> <li>V\u00e1lasszuk ki ezt a cell\u00e1t, \u00e9s mellette a m\u00e1sik h\u00e1rmat (pl. a CTRL nyomvatart\u00e1sa mellett v\u00e9gigkattintgatva \u0151ket), majd adjunk nekik valamilyen h\u00e1tt\u00e9rsz\u00ednt (Format &gt; Background color).</li> </ul> </li> <li> <p>Mivel az adatb\u00e1zisban egy naphoz nagyon sok megrendel\u00e9s is tartozhat, a Preview f\u00fcl\u00f6n ak\u00e1r 4-5 oldalt is le kell g\u00f6rgetni, mire megpillantjuk munk\u00e1nk gy\u00fcm\u00f6lcs\u00e9t:</p> </li> </ol> <p></p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a report el\u0151n\u00e9zet\u00e9r\u0151l a preview f\u00fcl\u00f6n. A k\u00e9pet a megold\u00e1sban <code>f1.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen a Visual Studio ablaka, \u00e9s azon bel\u00fcl a riport el\u0151n\u00e9zete l\u00e1tsz\u00f3djon az \u00f6sszegz\u0151 sorokkal egy\u00fctt (lapozz, ha sz\u00fcks\u00e9ges!). Ism\u00e9t ellen\u0151rizd, hogy a Neptun k\u00f3dod l\u00e1that\u00f3-e!</p> <p>A megv\u00e1ltozottott Visual Studio projektet (\u00e9s annak f\u00e1jljait) is t\u00f6ltsd fel.</p>"},{"location":"Lab-ReportingServices/#feladat-2-vizualizacio","title":"Feladat 2: Vizualiz\u00e1ci\u00f3","text":"<p>A feladat \u00f6n\u00e1ll\u00f3 munka, \u00e9s 5 pontot \u00e9r.</p> <p>A t\u00e1bl\u00e1zatos megjelen\u00edt\u00e9s r\u00e9szletesen mutatja az elad\u00e1si adatokat. Egy diagram azonban gyorsabban \u00e1ttekinthet\u0151. K\u00e9sz\u00edts\u00fcnk egy diagramot, ami az egyes term\u00e9kkateg\u00f3ri\u00e1k elad\u00e1sait mutatja.</p>"},{"location":"Lab-ReportingServices/#diagram-beszurasa","title":"Diagram besz\u00far\u00e1sa","text":"<ol> <li> <p>V\u00e1ltsunk Design n\u00e9zetre, \u00e9s h\u00fazzunk be egy Chart-ot a Toolbox-r\u00f3l a t\u00e1bl\u00e1zat mell\u00e9. Ennek hat\u00e1s\u00e1ra el\u00e9g sok\u00e1ig fog t\u00f6lteni a diagram var\u00e1zsl\u00f3, de egy id\u0151 ut\u00e1n megny\u00edlik. V\u00e1lasszuk ki az oszlopdiagram t\u00edpust.</p> </li> <li> <p>A Report Data panelr\u0151l h\u00fazzuk a LineTotal mez\u0151t a diagramra. M\u00e9g ne engedj\u00fck fel a bal eg\u00e9rgombot. Meg fog jelenni a diagram mellett a Chart Data ablak \u2013 itt a \"\u2211 values\" mez\u0151 (a feh\u00e9r t\u00e9glalap) f\u00f6l\u00e9 vigy\u00fck az egeret. Most m\u00e1r elengedhetj\u00fck.</p> <p></p> <p>Ezzel azt \u00e1ll\u00edtottuk be, hogy az elad\u00e1s \u00e9rt\u00e9kei\u00e9nek \u00f6sszeg\u00e9t szeretn\u00e9nk f\u00fcgg\u0151leges tengelynek.</p> </li> <li> <p>H\u00fazzuk a Chart data alatt a Category Groups mez\u0151be a Subcat mez\u0151t, a Series Groups-ba pedig a Date-et.</p> <p></p> <p>Ezzel azt \u00e9rj\u00fck el, hogy a v\u00edzszintes tengelyen az alkateg\u00f3ria szerint k\u00fcl\u00f6n oszlop csoportokat kapunk, \u00e9s a d\u00e1tum szerint pedig k\u00fcl\u00f6n oszlop sorozatokat.</p> </li> <li> <p>A <code>[Date]</code> feliraton jobb klikkelj\u00fcnk, \u00e9s v\u00e1lasszuk a Series Groups Properties-t. Itt nyomjuk meg a Group Expressions csoportban az fx gombot.</p> <p></p> <p>A megjelen\u0151 ablakban \u00edrjuk be: <code>=Year(Fields!Date.Value)</code></p> <p></p> <p>Ezzel a d\u00e1tum \u00e9ve szerinti oszlopokat fogunk kapni.</p> </li> <li> <p>Nyomjunk OK-t mindk\u00e9t ablakban. Miel\u0151tt megn\u00e9zn\u00e9nk a Preview-t, n\u00f6velj\u00fck meg a diagram magass\u00e1g\u00e1t b\u0151s\u00e9ggel, k\u00fcl\u00f6nben a jelmagyar\u00e1zat nem fog kif\u00e9rni:</p> <p></p> </li> <li> <p>Ha most megn\u00e9zz\u00fck a Preview-t, az egyes kateg\u00f3ri\u00e1k termelte bev\u00e9telt fogjuk l\u00e1tni, \u00e9v szerint csoportos\u00edtva:</p> <p></p> </li> </ol>"},{"location":"Lab-ReportingServices/#a-diagram-formazasa","title":"A diagram form\u00e1z\u00e1sa","text":"<p>A megjelen\u00e9s m\u00e9g nem az igazi, de ezen k\u00f6nnyen seg\u00edthet\u00fcnk.</p> <ol> <li> <p>Chart Title-re kattintva \u00edrjuk \u00e1t a diagram c\u00edm\u00e9t, pl. \"Revenue by category NEPTUN\" a saj\u00e1t Neptun k\u00f3dodat behelyettes\u00edtve.</p> </li> <li> <p>A Series Groups mez\u0151ben az <code>&lt;&lt;Expr&gt;&gt;</code> feliratra jobb klikkelve v\u00e1lasszuk ki a Series Groups Properties-t, \u00e9s itt a Label mez\u0151 mellett nyomjuk meg az fx gombot. \u00c9rt\u00e9knek adjuk meg: <code>=Year(Fields!Date.Value)</code>. Ezzel a felirat maga is csak az \u00e9vet fogja mutatni.</p> </li> <li> <p>Jobb klikkelj\u00fcnk a f\u00fcgg\u0151leges tengely c\u00edmk\u00e9in, \u00e9s v\u00e1lasszuk a Vertical Axis Properties lehet\u0151s\u00e9get.</p> <p></p> <p>Itt a Number f\u00fcl\u00f6n v\u00e1lasszuk a Currency lehet\u0151s\u00e9get, \u00e9s t\u00f6lts\u00fck ki a m\u00e1r ismert m\u00f3don:</p> <p></p> </li> <li> <p>Ha most megn\u00e9zz\u00fck a Preview f\u00fclet, m\u00e1r sz\u00e9p lesz a diagramunk (\u00e9s a Neptun k\u00f3dunk is szerepel rajta):</p> <p></p> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a report el\u0151n\u00e9zet\u00e9r\u0151l a preview f\u00fcl\u00f6n. A k\u00e9pet a megold\u00e1sban <code>f2.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen a Visual Studio ablaka, \u00e9s azon bel\u00fcl a riport el\u0151n\u00e9zete l\u00e1tsz\u00f3djon. Ellen\u0151rizd, hogy a Neptun k\u00f3dod l\u00e1that\u00f3-e a diagram c\u00edm\u00e9ben!</p> <p>A megv\u00e1ltozottott Visual Studio projektet (\u00e9s annak f\u00e1jljait) is t\u00f6ltsd fel.</p>"},{"location":"Lab-ReportingServices/#feladat-3-ertekesitoi-riport","title":"Feladat 3: \u00c9rt\u00e9kes\u00edt\u0151i riport","text":"<p>A feladat \u00f6n\u00e1ll\u00f3 munka, \u00e9s 5 pontot \u00e9r.</p> <p>Ebben a feladatban az \u00e9rt\u00e9kes\u00edt\u0151kr\u0151l fogunk riportot k\u00e9sz\u00edteni.</p>"},{"location":"Lab-ReportingServices/#data-set-kiegeszitese","title":"Data set kieg\u00e9sz\u00edt\u00e9se","text":"<p>Az \u00faj riporthoz \u00faj adatokra lesz sz\u00fcks\u00e9g\u00fcnk. B\u0151v\u00edts\u00fck ki a lek\u00e9rdez\u00e9s\u00fcnket, azaz a dataset-et.</p> <ol> <li> <p>A Report Data panelen a DataSets alatt az AdventureWorksDataset-en jobb kattint\u00e1ssal v\u00e1lasszuk a Dataset properties-t, majd b\u0151v\u00edts\u00fck a query-t:</p> <pre><code>SELECT\nsoh.OrderDate AS [Date],\nsoh.SalesOrderNumber AS [Order],\npps.Name AS Subcat, pp.Name as Product,\nSUM(sd.OrderQty) AS Qty,\nSUM(sd.LineTotal) AS LineTotal\n, CONCAT(pepe.FirstName, ' ', pepe.LastName) AS SalesPersonName\nFROM Sales.SalesPerson sp\nINNER JOIN Person.Person as pepe ON sp.BusinessEntityID = pepe.BusinessEntityID\nINNER JOIN Sales.SalesOrderHeader AS soh ON sp.BusinessEntityID = soh.SalesPersonID\nINNER JOIN Sales.SalesOrderDetail AS sd ON sd.SalesOrderID = soh.SalesOrderID\nINNER JOIN Production.Product AS pp ON sd.ProductID = pp.ProductID\nINNER JOIN Production.ProductSubcategory AS pps ON pp.ProductSubcategoryID = pps.ProductSubcategoryID\nINNER JOIN Production.ProductCategory AS ppc ON ppc.ProductCategoryID = pps.ProductCategoryID\nGROUP BY ppc.Name, soh.OrderDate, soh.SalesOrderNumber,\npps.Name, pp.Name, soh.SalesPersonID\n, pepe.FirstName, pepe.LastName\nHAVING ppc.Name = 'Clothing'\n</code></pre> <p>A Refresh Fields gombra kattintva ellen\u0151rizhetj\u00fck, siker\u00fclt-e j\u00f3l be\u00edrnunk. Ha nem j\u00f6n hiba\u00fczenet, akkor j\u00f3k vagyunk. Z\u00e1rjuk be a szerkeszt\u0151 ablakot.</p> </li> <li> <p>A Report data ablakban az AdventureWorksDataset-et nyissuk ki, vagy ha ki van nyitva, akkor csukjuk be \u00e9s nyissuk ki \u00fajra. Ekkor meg kell jelenjen egy \u00faj SalesPersonName mez\u0151.</p> </li> <li> <p>Ezut\u00e1n jobb klikk a Data Sources-ben az AdventureWorks2014-re &gt; Convert to shared Data Source, majd jobb klikk az AdventureWorksDataset-re &gt; Convert to shared Dataset. Ezzel a data source \u00e9s a dataset is megoszthat\u00f3 t\u00f6bb riport f\u00e1jl k\u00f6z\u00f6tt.</p> </li> </ol>"},{"location":"Lab-ReportingServices/#uj-riport-es-adatforrasok","title":"\u00daj riport \u00e9s adatforr\u00e1sok","text":"<p>Az el\u0151bb megosztott\u00e1 konvert\u00e1ltuk a data source-t \u00e9s dataset-et. Ezeket fogjuk egy \u00faj riportban felhaszn\u00e1lni.</p> <ol> <li> <p>Solution Explorer-ben jobb klikk a Reports mapp\u00e1ra &gt; Add new item &gt; Report. Az \u00faj riport neve legyen \"Sales People\".</p> </li> <li> <p>Nyissuk meg az \u00faj riportot. Az \u00faj riporthoz m\u00e9g nincsenek adatforr\u00e1sok. A Report Data panelen vegy\u00fck fel a m\u00e1r meglev\u0151 adatforr\u00e1sokat:</p> <ul> <li> <p>Jobb klikk a Data Sources node-on &gt; Add Data Source</p> </li> <li> <p>V\u00e1lasszuk a Use shared data source reference opci\u00f3t, \u00e9s v\u00e1lasszuk ki az \"AdventureWorks2014\" nev\u0171t.</p> <p></p> </li> <li> <p>Jobb klikk a Datasets-en &gt; Add Dataset</p> </li> <li> <p>V\u00e1lasszuk ki a Use a shared dataset opci\u00f3t, \u00e9s alatta v\u00e1lasszuk ki a m\u00e1r l\u00e9tez\u0151 AdventureWorksDataset-et</p> <p></p> </li> </ul> </li> </ol>"},{"location":"Lab-ReportingServices/#riport-tartalma","title":"Riport tartalma","text":"<p>K\u00e9sz\u00edts t\u00e1bl\u00e1zatos riportot arr\u00f3l, hogy az egyes \u00e9rt\u00e9kes\u00edt\u0151k mikor, mit adtak el. Csoportos\u00edts term\u00e9k kateg\u00f3ria \u00e9s \u00e9rt\u00e9kes\u00edt\u0151 szerint. K\u00e9sz\u00edts \u00f6sszegz\u0151 sort, ami az egyes \u00e9rt\u00e9kes\u00edt\u0151k mindenkori elad\u00e1sait \u00f6sszegzi! \u00dcgyelj a sz\u00e1m\u00e9rt\u00e9kek form\u00e1z\u00e1s\u00e1ra!</p> <p>A megold\u00e1s kulcsa az al\u00e1bbi t\u00e1bl\u00e1zat \u00e9s csoportos\u00edt\u00e1s \u00f6ssze\u00e1ll\u00edt\u00e1sa. A kateg\u00f3ri\u00e1t a Subcat mez\u0151 tartalmazza.</p> <p></p> <p>Az al\u00e1bbihoz hasonl\u00f3 legyen a v\u00e9gs\u0151 riport:</p> <p></p> <p>Tipp</p> <p>Ugyan\u00fagy az Add Total &gt; After funkci\u00f3t kell haszn\u00e1lni, mint a k\u00f6z\u00f6s feladatokn\u00e1l. Amit itt el lehet rontani, hogy az Add Total &gt; After-t nem a <code>[SalesPersonName]</code>-en jobb klikkelve kell kiv\u00e1lasztani, hanem a <code>[Subcat]</code>-en jobbklikkelve \u2013 hiszen \u0151ket akarjuk \u00f6sszegezni, nem a Sales Person sorokat. (Ha a SalesPersonName-re kattintva csin\u00e1ljuk, abb\u00f3l \"teljes \u00f6sszeg\" lesz, hiszen minden \u00e9rt\u00e9kes\u00edt\u0151t \u00f6sszegz\u00fcnk.)</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a report el\u0151n\u00e9zet\u00e9r\u0151l a preview f\u00fcl\u00f6n. A k\u00e9pet a megold\u00e1sban <code>f3.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen a Visual Studio ablaka, \u00e9s azon bel\u00fcl a riport el\u0151n\u00e9zete l\u00e1tsz\u00f3djon. Ellen\u0151rizd, hogy a Neptun k\u00f3dod l\u00e1that\u00f3-e t\u00e1bl\u00e1zatban!</p> <p>A megv\u00e1ltozottott Visual Studio projektet (\u00e9s annak f\u00e1jljait) is t\u00f6ltsd fel.</p>"},{"location":"Lab-ReportingServices/#feladat-4-opcionalis-feladat","title":"Feladat 4: Opcion\u00e1lis feladat","text":"<p>A feladat megold\u00e1s\u00e1val 3 iMsc pont szerezhet\u0151.</p> <p>K\u00e9sz\u00edts tortadiagramot az egyes \u00e9rt\u00e9kes\u00edt\u0151k teljes\u00edtm\u00e9ny\u00e9nek \u00f6sszehasonl\u00edt\u00e1s\u00e1ra, a hozz\u00e1juk tartoz\u00f3 \u00f6sszbev\u00e9tel szerint! A diagram c\u00edm\u00e9be \u00edrd bele a Neptun k\u00f3dod! A c\u00e9l az al\u00e1bbi, vagy legal\u00e1bbis ehhez hasonl\u00edt\u00f3 grafikon elk\u00e9sz\u00edt\u00e9se.</p> <p></p> <p>Tipp</p> <p>A tortadiagram haszn\u00e1lata nagyon hasonl\u00f3 az oszlopdiagram\u00e9hoz. A l\u00e9nyeg, hogy a \u2211 Values mez\u0151be a LineTotal-t, a Category Groups-ba a SalesPersonName-et h\u00fazzuk. (A Series Groups ez\u00fattal \u00fcres.)</p> <p>\u00dcgyelj arra is, hogy a megfelel\u0151 nevek jelenjenek meg a jelmagyar\u00e1zatban. A diagram magass\u00e1g\u00e1t val\u00f3sz\u00edn\u0171leg n\u00f6velni kell, hogy a teljes jelmagyar\u00e1zat kif\u00e9rjen.</p> <p></p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet a report el\u0151n\u00e9zet\u00e9r\u0151l a preview f\u00fcl\u00f6n. A k\u00e9pet a megold\u00e1sban <code>f4.png</code> n\u00e9ven add be. A k\u00e9perny\u0151k\u00e9pen a Visual Studio ablaka, \u00e9s azon bel\u00fcl a riport el\u0151n\u00e9zete l\u00e1tsz\u00f3djon. Ellen\u0151rizd, hogy a Neptun k\u00f3dod l\u00e1that\u00f3-e a diagram c\u00edm\u00e9ben!</p> <p>A megv\u00e1ltozottott Visual Studio projektet (\u00e9s annak f\u00e1jljait) is t\u00f6ltsd fel.</p>"},{"location":"laborvezetoknek/","title":"Laborvezet\u0151knek","text":"<p>Laborvezet\u0151/demonstr\u00e1tor lenn\u00e9l? Az al\u00e1bbiakat \u00e9rdemes tudnod.</p>"},{"location":"laborvezetoknek/#laborvezeto-feladatai","title":"Laborvezet\u0151 feladatai","text":"<p>A laborvezet\u0151 a t\u00e1rgy oktat\u00e1s\u00e1ban seg\u00edt a laborok megtart\u00e1sa \u00e9s a sz\u00e1monk\u00e9r\u00e9sek sor\u00e1n. A feladat 2022 tavasszal az al\u00e1bbiakb\u00f3l \u00e1ll.</p> <p>F\u00e9l\u00e9v sor\u00e1n \u00f6sszesen 4-6 darab labor szem\u00e9lyes megtart\u00e1sa. Ez a sz\u00e1m 2 vagy 3 labor csoportot jelent heti v\u00e1lt\u00e1sban. Ez a szem\u00e9lyes labor fix \u00f3rarendi id\u0151ben van, 4*45 perces, \u00e9s sz\u00e1m\u00edt\u00f3g\u00e9p laborban tartjuk. A szem\u00e9lyes laborok r\u00e9szben vezetettek kiadott seg\u00e9dlet alapj\u00e1n, r\u00e9szben pedig hallgat\u00f3i \u00f6n\u00e1ll\u00f3 munk\u00e1b\u00f3l \u00e1llnak. A laborvezet\u0151 feladata a laborra val\u00f3 felk\u00e9sz\u00fcl\u00e9s, a labor megtart\u00e1sa, ennek sor\u00e1n a sz\u00fcks\u00e9ges h\u00e1tt\u00e9rismeretek r\u00f6vid \u00e1tism\u00e9tl\u00e9se, \u00e9s a hallgat\u00f3k seg\u00edt\u00e9se a labor sor\u00e1n.</p> <p>2022 tavaszi f\u00e9l\u00e9v sor\u00e1n a laborok \u00f3rarendi id\u0151pontjai:</p> <ul> <li>h\u00e9tf\u0151 14:15-18:00</li> <li>szerda 08:15-12:00</li> <li>szerda 14:15-18:00</li> <li>cs\u00fct\u00f6rt\u00f6k 14:15-18:00</li> </ul> <p>Otthon teljes\u00edtett laborok sor\u00e1n seg\u00edts\u00e9gny\u00fajt\u00e1s. A szem\u00e9lyes laborok mellett csoportonk\u00e9nt van 3 darab otthon elv\u00e9gzett labor, amit a hallgat\u00f3k h\u00e1zi feladatk\u00e9nt \u00f6n\u00e1ll\u00f3an teljes\u00edtenek egy-egy k\u00e9thetes id\u0151ablakon bel\u00fcl. Ennek sor\u00e1n, ha sz\u00fcks\u00e9ges, a laborvezet\u0151 seg\u00edts\u00e9get ny\u00fajt a hallgat\u00f3knak k\u00e9rd\u00e9s \u00e9s probl\u00e9ma eset\u00e9n.</p> <p>Labor feladatok \u00e9rt\u00e9kel\u00e9se. A f\u00e9l\u00e9v sor\u00e1n csoportonk\u00e9nt \u00f6sszesen 5 labor van, mindegyiket jeggyel \u00e9rt\u00e9kelj\u00fck - azt is, amit szem\u00e9lyesen egyetemi laborban k\u00e9sz\u00edt a hallgat\u00f3, \u00e9s az otthon teljes\u00edtetteket is. A laborok bead\u00e1sa GitHub pull request-ek form\u00e1j\u00e1ban t\u00f6rt\u00e9nik. A laborok ki\u00e9rt\u00e9kel\u00e9se r\u00e9szben automatikusan t\u00f6rt\u00e9nik: egy szoftver lefuttatja \u00e9s ellen\u0151rzi a beadott munk\u00e1t, ahol ez lehets\u00e9ges. A laborvezet\u0151 feladata a beadott h\u00e1zi feladat formai ellen\u0151rz\u00e9se: k\u00e9rt k\u00e9perny\u0151k\u00e9pek megfelelnek-e az el\u0151\u00edr\u00e1soknak \u00e9s konzisztensek-e a beadott forr\u00e1sk\u00f3ddal.</p>"},{"location":"laborvezetoknek/#demonstratorsag","title":"Demonstr\u00e1tors\u00e1g","text":"<p>Hallgat\u00f3 vagy de szeretn\u00e9l bekapcsol\u00f3dni az oktat\u00e1sba? Szeretn\u00e9d kipr\u00f3b\u00e1lni magad laborvezet\u0151k\u00e9nt? Szeretsz magyar\u00e1zni? Elv\u00e9gezted ezt a t\u00e1rgyat \u00f6t\u00f6ssel? V\u00e1runk demonstr\u00e1tork\u00e9nt!</p> <p>A TVSZ p\u00e1r k\u00f6vetelm\u00e9nyt szab demonstr\u00e1toroknak: (l\u00e1sd aktu\u00e1lis TVSZ 165.\u00a7):</p> <p>(5) A demonstr\u00e1tori p\u00e1ly\u00e1zat beny\u00fajt\u00e1s\u00e1nak felt\u00e9tele, hogy a p\u00e1ly\u00e1z\u00f3</p> <p>a) a demonstr\u00e1tori jogviszonnyal \u00e9rintett f\u00e9l\u00e9vben rendelkezzen akt\u00edv hallgat\u00f3i jogviszonnyal;</p> <p>b) rendelkezzen alapk\u00e9pz\u00e9sben vagy osztatlan k\u00e9pz\u00e9sben szerzett oklev\u00e9llel;</p> <p>c) alapk\u00e9pz\u00e9sben vagy osztatlan k\u00e9pz\u00e9sben szerzett oklev\u00e9l hi\u00e1ny\u00e1ban rendelkezzen legal\u00e1bb annyiszor huszon\u00f6t teljes\u00edtett kredittel, ah\u00e1ny lez\u00e1rt akt\u00edv f\u00e9l\u00e9ve van \u00e9s halmozott s\u00falyozott tanulm\u00e1nyi \u00e1tlageredm\u00e9nye haladja meg a 3,50 \u00e9rt\u00e9ket; \u00e9s</p> <p>d) ne \u00e1lljon fegyelmi b\u00fcntet\u00e9s hat\u00e1lya alatt.</p> <p>Ha \u00e9rdekel a lehet\u0151s\u00e9g, megfelelsz a fenti k\u00f6vetelm\u00e9nyeknek, \u00e9s az \u00f3rarendedbe belef\u00e9r a labor (l\u00e1sd az id\u0151pontokat fentebb), keresd a t\u00e1rgyfelel\u0151st.</p>"},{"location":"laborvezetoknek/#tudnivalok-a-laborok-megtartasahoz","title":"Tudnival\u00f3k a laborok megtart\u00e1s\u00e1hoz","text":"<p>A t\u00e1rgy alapk\u00e9pz\u00e9s (BSc) 6. f\u00e9l\u00e9v\u00e9ben specializ\u00e1ci\u00f3s t\u00e1rgy. Ezt azt jelenti, hogy a hallgat\u00f3k szoftverfejleszt\u00e9si alapismeretekkel \u00e9s adatb\u00e1zis alapismeretekkel rendelkeznek, valamint a megel\u0151z\u0151 f\u00e9l\u00e9vben teljes\u00edtett\u00e9k az Adatvez\u00e9relt rendszerek c. t\u00e1rgyat, amelynek jelen t\u00e1rgy a laborja. A t\u00e1rgyunk c\u00e9lja a tud\u00e1s elm\u00e9ly\u00edt\u00e9se \u00e9s az \u00f6n\u00e1ll\u00f3 munka gyakorl\u00e1sa. A laborok sor\u00e1n -egy kiv\u00e9telt\u0151l eltekintve- m\u00e1r ismert technol\u00f3gi\u00e1kkal foglalkozunk.</p>"},{"location":"laborvezetoknek/#oktatas-modja","title":"Oktat\u00e1s m\u00f3dja","text":"<p>K\u00e9t f\u00e9le labor van: szem\u00e9lyes \u00e9s otthoni. A szem\u00e9lyes laborokon elv\u00e1rt a r\u00e9szv\u00e9tel, de ezt is be lehet fejezni otthon. Minden laboron t\u00f6bbs\u00e9g\u00e9ben \u00f6n\u00e1ll\u00f3 munk\u00e1t v\u00e1runk el, \u00e9s az elv\u00e9gzett munka oszt\u00e1lyz\u00e1sra ker\u00fcl. A laborok anyaga jel\u00f6li, mi a k\u00f6z\u00f6s munka. A laborvezet\u0151 seg\u00edt elindulni a feladatokkal, \u00e1tbesz\u00e9lve a k\u00f6z\u00f6s feladatokat, majd a hallgat\u00f3k ut\u00e1na \u00f6n\u00e1ll\u00f3an dolgoznak. Mivel a labor feladatok megold\u00e1s\u00e1ra jegyet adunk, elv\u00e1rjuk a hallgat\u00f3t\u00f3l az \u00f6n\u00e1ll\u00f3 munkav\u00e9gz\u00e9st.</p>"},{"location":"laborvezetoknek/#adminisztrativ-tudnivalok","title":"Adminisztrat\u00edv tudnival\u00f3k","text":"<ul> <li>A szem\u00e9lyes laborokat \u00f3ra 15-kor kezdj\u00fck pontosan \u00e9s a 4*45 percet egyben, sz\u00fcnet n\u00e9lk\u00fcl tartjuk. A k\u00e9s\u0151 hallgat\u00f3kat els\u0151 alkalommal figyelmeztess\u00fck. Ha t\u00f6bbsz\u00f6r el\u0151fordul vagy zavar\u00f3an sokat k\u00e9sik (&gt;5 perc), akkor k\u00fcldj\u00e9tek el (TVSZ erre jogot ad!).</li> <li>A labor teljes\u00edt\u00e9s\u00e9nek adminisztr\u00e1l\u00e1sa Moodle-ben t\u00f6rt\u00e9nik. Szem\u00e9lyes labor eset\u00e9n a teljes\u00edt\u00e9s a laboron val\u00f3 megjelen\u00e9st, \u00e9s a munka veletek t\u00f6rt\u00e9n\u0151 elv\u00e9gz\u00e9s\u00e9t jelenti, majd a v\u00e9gs\u0151 munka bead\u00e1s\u00e1t. Otthoni labor eset\u00e9n csak a bead\u00e1s el\u00e9g. (Teh\u00e1t szem\u00e9lyes labor eset\u00e9n a hallgat\u00f3 nem s\u00e9t\u00e1lhat ki a labor k\u00f6zep\u00e9n \u00e9s nem foglalkozhat m\u00e1ssal, csak a laborral. Eseti probl\u00e9m\u00e1kat az\u00e9rt kezelj\u00fcnk le, pl. ZH-ja van m\u00e1shol, stb. Egy-egy kiv\u00e9tel belef\u00e9r.) \u00c9rdemes a jelenl\u00e9tet a labor elej\u00e9n k\u00f6nyvelni.</li> <li>Ha az \u00f3r\u00e1n t\u00f6bb ember jelenne meg, mint ah\u00e1ny g\u00e9p van (hi\u00e1nyz\u00e1s p\u00f3tl\u00e1sa pl.), vagy egy g\u00e9p nem m\u0171k\u00f6dik, akkor akinek nem jut hely, le\u00fcl valaki mell\u00e9.</li> <li>A csoportok k\u00f6z\u00f6tt nincs ad-hoc \u00e1tj\u00e1r\u00e1s. Ha valaki jelzi, hogy nem tud r\u00e9szt venni egy laboron, akkor el\u0151re/ut\u00f3lag/ugyanazon a h\u00e9ten egy m\u00e1sik csoportban p\u00f3tolhat (ha van r\u00e1 m\u00f3d). Ennek a megszervez\u00e9s\u00e9t alapvet\u0151en a hallgat\u00f3 bonyol\u00edtsa (n\u00e9zze meg, mikor van m\u00e9g labor azonos anyagb\u00f3l, \u00e9s egyeztessen a t\u00e1rgyfelel\u0151ssel, vagy a laborvezet\u0151kkel), de seg\u00edts\u00fck, ha kell.</li> </ul>"},{"location":"laborvezetoknek/#anyagok-elerhetosege","title":"Anyagok el\u00e9rhet\u0151s\u00e9ge","text":"<ul> <li>A t\u00e1rgy minden anyaga ezen az oldalon \u00e9rhet\u0151 el. Ha hib\u00e1t, elg\u00e9pel\u00e9st tal\u00e1lsz benne, arra k\u00e9r\u00fcnk, hogy jav\u00edtsd: minden anyag jobb fels\u0151 sark\u00e1ban van egy kis ceruza ikon, jav\u00edtsd a hib\u00e1t, \u00e9s k\u00fcldj PR-t.</li> </ul>"},{"location":"laborvezetoknek/#belepesek","title":"Bel\u00e9p\u00e9sek","text":"<p>A labor termekhez kulcsra \u00e9s/vagy k\u00e1rty\u00e1ra van sz\u00fcks\u00e9g. Ezeket a titk\u00e1rs\u00e1gon (QB207) kell k\u00e9rni. I \u00e9p\u00fclethez kell a teremkulcs, ill. a folyos\u00f3hoz sz\u00fcks\u00e9g van k\u00e1rty\u00e1ra is (kiv\u00e9ve, akinek van ilyenje). Q \u00e9p\u00fclet laborjaihoz hozz\u00e1f\u00e9r\u00e9st k\u00fcl\u00f6n szervezz\u00fck. Demonstr\u00e1torok: mindezt megmutatom els\u0151 alkalommal.</p> <p>G\u00e9pekre: emailben k\u00fcld\u00f6m f\u00e9l\u00e9v elej\u00e9n. Kis- \u00e9s nagybet\u0171 sz\u00e1m\u00edt! P\u00e1r elg\u00e9pel\u00e9s ut\u00e1n le lesz tiltva az account!</p> <p>MS SQL szerver: localdb: nincs jelsz\u00f3, Windows Authentication-t haszn\u00e1ljunk</p>"},{"location":"laborvezetoknek/#beadott-labor-megoldas-ertekelese","title":"Beadott labor megold\u00e1s \u00e9rt\u00e9kel\u00e9se","text":"<p>A laborok megold\u00e1s\u00e1t adott hat\u00e1rid\u0151ig kell beadni GitHub-on. Ennek pontos menete a hallgat\u00f3 szemsz\u00f6g\u00e9b\u0151l itt elolvashat\u00f3.</p> <p>Ahhoz, hogy hozz\u00e1f\u00e9rj a GitHub-on a beadott megold\u00e1sokhoz (\u00e9s ahhoz, hogy a hallgat\u00f3k ezt hozz\u00e1d tudj\u00e1k rendelni), kell egy GitHub account. A GitHub nevedet \u00edrd meg a t\u00e1rgyfelel\u0151snek, \u00e9s felvesz GitHub-on a https://www.github.com/bmeviauac01 organization-be.</p>"},{"location":"laborvezetoknek/#mikor-kell-ertekelni-a-labort","title":"Mikor kell \u00e9rt\u00e9kelni a labort?","text":"<p>A laborokat a hat\u00e1rid\u0151 lej\u00e1rta ut\u00e1n kell \u00e9rt\u00e9kelni. A hat\u00e1rid\u0151 el\u0151tt a megold\u00e1sokra nem kell r\u00e1n\u00e9zni, kiv\u00e9ve, ha ezt a hallgat\u00f3 k\u00e9ri. K\u00e9rd\u00e9ssel a hallgat\u00f3 direktben kell megkeressen (pl. emailben vagy GitHub-on).</p>"},{"location":"laborvezetoknek/#hol-kell-ertekelni-a-labort","title":"Hol kell \u00e9rt\u00e9kelni a labort?","text":"<p>A hat\u00e1rid\u0151 lej\u00e1rta ut\u00e1n a feladatod a hozz\u00e1d rendelt pull request-ek \u00e9rt\u00e9kel\u00e9se. A hallgat\u00f3 azzal adja be a labort, hogy a pull request-et a laborvezet\u0151j\u00e9hez rendeli. Ezeket a GitHub keres\u0151j\u00e9vel a legegyszer\u0171bb megtal\u00e1lni: https://github.com/pulls?q=is%3Aopen+is%3Apr+org%3Abmeviauac01+assignee%3A%40me+.</p> <p>Alternat\u00edvak\u00e9nt a GitHub \u00e9rtes\u00edt\u0151 fel\u00fclet\u00e9t is lehet haszn\u00e1lni a https://github.com/notifications c\u00edmen, itt minden hozz\u00e1d rendelt, vagy review-ra v\u00e1r\u00f3 PR megjelenik.</p>"},{"location":"laborvezetoknek/#hogyan-kell-ertekelni-a-labort","title":"Hogyan kell \u00e9rt\u00e9kelni a labort?","text":"<p>A PR-eket egyes\u00e9vel kell megnyitni, \u00e9s meg kell n\u00e9zni a PR komment fel\u00fclet\u00e9n az eredm\u00e9nyt. Itt l\u00e1that\u00f3 lesz a lefuttatott \u00e9rt\u00e9kel\u00e9s eredm\u00e9nye, valamint a k\u00e9perny\u0151k\u00e9pek. Emellett meg kell n\u00e9zni a forr\u00e1sk\u00f3dot is.</p> <p></p> <p>Automatikus \u00e9rt\u00e9kel\u00e9s eset\u00e9n (ami nem minden laborn\u00e1l van) a forr\u00e1sk\u00f3dot nem sz\u00fcks\u00e9ges bet\u0171r\u0151l bet\u0171re megn\u00e9zni - a r\u00e9szletes ellen\u0151rz\u00e9st elv\u00e9gzi az automata. A laborvezet\u0151 feladata a k\u00e9perny\u0151k\u00e9pek ellen\u0151rz\u00e9se, valamint annak eld\u00f6nt\u00e9se, hogy a forr\u00e1sk\u00f3d konzisztens-e a kapott eredm\u00e9nnyel, \u00e9s nincs-e benne olyan k\u00f3dr\u00e9szlet, amely ugyan m\u0171k\u00f6dik, de kifezetetten rosszul oldja meg a probl\u00e9m\u00e1t. Amely laborn\u00e1l nincs automata \u00e9rt\u00e9kel\u00e9s, ott t\u00f6bb munka h\u00e1rul a laborvezet\u0151re, alaposabban meg kell n\u00e9zni a megold\u00e1st.</p> <p>A konkr\u00e9t laborok \u00e9s \u00e9rt\u00e9kel\u00e9s\u00fck:</p> <ul> <li>Reporting services: k\u00e9perny\u0151k\u00e9pek alapj\u00e1n kell ki\u00e9rt\u00e9kelni a megold\u00e1st, diszkrepancia eset\u00e9n meg lehet n\u00e9zni a Report Server Visual Studio projektet is</li> <li>Lek\u00e9rdez\u00e9s optimaliz\u00e1l\u00e1s: sz\u00f6veges magyar\u00e1zatot \u00e9s k\u00e9peket k\u00e9r\u00fcnk markdown fogm\u00e1j\u00e1ban, \u00e9rt\u00e9kelni kell feladatonk\u00e9nt a helyes magyar\u00e1zatot</li> <li>MSSQL: van automata \u00e9rt\u00e9kel\u00e9s, a k\u00f3dot r\u00e1n\u00e9z\u00e9sre kell ellen\u0151rizni (nincs-e benne pl. be\u00e9getett eredm\u00e9ny val\u00f3s megold\u00e1s helyett, vagy nem nagyon hat\u00e9konytalan-e), valamint a k\u00e9pek \u00e9s a k\u00f3d konzisztenci\u00e1j\u00e1t kell ellen\u0151rizni</li> <li>MongoDB: u.a.</li> <li>REST &amp; Entity Framework: u.a.</li> </ul> <p>A feladatok minta megold\u00e1sa itt \u00e9rhet\u0151 el: https://github.com/bmeviauac01?q=labor-megoldas. Ezek csak lehets\u00e9ges megold\u00e1sok, a hallgat\u00f3 megold\u00e1sa nem kell ezzel egyezzen.</p> <p>Az \u00e9rt\u00e9kel\u00e9s v\u00e9gezt\u00e9vel:</p> <ul> <li>Ha az automata \u00e9rt\u00e9kel\u00e9s hely\u00e9nval\u00f3 volt, akkor le kell z\u00e1rni a PR-t a <code>/ahk ok</code> parancs be\u00edr\u00e1s\u00e1val egy kommentbe. Ennek hat\u00e1s\u00e1ra a PR j\u00f3v\u00e1hagy\u00e1sra ker\u00fcl \u00e9s merge-elve lesz.</li> <li>Ha az automata \u00e9rt\u00e9kel\u00e9st fel\u00fclb\u00edr\u00e1lod pontsz\u00e1mban, akkor a <code>/ahk ok 20 3</code> parancsot kell kiadni, ahol is az els\u0151 sz\u00e1m az \u00f6sszes nem iMSc feladatra kapott pontsz\u00e1m \u00f6sszege, a m\u00e1sodik sz\u00e1m pedig az iMsc feladatra kapott pontsz\u00e1m. Az ut\u00f3bbi sz\u00e1m elhagyhat\u00f3, ha nincs megoldva az iMsc feladat.</li> <li>Ha nincs automata \u00e9rt\u00e9kel\u00e9s, akkor az el\u0151bbi szintaktika szerint ki kell adni a <code>/ahk ok 20 3</code> parancsot a megfelel\u0151 pontsz\u00e1mokkal.</li> <li>Ha a beadott megold\u00e1s nem fogadhat\u00f3 el (hat\u00e1rid\u0151n t\u00fal \u00e9rkezett, a k\u00e9pek nem t\u00e1masztj\u00e1k al\u00e1 a megold\u00e1st, a forr\u00e1sk\u00f3d elfogadhatatlan, stb.), akkor ki kell adni a <code>/ahk ok 0 0</code> parancsot. Ezzel fogjuk r\u00f6gz\u00edteni, hogy az automata \u00e9rt\u00e9kel\u0151 \u00e1ltal adott pontsz\u00e1mokat fel\u00fcl\u00edrjuk.</li> </ul> <p>A fenti parancs egy kommentben tetsz\u0151leges helyen szerepelhet, amennyiben egy sorban csak ez a parancs szerepel. \u00cdrhatunk teh\u00e1t a hallgat\u00f3nak megjegyz\u00e9st, majd utols\u00f3 sorba \u00edrjuk ezt a parancsot. \u00c9rdemes a hallgat\u00f3nak legal\u00e1bb egy mondatot \u00edrni, hogy l\u00e1ssa, elfogadtuk a megold\u00e1st. Ha m\u00e9g sincs megjegyz\u00e9s\u00fcnk a hallgat\u00f3 fel\u00e9, akkor csak egysoros komment kell ezzel a paranccsal.</p> <p></p> <p>A parancs t\u00f6bbsz\u00f6r is kiadhat\u00f3, teh\u00e1t elrontott pontsz\u00e1mot lehet jav\u00edtani az \u00fajb\u00f3li kiad\u00e1ssal.</p> <p>A parancs hat\u00e1s\u00e1t l\u00e1tjuk is ut\u00e1na PR-ben:</p> <ul> <li>a kommentre a parancs felismer\u00e9s\u00e9nek meger\u0151s\u00edt\u00e9s\u00e9re \u00e9rkezik egy reakci\u00f3,</li> <li>a PR v\u00e1ltoztat\u00e1sai j\u00f3v\u00e1hagy\u00e1sra ker\u00fclnek (ez sz\u00fcks\u00e9ges a mergel\u00e9shez a protected branch miatt),</li> <li>a a PR mergel\u00e9sre ker\u00fcl - ezzel lez\u00e1rt \u00e1llapotba ker\u00fcl a PR \u00e9s \u00edgy elt\u0171nik a teend\u0151k list\u00e1j\u00e1r\u00f3l,</li> <li>\u00e9s v\u00e9g\u00fcl elment\u00e9sre ker\u00fcl az eredm\u00e9ny a h\u00e1tt\u00e9rben - ezt m\u00e1r k\u00f6zvetlen\u00fcl nem l\u00e1tjuk.</li> </ul> <p></p>"},{"location":"laborvezetoknek/#problemak-es-megoldasuk","title":"Probl\u00e9m\u00e1k \u00e9s megold\u00e1suk","text":"<p>Nem futott le az automata \u00e9rt\u00e9kel\u00e9s.</p> <ul> <li>Lehet, hogy a hallgat\u00f3 draft m\u00f3dban hagyta a PR-t, ezt vissza kell \u00e1ll\u00edtani. A PR alj\u00e1n megjelenik ilyenkor egy Ready for review gomb.</li> <li>Ha sikertelen volt a ki\u00e9rt\u00e9kel\u00e9s, meg lehet ism\u00e9telni. Ez seg\u00edt a tranziens hib\u00e1kon (ritka eset). Ehhez tegy\u00e9l egy eval nev\u0171 labelt-t a PR-re (\u00faj label-k\u00e9nt kell l\u00e9trehozni).</li> </ul> <p>T\u00f6bb, mint 5-sz\u00f6r futott a ki\u00e9rt\u00e9kel\u00e9s. Ezt pontlevon\u00e1ssal szankcion\u00e1ljuk. Els\u0151 alkalommal eltekinthet\u00fcnk t\u0151le, de mindenk\u00e9ppen t\u00e1j\u00e9koztassuk a hallgat\u00f3t.</p> <p>Hiba van a ki\u00e9rt\u00e9kel\u0151 alkalmaz\u00e1sban. El\u0151fordulhat. Keresd a t\u00e1rgyfelel\u0151st, vagy jav\u00edtsd a hib\u00e1t (a ki\u00e9rt\u00e9kel\u0151 programok itt vannak: https://github.com/bmeviauac01/laborok-ahk/).</p>"}]}